const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-olkKTCo9.js","assets/webworkerAll-DzoaPOB8.js","assets/colorToUniform-BkoA3p22.js","assets/WebGPURenderer-CWlFqKzN.js","assets/SharedSystems-EFJCo9qC.js","assets/WebGLRenderer-CHNWgI1B.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function by(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Bc={exports:{}},Ia={};var qm;function Tv(){if(qm)return Ia;qm=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:a,type:s,key:c,ref:l!==void 0?l:null,props:u}}return Ia.Fragment=t,Ia.jsx=i,Ia.jsxs=i,Ia}var Fm;function Mv(){return Fm||(Fm=1,Bc.exports=Tv()),Bc.exports}var N=Mv(),zc={exports:{}},ot={};var Im;function Cv(){if(Im)return ot;Im=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function _(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function w(B,X,Q){this.props=B,this.context=X,this.refs=S,this.updater=Q||b}w.prototype.isReactComponent={},w.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},w.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=w.prototype;function C(B,X,Q){this.props=B,this.context=X,this.refs=S,this.updater=Q||b}var z=C.prototype=new M;z.constructor=C,A(z,w.prototype),z.isPureReactComponent=!0;var I=Array.isArray;function j(){}var L={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function F(B,X,Q){var $=Q.ref;return{$$typeof:a,type:B,key:X,ref:$!==void 0?$:null,props:Q}}function W(B,X){return F(B.type,X,B.props)}function K(B){return typeof B=="object"&&B!==null&&B.$$typeof===a}function ut(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Q){return X[Q]})}var mt=/\/+/g;function dt(B,X){return typeof B=="object"&&B!==null&&B.key!=null?ut(""+B.key):X.toString(36)}function $t(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(j,j):(B.status="pending",B.then(function(X){B.status==="pending"&&(B.status="fulfilled",B.value=X)},function(X){B.status==="pending"&&(B.status="rejected",B.reason=X)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function O(B,X,Q,$,lt){var ct=typeof B;(ct==="undefined"||ct==="boolean")&&(B=null);var Tt=!1;if(B===null)Tt=!0;else switch(ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(B.$$typeof){case a:case t:Tt=!0;break;case x:return Tt=B._init,O(Tt(B._payload),X,Q,$,lt)}}if(Tt)return lt=lt(B),Tt=$===""?"."+dt(B,0):$,I(lt)?(Q="",Tt!=null&&(Q=Tt.replace(mt,"$&/")+"/"),O(lt,X,Q,"",function(pn){return pn})):lt!=null&&(K(lt)&&(lt=W(lt,Q+(lt.key==null||B&&B.key===lt.key?"":(""+lt.key).replace(mt,"$&/")+"/")+Tt)),X.push(lt)),1;Tt=0;var ae=$===""?".":$+":";if(I(B))for(var Lt=0;Lt<B.length;Lt++)$=B[Lt],ct=ae+dt($,Lt),Tt+=O($,X,Q,ct,lt);else if(Lt=_(B),typeof Lt=="function")for(B=Lt.call(B),Lt=0;!($=B.next()).done;)$=$.value,ct=ae+dt($,Lt++),Tt+=O($,X,Q,ct,lt);else if(ct==="object"){if(typeof B.then=="function")return O($t(B),X,Q,$,lt);throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function P(B,X,Q){if(B==null)return B;var $=[],lt=0;return O(B,$,"","",function(ct){return X.call(Q,ct,lt++)}),$}function at(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(Q){(B._status===0||B._status===-1)&&(B._status=1,B._result=Q)},function(Q){(B._status===0||B._status===-1)&&(B._status=2,B._result=Q)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var et=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},_t={map:P,forEach:function(B,X,Q){P(B,function(){X.apply(this,arguments)},Q)},count:function(B){var X=0;return P(B,function(){X++}),X},toArray:function(B){return P(B,function(X){return X})||[]},only:function(B){if(!K(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return ot.Activity=h,ot.Children=_t,ot.Component=w,ot.Fragment=i,ot.Profiler=l,ot.PureComponent=C,ot.StrictMode=s,ot.Suspense=m,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ot.__COMPILER_RUNTIME={__proto__:null,c:function(B){return L.H.useMemoCache(B)}},ot.cache=function(B){return function(){return B.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(B,X,Q){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var $=A({},B.props),lt=B.key;if(X!=null)for(ct in X.key!==void 0&&(lt=""+X.key),X)!Z.call(X,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&X.ref===void 0||($[ct]=X[ct]);var ct=arguments.length-2;if(ct===1)$.children=Q;else if(1<ct){for(var Tt=Array(ct),ae=0;ae<ct;ae++)Tt[ae]=arguments[ae+2];$.children=Tt}return F(B.type,lt,$)},ot.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},ot.createElement=function(B,X,Q){var $,lt={},ct=null;if(X!=null)for($ in X.key!==void 0&&(ct=""+X.key),X)Z.call(X,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(lt[$]=X[$]);var Tt=arguments.length-2;if(Tt===1)lt.children=Q;else if(1<Tt){for(var ae=Array(Tt),Lt=0;Lt<Tt;Lt++)ae[Lt]=arguments[Lt+2];lt.children=ae}if(B&&B.defaultProps)for($ in Tt=B.defaultProps,Tt)lt[$]===void 0&&(lt[$]=Tt[$]);return F(B,ct,lt)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(B){return{$$typeof:d,render:B}},ot.isValidElement=K,ot.lazy=function(B){return{$$typeof:x,_payload:{_status:-1,_result:B},_init:at}},ot.memo=function(B,X){return{$$typeof:y,type:B,compare:X===void 0?null:X}},ot.startTransition=function(B){var X=L.T,Q={};L.T=Q;try{var $=B(),lt=L.S;lt!==null&&lt(Q,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(j,et)}catch(ct){et(ct)}finally{X!==null&&Q.types!==null&&(X.types=Q.types),L.T=X}},ot.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ot.use=function(B){return L.H.use(B)},ot.useActionState=function(B,X,Q){return L.H.useActionState(B,X,Q)},ot.useCallback=function(B,X){return L.H.useCallback(B,X)},ot.useContext=function(B){return L.H.useContext(B)},ot.useDebugValue=function(){},ot.useDeferredValue=function(B,X){return L.H.useDeferredValue(B,X)},ot.useEffect=function(B,X){return L.H.useEffect(B,X)},ot.useEffectEvent=function(B){return L.H.useEffectEvent(B)},ot.useId=function(){return L.H.useId()},ot.useImperativeHandle=function(B,X,Q){return L.H.useImperativeHandle(B,X,Q)},ot.useInsertionEffect=function(B,X){return L.H.useInsertionEffect(B,X)},ot.useLayoutEffect=function(B,X){return L.H.useLayoutEffect(B,X)},ot.useMemo=function(B,X){return L.H.useMemo(B,X)},ot.useOptimistic=function(B,X){return L.H.useOptimistic(B,X)},ot.useReducer=function(B,X,Q){return L.H.useReducer(B,X,Q)},ot.useRef=function(B){return L.H.useRef(B)},ot.useState=function(B){return L.H.useState(B)},ot.useSyncExternalStore=function(B,X,Q){return L.H.useSyncExternalStore(B,X,Q)},ot.useTransition=function(){return L.H.useTransition()},ot.version="19.2.3",ot}var Qm;function Rh(){return Qm||(Qm=1,zc.exports=Cv()),zc.exports}var At=Rh(),Oc={exports:{}},Qa={},kc={exports:{}},Dc={};var Zm;function Ev(){return Zm||(Zm=1,(function(a){function t(O,P){var at=O.length;O.push(P);t:for(;0<at;){var et=at-1>>>1,_t=O[et];if(0<l(_t,P))O[et]=P,O[at]=_t,at=et;else break t}}function i(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var P=O[0],at=O.pop();if(at!==P){O[0]=at;t:for(var et=0,_t=O.length,B=_t>>>1;et<B;){var X=2*(et+1)-1,Q=O[X],$=X+1,lt=O[$];if(0>l(Q,at))$<_t&&0>l(lt,Q)?(O[et]=lt,O[$]=at,et=$):(O[et]=Q,O[X]=at,et=X);else if($<_t&&0>l(lt,at))O[et]=lt,O[$]=at,et=$;else break t}}return P}function l(O,P){var at=O.sortIndex-P.sortIndex;return at!==0?at:O.id-P.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();a.unstable_now=function(){return c.now()-d}}var m=[],y=[],x=1,h=null,g=3,_=!1,b=!1,A=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function z(O){for(var P=i(y);P!==null;){if(P.callback===null)s(y);else if(P.startTime<=O)s(y),P.sortIndex=P.expirationTime,t(m,P);else break;P=i(y)}}function I(O){if(A=!1,z(O),!b)if(i(m)!==null)b=!0,j||(j=!0,ut());else{var P=i(y);P!==null&&$t(I,P.startTime-O)}}var j=!1,L=-1,Z=5,F=-1;function W(){return S?!0:!(a.unstable_now()-F<Z)}function K(){if(S=!1,j){var O=a.unstable_now();F=O;var P=!0;try{t:{b=!1,A&&(A=!1,M(L),L=-1),_=!0;var at=g;try{e:{for(z(O),h=i(m);h!==null&&!(h.expirationTime>O&&W());){var et=h.callback;if(typeof et=="function"){h.callback=null,g=h.priorityLevel;var _t=et(h.expirationTime<=O);if(O=a.unstable_now(),typeof _t=="function"){h.callback=_t,z(O),P=!0;break e}h===i(m)&&s(m),z(O)}else s(m);h=i(m)}if(h!==null)P=!0;else{var B=i(y);B!==null&&$t(I,B.startTime-O),P=!1}}break t}finally{h=null,g=at,_=!1}P=void 0}}finally{P?ut():j=!1}}}var ut;if(typeof C=="function")ut=function(){C(K)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,dt=mt.port2;mt.port1.onmessage=K,ut=function(){dt.postMessage(null)}}else ut=function(){w(K,0)};function $t(O,P){L=w(function(){O(a.unstable_now())},P)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return g},a.unstable_next=function(O){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var at=g;g=P;try{return O()}finally{g=at}},a.unstable_requestPaint=function(){S=!0},a.unstable_runWithPriority=function(O,P){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var at=g;g=O;try{return P()}finally{g=at}},a.unstable_scheduleCallback=function(O,P,at){var et=a.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?et+at:et):at=et,O){case 1:var _t=-1;break;case 2:_t=250;break;case 5:_t=1073741823;break;case 4:_t=1e4;break;default:_t=5e3}return _t=at+_t,O={id:x++,callback:P,priorityLevel:O,startTime:at,expirationTime:_t,sortIndex:-1},at>et?(O.sortIndex=at,t(y,O),i(m)===null&&O===i(y)&&(A?(M(L),L=-1):A=!0,$t(I,at-et))):(O.sortIndex=_t,t(m,O),b||_||(b=!0,j||(j=!0,ut()))),O},a.unstable_shouldYield=W,a.unstable_wrapCallback=function(O){var P=g;return function(){var at=g;g=P;try{return O.apply(this,arguments)}finally{g=at}}}})(Dc)),Dc}var Wm;function Rv(){return Wm||(Wm=1,kc.exports=Ev()),kc.exports}var Nc={exports:{}},ge={};var Km;function Bv(){if(Km)return ge;Km=1;var a=Rh();function t(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(m,y,x){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:h==null?null:""+h,children:m,containerInfo:y,implementation:x}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ge.createPortal=function(m,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(m,y,null,x)},ge.flushSync=function(m){var y=c.T,x=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=y,s.p=x,s.d.f()}},ge.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},ge.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},ge.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var x=y.as,h=d(x,y.crossOrigin),g=typeof y.integrity=="string"?y.integrity:void 0,_=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:_}):x==="script"&&s.d.X(m,{crossOrigin:h,integrity:g,fetchPriority:_,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ge.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=d(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},ge.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,h=d(x,y.crossOrigin);s.d.L(m,x,{crossOrigin:h,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ge.preloadModule=function(m,y){if(typeof m=="string")if(y){var x=d(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},ge.requestFormReset=function(m){s.d.r(m)},ge.unstable_batchedUpdates=function(m,y){return m(y)},ge.useFormState=function(m,y,x){return c.H.useFormState(m,y,x)},ge.useFormStatus=function(){return c.H.useHostTransitionStatus()},ge.version="19.2.3",ge}var $m;function zv(){if($m)return Nc.exports;$m=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Nc.exports=Bv(),Nc.exports}var Jm;function Ov(){if(Jm)return Qa;Jm=1;var a=Rv(),t=Rh(),i=zv();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var f=r.return;if(f===null)break;var p=f.alternate;if(p===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===r)return m(f),e;if(p===o)return m(f),n;p=p.sibling}throw Error(s(188))}if(r.return!==o.return)r=f,o=p;else{for(var v=!1,T=f.child;T;){if(T===r){v=!0,r=f,o=p;break}if(T===o){v=!0,o=f,r=p;break}T=T.sibling}if(!v){for(T=p.child;T;){if(T===r){v=!0,r=p,o=f;break}if(T===o){v=!0,o=p,r=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),C=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function ut(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Symbol.for("react.client.reference");function dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===mt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case C:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return n=e.displayName||null,n!==null?n:dt(e.type)||"Memo";case Z:n=e._payload,e=e._init;try{return dt(e(n))}catch{}}return null}var $t=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},et=[],_t=-1;function B(e){return{current:e}}function X(e){0>_t||(e.current=et[_t],et[_t]=null,_t--)}function Q(e,n){_t++,et[_t]=e.current,e.current=n}var $=B(null),lt=B(null),ct=B(null),Tt=B(null);function ae(e,n){switch(Q(ct,n),Q(lt,e),Q($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?pm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=pm(n),e=mm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X($),Q($,e)}function Lt(){X($),X(lt),X(ct)}function pn(e){e.memoizedState!==null&&Q(Tt,e);var n=$.current,r=mm(n,e.type);n!==r&&(Q(lt,e),Q($,r))}function Wn(e){lt.current===e&&(X($),X(lt)),Tt.current===e&&(X(Tt),Pa._currentValue=at)}var en,mn;function _e(e){if(en===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);en=n&&n[1]||"",mn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+en+e+mn}var nn=!1;function Js(e,n){if(!e||nn)return"";nn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(H){var U=H}Reflect.construct(e,[],q)}else{try{q.call()}catch(H){U=H}e.call(q.prototype)}}else{try{throw Error()}catch(H){U=H}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),v=p[0],T=p[1];if(v&&T){var E=v.split(`
`),G=T.split(`
`);for(f=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(o===E.length||f===G.length)for(o=E.length-1,f=G.length-1;1<=o&&0<=f&&E[o]!==G[f];)f--;for(;1<=o&&0<=f;o--,f--)if(E[o]!==G[f]){if(o!==1||f!==1)do if(o--,f--,0>f||E[o]!==G[f]){var Y=`
`+E[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=f);break}}}finally{nn=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?_e(r):""}function _r(e,n){switch(e.tag){case 26:case 27:case 5:return _e(e.type);case 16:return _e("Lazy");case 13:return e.child!==n&&n!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return Js(e.type,!1);case 11:return Js(e.type.render,!1);case 1:return Js(e.type,!0);case 31:return _e("Activity");default:return""}}function xr(e){try{var n="",r=null;do n+=_r(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vr=Object.prototype.hasOwnProperty,go=a.unstable_scheduleCallback,yo=a.unstable_cancelCallback,i_=a.unstable_shouldYield,s_=a.unstable_requestPaint,Re=a.unstable_now,a_=a.unstable_getCurrentPriorityLevel,qh=a.unstable_ImmediatePriority,Fh=a.unstable_UserBlockingPriority,br=a.unstable_NormalPriority,r_=a.unstable_LowPriority,Ih=a.unstable_IdlePriority,l_=a.log,o_=a.unstable_setDisableYieldValue,ta=null,Be=null;function Kn(e){if(typeof l_=="function"&&o_(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(ta,e)}catch{}}var ze=Math.clz32?Math.clz32:h_,u_=Math.log,c_=Math.LN2;function h_(e){return e>>>=0,e===0?32:31-(u_(e)/c_|0)|0}var Sr=256,Ar=262144,wr=4194304;function Mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tr(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var f=0,p=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~p,o!==0?f=Mi(o):(v&=T,v!==0?f=Mi(v):r||(r=T&~e,r!==0&&(f=Mi(r))))):(T=o&~p,T!==0?f=Mi(T):v!==0?f=Mi(v):r||(r=o&~e,r!==0&&(f=Mi(r)))),f===0?0:n!==0&&n!==f&&(n&p)===0&&(p=f&-f,r=n&-n,p>=r||p===32&&(r&4194048)!==0)?n:f}function ea(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function f_(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qh(){var e=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),e}function _o(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function na(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function d_(e,n,r,o,f,p){var v=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,E=e.expirationTimes,G=e.hiddenUpdates;for(r=v&~r;0<r;){var Y=31-ze(r),q=1<<Y;T[Y]=0,E[Y]=-1;var U=G[Y];if(U!==null)for(G[Y]=null,Y=0;Y<U.length;Y++){var H=U[Y];H!==null&&(H.lane&=-536870913)}r&=~q}o!==0&&Zh(e,o,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(v&~n))}function Zh(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ze(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Wh(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ze(r),f=1<<o;f&n|e[o]&n&&(e[o]|=n),r&=~f}}function Kh(e,n){var r=n&-n;return r=(r&42)!==0?1:xo(r),(r&(e.suspendedLanes|n))!==0?0:r}function xo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $h(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Um(e.type))}function Jh(e,n){var r=P.p;try{return P.p=e,n()}finally{P.p=r}}var $n=Math.random().toString(36).slice(2),ue="__reactFiber$"+$n,be="__reactProps$"+$n,es="__reactContainer$"+$n,bo="__reactEvents$"+$n,p_="__reactListeners$"+$n,m_="__reactHandles$"+$n,tf="__reactResources$"+$n,ia="__reactMarker$"+$n;function So(e){delete e[ue],delete e[be],delete e[bo],delete e[p_],delete e[m_]}function ns(e){var n=e[ue];if(n)return n;for(var r=e.parentNode;r;){if(n=r[es]||r[ue]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Sm(e);e!==null;){if(r=e[ue])return r;e=Sm(e)}return n}e=r,r=e.parentNode}return null}function is(e){if(e=e[ue]||e[es]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function sa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ss(e){var n=e[tf];return n||(n=e[tf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function re(e){e[ia]=!0}var ef=new Set,nf={};function Ci(e,n){as(e,n),as(e+"Capture",n)}function as(e,n){for(nf[e]=n,e=0;e<n.length;e++)ef.add(n[e])}var g_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sf={},af={};function y_(e){return vr.call(af,e)?!0:vr.call(sf,e)?!1:g_.test(e)?af[e]=!0:(sf[e]=!0,!1)}function Mr(e,n,r){if(y_(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Cr(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Mn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function __(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){r=""+v,p.call(this,v)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ao(e){if(!e._valueTracker){var n=rf(e)?"checked":"value";e._valueTracker=__(e,n,""+e[n])}}function lf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rf(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var x_=/[\n"\\]/g;function Ve(e){return e.replace(x_,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function wo(e,n,r,o,f,p,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Pe(n)):e.value!==""+Pe(n)&&(e.value=""+Pe(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?To(e,v,Pe(n)):r!=null?To(e,v,Pe(r)):o!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Pe(T):e.removeAttribute("name")}function of(e,n,r,o,f,p,v,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){Ao(e);return}r=r!=null?""+Pe(r):"",n=n!=null?""+Pe(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Ao(e)}function To(e,n,r){n==="number"&&Er(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function rs(e,n,r,o){if(e=e.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=n.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Pe(r),n=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function uf(e,n,r){if(n!=null&&(n=""+Pe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Pe(r):""}function cf(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if($t(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Pe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Ao(e)}function ls(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var v_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||v_.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function ff(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&r[f]!==o&&hf(e,f,o)}else for(var p in n)n.hasOwnProperty(p)&&hf(e,p,n[p])}function Mo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rr(e){return S_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var Co=null;function Eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,us=null;function df(e){var n=is(e);if(n&&(e=n.stateNode)){var r=e[be]||null;t:switch(e=n.stateNode,n.type){case"input":if(wo(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ve(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var f=o[be]||null;if(!f)throw Error(s(90));wo(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&lf(o)}break t;case"textarea":uf(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&rs(e,!!r.multiple,n,!1)}}}var Ro=!1;function pf(e,n,r){if(Ro)return e(n,r);Ro=!0;try{var o=e(n);return o}finally{if(Ro=!1,(os!==null||us!==null)&&(gl(),os&&(n=os,e=us,us=os=null,df(n),e)))for(n=0;n<e.length;n++)df(e[n])}}function aa(e,n){var r=e.stateNode;if(r===null)return null;var o=r[be]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bo=!1;if(En)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Bo=!1}var Jn=null,zo=null,Br=null;function mf(){if(Br)return Br;var e,n=zo,r=n.length,o,f="value"in Jn?Jn.value:Jn.textContent,p=f.length;for(e=0;e<r&&n[e]===f[e];e++);var v=r-e;for(o=1;o<=v&&n[r-o]===f[p-o];o++);return Br=f.slice(e,1<o?1-o:void 0)}function zr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Or(){return!0}function gf(){return!1}function Se(e){function n(r,o,f,p,v){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Or:gf,this.isPropagationStopped=gf,this}return h(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),n}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=Se(Ei),la=h({},Ei,{view:0,detail:0}),A_=Se(la),Oo,ko,oa,Dr=h({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:No,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oa&&(oa&&e.type==="mousemove"?(Oo=e.screenX-oa.screenX,ko=e.screenY-oa.screenY):ko=Oo=0,oa=e),Oo)},movementY:function(e){return"movementY"in e?e.movementY:ko}}),yf=Se(Dr),w_=h({},Dr,{dataTransfer:0}),T_=Se(w_),M_=h({},la,{relatedTarget:0}),Do=Se(M_),C_=h({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),E_=Se(C_),R_=h({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B_=Se(R_),z_=h({},Ei,{data:0}),_f=Se(z_),O_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=D_[e])?!!n[e]:!1}function No(){return N_}var G_=h({},la,{key:function(e){if(e.key){var n=O_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:No,charCode:function(e){return e.type==="keypress"?zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L_=Se(G_),U_=h({},Dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xf=Se(U_),H_=h({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:No}),j_=Se(H_),Y_=h({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),P_=Se(Y_),V_=h({},Dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),X_=Se(V_),q_=h({},Ei,{newState:0,oldState:0}),F_=Se(q_),I_=[9,13,27,32],Go=En&&"CompositionEvent"in window,ua=null;En&&"documentMode"in document&&(ua=document.documentMode);var Q_=En&&"TextEvent"in window&&!ua,vf=En&&(!Go||ua&&8<ua&&11>=ua),bf=" ",Sf=!1;function Af(e,n){switch(e){case"keyup":return I_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function Z_(e,n){switch(e){case"compositionend":return wf(n);case"keypress":return n.which!==32?null:(Sf=!0,bf);case"textInput":return e=n.data,e===bf&&Sf?null:e;default:return null}}function W_(e,n){if(cs)return e==="compositionend"||!Go&&Af(e,n)?(e=mf(),Br=zo=Jn=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vf&&n.locale!=="ko"?null:n.data;default:return null}}var K_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!K_[e.type]:n==="textarea"}function Mf(e,n,r,o){os?us?us.push(o):us=[o]:os=o,n=Al(n,"onChange"),0<n.length&&(r=new kr("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var ca=null,ha=null;function $_(e){om(e,0)}function Nr(e){var n=sa(e);if(lf(n))return e}function Cf(e,n){if(e==="change")return n}var Ef=!1;if(En){var Lo;if(En){var Uo="oninput"in document;if(!Uo){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),Uo=typeof Rf.oninput=="function"}Lo=Uo}else Lo=!1;Ef=Lo&&(!document.documentMode||9<document.documentMode)}function Bf(){ca&&(ca.detachEvent("onpropertychange",zf),ha=ca=null)}function zf(e){if(e.propertyName==="value"&&Nr(ha)){var n=[];Mf(n,ha,e,Eo(e)),pf($_,n)}}function J_(e,n,r){e==="focusin"?(Bf(),ca=n,ha=r,ca.attachEvent("onpropertychange",zf)):e==="focusout"&&Bf()}function tx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nr(ha)}function ex(e,n){if(e==="click")return Nr(n)}function nx(e,n){if(e==="input"||e==="change")return Nr(n)}function ix(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Oe=typeof Object.is=="function"?Object.is:ix;function fa(e,n){if(Oe(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!vr.call(n,f)||!Oe(e[f],n[f]))return!1}return!0}function Of(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kf(e,n){var r=Of(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Of(r)}}function Df(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Df(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Nf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Er(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Er(e.document)}return n}function Ho(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var sx=En&&"documentMode"in document&&11>=document.documentMode,hs=null,jo=null,da=null,Yo=!1;function Gf(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yo||hs==null||hs!==Er(o)||(o=hs,"selectionStart"in o&&Ho(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),da&&fa(da,o)||(da=o,o=Al(jo,"onSelect"),0<o.length&&(n=new kr("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=hs)))}function Ri(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var fs={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},Po={},Lf={};En&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Bi(e){if(Po[e])return Po[e];if(!fs[e])return e;var n=fs[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Lf)return Po[e]=n[r];return e}var Uf=Bi("animationend"),Hf=Bi("animationiteration"),jf=Bi("animationstart"),ax=Bi("transitionrun"),rx=Bi("transitionstart"),lx=Bi("transitioncancel"),Yf=Bi("transitionend"),Pf=new Map,Vo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vo.push("scrollEnd");function sn(e,n){Pf.set(e,n),Ci(n,[e])}var Gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xe=[],ds=0,Xo=0;function Lr(){for(var e=ds,n=Xo=ds=0;n<e;){var r=Xe[n];Xe[n++]=null;var o=Xe[n];Xe[n++]=null;var f=Xe[n];Xe[n++]=null;var p=Xe[n];if(Xe[n++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}p!==0&&Vf(r,f,p)}}function Ur(e,n,r,o){Xe[ds++]=e,Xe[ds++]=n,Xe[ds++]=r,Xe[ds++]=o,Xo|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qo(e,n,r,o){return Ur(e,n,r,o),Hr(e)}function zi(e,n){return Ur(e,null,null,n),Hr(e)}function Vf(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var f=!1,p=e.return;p!==null;)p.childLanes|=r,o=p.alternate,o!==null&&(o.childLanes|=r),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&n!==null&&(f=31-ze(r),e=p.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=r|536870912),p):null}function Hr(e){if(50<Na)throw Na=0,tc=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ps={};function ox(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ke(e,n,r,o){return new ox(e,n,r,o)}function Fo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,n){var r=e.alternate;return r===null?(r=ke(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Xf(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function jr(e,n,r,o,f,p){var v=0;if(o=e,typeof e=="function")Fo(e)&&(v=1);else if(typeof e=="string")v=dv(e,r,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case F:return e=ke(31,r,n,f),e.elementType=F,e.lanes=p,e;case A:return Oi(r.children,f,p,n);case S:v=8,f|=24;break;case w:return e=ke(12,r,n,f|2),e.elementType=w,e.lanes=p,e;case I:return e=ke(13,r,n,f),e.elementType=I,e.lanes=p,e;case j:return e=ke(19,r,n,f),e.elementType=j,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:v=10;break t;case M:v=9;break t;case z:v=11;break t;case L:v=14;break t;case Z:v=16,o=null;break t}v=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=ke(v,r,n,f),n.elementType=e,n.type=o,n.lanes=p,n}function Oi(e,n,r,o){return e=ke(7,e,o,n),e.lanes=r,e}function Io(e,n,r){return e=ke(6,e,null,n),e.lanes=r,e}function qf(e){var n=ke(18,null,null,0);return n.stateNode=e,n}function Qo(e,n,r){return n=ke(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ff=new WeakMap;function qe(e,n){if(typeof e=="object"&&e!==null){var r=Ff.get(e);return r!==void 0?r:(n={value:e,source:n,stack:xr(n)},Ff.set(e,n),n)}return{value:e,source:n,stack:xr(n)}}var ms=[],gs=0,Yr=null,pa=0,Fe=[],Ie=0,ti=null,gn=1,yn="";function Bn(e,n){ms[gs++]=pa,ms[gs++]=Yr,Yr=e,pa=n}function If(e,n,r){Fe[Ie++]=gn,Fe[Ie++]=yn,Fe[Ie++]=ti,ti=e;var o=gn;e=yn;var f=32-ze(o)-1;o&=~(1<<f),r+=1;var p=32-ze(n)+f;if(30<p){var v=f-f%5;p=(o&(1<<v)-1).toString(32),o>>=v,f-=v,gn=1<<32-ze(n)+f|r<<f|o,yn=p+e}else gn=1<<p|r<<f|o,yn=e}function Zo(e){e.return!==null&&(Bn(e,1),If(e,1,0))}function Wo(e){for(;e===Yr;)Yr=ms[--gs],ms[gs]=null,pa=ms[--gs],ms[gs]=null;for(;e===ti;)ti=Fe[--Ie],Fe[Ie]=null,yn=Fe[--Ie],Fe[Ie]=null,gn=Fe[--Ie],Fe[Ie]=null}function Qf(e,n){Fe[Ie++]=gn,Fe[Ie++]=yn,Fe[Ie++]=ti,gn=n.id,yn=n.overflow,ti=e}var ce=null,Ht=null,St=!1,ei=null,Qe=!1,Ko=Error(s(519));function ni(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ma(qe(n,e)),Ko}function Zf(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ue]=e,n[be]=o,r){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(r=0;r<La.length;r++)yt(La[r],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":yt("invalid",n),of(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":yt("invalid",n);break;case"textarea":yt("invalid",n),cf(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||fm(n.textContent,r)?(o.popover!=null&&(yt("beforetoggle",n),yt("toggle",n)),o.onScroll!=null&&yt("scroll",n),o.onScrollEnd!=null&&yt("scrollend",n),o.onClick!=null&&(n.onclick=Cn),n=!0):n=!1,n||ni(e,!0)}function Wf(e){for(ce=e.return;ce;)switch(ce.tag){case 5:case 31:case 13:Qe=!1;return;case 27:case 3:Qe=!0;return;default:ce=ce.return}}function ys(e){if(e!==ce)return!1;if(!St)return Wf(e),St=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||mc(e.type,e.memoizedProps)),r=!r),r&&Ht&&ni(e),Wf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ht=bm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ht=bm(e)}else n===27?(n=Ht,gi(e.type)?(e=vc,vc=null,Ht=e):Ht=n):Ht=ce?We(e.stateNode.nextSibling):null;return!0}function ki(){Ht=ce=null,St=!1}function $o(){var e=ei;return e!==null&&(Me===null?Me=e:Me.push.apply(Me,e),ei=null),e}function ma(e){ei===null?ei=[e]:ei.push(e)}var Jo=B(null),Di=null,zn=null;function ii(e,n,r){Q(Jo,n._currentValue),n._currentValue=r}function On(e){e._currentValue=Jo.current,X(Jo)}function tu(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function eu(e,n,r,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var v=f.child;p=p.firstContext;t:for(;p!==null;){var T=p;p=f;for(var E=0;E<n.length;E++)if(T.context===n[E]){p.lanes|=r,T=p.alternate,T!==null&&(T.lanes|=r),tu(p.return,r,e),o||(v=null);break t}p=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=r,p=v.alternate,p!==null&&(p.lanes|=r),tu(v,r,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function _s(e,n,r,o){e=null;for(var f=n,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;Oe(f.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(f===Tt.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Pa):e=[Pa])}f=f.return}e!==null&&eu(n,e,r,o),n.flags|=262144}function Pr(e){for(e=e.firstContext;e!==null;){if(!Oe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ni(e){Di=e,zn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function he(e){return Kf(Di,e)}function Vr(e,n){return Di===null&&Ni(e),Kf(e,n)}function Kf(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},zn===null){if(e===null)throw Error(s(308));zn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zn=zn.next=n;return r}var ux=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},cx=a.unstable_scheduleCallback,hx=a.unstable_NormalPriority,Jt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nu(){return{controller:new ux,data:new Map,refCount:0}}function ga(e){e.refCount--,e.refCount===0&&cx(hx,function(){e.controller.abort()})}var ya=null,iu=0,xs=0,vs=null;function fx(e,n){if(ya===null){var r=ya=[];iu=0,xs=rc(),vs={status:"pending",value:void 0,then:function(o){r.push(o)}}}return iu++,n.then($f,$f),n}function $f(){if(--iu===0&&ya!==null){vs!==null&&(vs.status="fulfilled");var e=ya;ya=null,xs=0,vs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function dx(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var Jf=O.S;O.S=function(e,n){Gp=Re(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&fx(e,n),Jf!==null&&Jf(e,n)};var Gi=B(null);function su(){var e=Gi.current;return e!==null?e:Gt.pooledCache}function Xr(e,n){n===null?Q(Gi,Gi.current):Q(Gi,n.pool)}function td(){var e=su();return e===null?null:{parent:Jt._currentValue,pool:e}}var bs=Error(s(460)),au=Error(s(474)),qr=Error(s(542)),Fr={then:function(){}};function ed(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nd(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Cn,Cn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sd(e),e;default:if(typeof n.status=="string")n.then(Cn,Cn);else{if(e=Gt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sd(e),e}throw Ui=n,bs}}function Li(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ui=r,bs):r}}var Ui=null;function id(){if(Ui===null)throw Error(s(459));var e=Ui;return Ui=null,e}function sd(e){if(e===bs||e===qr)throw Error(s(483))}var Ss=null,_a=0;function Ir(e){var n=_a;return _a+=1,Ss===null&&(Ss=[]),nd(Ss,e,n)}function xa(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Qr(e,n){throw n.$$typeof===g?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ad(e){function n(k,R){if(e){var D=k.deletions;D===null?(k.deletions=[R],k.flags|=16):D.push(R)}}function r(k,R){if(!e)return null;for(;R!==null;)n(k,R),R=R.sibling;return null}function o(k){for(var R=new Map;k!==null;)k.key!==null?R.set(k.key,k):R.set(k.index,k),k=k.sibling;return R}function f(k,R){return k=Rn(k,R),k.index=0,k.sibling=null,k}function p(k,R,D){return k.index=D,e?(D=k.alternate,D!==null?(D=D.index,D<R?(k.flags|=67108866,R):D):(k.flags|=67108866,R)):(k.flags|=1048576,R)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,R,D,V){return R===null||R.tag!==6?(R=Io(D,k.mode,V),R.return=k,R):(R=f(R,D),R.return=k,R)}function E(k,R,D,V){var it=D.type;return it===A?Y(k,R,D.props.children,V,D.key):R!==null&&(R.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Z&&Li(it)===R.type)?(R=f(R,D.props),xa(R,D),R.return=k,R):(R=jr(D.type,D.key,D.props,null,k.mode,V),xa(R,D),R.return=k,R)}function G(k,R,D,V){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=Qo(D,k.mode,V),R.return=k,R):(R=f(R,D.children||[]),R.return=k,R)}function Y(k,R,D,V,it){return R===null||R.tag!==7?(R=Oi(D,k.mode,V,it),R.return=k,R):(R=f(R,D),R.return=k,R)}function q(k,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Io(""+R,k.mode,D),R.return=k,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return D=jr(R.type,R.key,R.props,null,k.mode,D),xa(D,R),D.return=k,D;case b:return R=Qo(R,k.mode,D),R.return=k,R;case Z:return R=Li(R),q(k,R,D)}if($t(R)||ut(R))return R=Oi(R,k.mode,D,null),R.return=k,R;if(typeof R.then=="function")return q(k,Ir(R),D);if(R.$$typeof===C)return q(k,Vr(k,R),D);Qr(k,R)}return null}function U(k,R,D,V){var it=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return it!==null?null:T(k,R,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===it?E(k,R,D,V):null;case b:return D.key===it?G(k,R,D,V):null;case Z:return D=Li(D),U(k,R,D,V)}if($t(D)||ut(D))return it!==null?null:Y(k,R,D,V,null);if(typeof D.then=="function")return U(k,R,Ir(D),V);if(D.$$typeof===C)return U(k,R,Vr(k,D),V);Qr(k,D)}return null}function H(k,R,D,V,it){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return k=k.get(D)||null,T(R,k,""+V,it);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return k=k.get(V.key===null?D:V.key)||null,E(R,k,V,it);case b:return k=k.get(V.key===null?D:V.key)||null,G(R,k,V,it);case Z:return V=Li(V),H(k,R,D,V,it)}if($t(V)||ut(V))return k=k.get(D)||null,Y(R,k,V,it,null);if(typeof V.then=="function")return H(k,R,D,Ir(V),it);if(V.$$typeof===C)return H(k,R,D,Vr(R,V),it);Qr(R,V)}return null}function J(k,R,D,V){for(var it=null,Mt=null,tt=R,ft=R=0,vt=null;tt!==null&&ft<D.length;ft++){tt.index>ft?(vt=tt,tt=null):vt=tt.sibling;var Ct=U(k,tt,D[ft],V);if(Ct===null){tt===null&&(tt=vt);break}e&&tt&&Ct.alternate===null&&n(k,tt),R=p(Ct,R,ft),Mt===null?it=Ct:Mt.sibling=Ct,Mt=Ct,tt=vt}if(ft===D.length)return r(k,tt),St&&Bn(k,ft),it;if(tt===null){for(;ft<D.length;ft++)tt=q(k,D[ft],V),tt!==null&&(R=p(tt,R,ft),Mt===null?it=tt:Mt.sibling=tt,Mt=tt);return St&&Bn(k,ft),it}for(tt=o(tt);ft<D.length;ft++)vt=H(tt,k,ft,D[ft],V),vt!==null&&(e&&vt.alternate!==null&&tt.delete(vt.key===null?ft:vt.key),R=p(vt,R,ft),Mt===null?it=vt:Mt.sibling=vt,Mt=vt);return e&&tt.forEach(function(bi){return n(k,bi)}),St&&Bn(k,ft),it}function rt(k,R,D,V){if(D==null)throw Error(s(151));for(var it=null,Mt=null,tt=R,ft=R=0,vt=null,Ct=D.next();tt!==null&&!Ct.done;ft++,Ct=D.next()){tt.index>ft?(vt=tt,tt=null):vt=tt.sibling;var bi=U(k,tt,Ct.value,V);if(bi===null){tt===null&&(tt=vt);break}e&&tt&&bi.alternate===null&&n(k,tt),R=p(bi,R,ft),Mt===null?it=bi:Mt.sibling=bi,Mt=bi,tt=vt}if(Ct.done)return r(k,tt),St&&Bn(k,ft),it;if(tt===null){for(;!Ct.done;ft++,Ct=D.next())Ct=q(k,Ct.value,V),Ct!==null&&(R=p(Ct,R,ft),Mt===null?it=Ct:Mt.sibling=Ct,Mt=Ct);return St&&Bn(k,ft),it}for(tt=o(tt);!Ct.done;ft++,Ct=D.next())Ct=H(tt,k,ft,Ct.value,V),Ct!==null&&(e&&Ct.alternate!==null&&tt.delete(Ct.key===null?ft:Ct.key),R=p(Ct,R,ft),Mt===null?it=Ct:Mt.sibling=Ct,Mt=Ct);return e&&tt.forEach(function(wv){return n(k,wv)}),St&&Bn(k,ft),it}function Dt(k,R,D,V){if(typeof D=="object"&&D!==null&&D.type===A&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:t:{for(var it=D.key;R!==null;){if(R.key===it){if(it=D.type,it===A){if(R.tag===7){r(k,R.sibling),V=f(R,D.props.children),V.return=k,k=V;break t}}else if(R.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Z&&Li(it)===R.type){r(k,R.sibling),V=f(R,D.props),xa(V,D),V.return=k,k=V;break t}r(k,R);break}else n(k,R);R=R.sibling}D.type===A?(V=Oi(D.props.children,k.mode,V,D.key),V.return=k,k=V):(V=jr(D.type,D.key,D.props,null,k.mode,V),xa(V,D),V.return=k,k=V)}return v(k);case b:t:{for(it=D.key;R!==null;){if(R.key===it)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){r(k,R.sibling),V=f(R,D.children||[]),V.return=k,k=V;break t}else{r(k,R);break}else n(k,R);R=R.sibling}V=Qo(D,k.mode,V),V.return=k,k=V}return v(k);case Z:return D=Li(D),Dt(k,R,D,V)}if($t(D))return J(k,R,D,V);if(ut(D)){if(it=ut(D),typeof it!="function")throw Error(s(150));return D=it.call(D),rt(k,R,D,V)}if(typeof D.then=="function")return Dt(k,R,Ir(D),V);if(D.$$typeof===C)return Dt(k,R,Vr(k,D),V);Qr(k,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(r(k,R.sibling),V=f(R,D),V.return=k,k=V):(r(k,R),V=Io(D,k.mode,V),V.return=k,k=V),v(k)):r(k,R)}return function(k,R,D,V){try{_a=0;var it=Dt(k,R,D,V);return Ss=null,it}catch(tt){if(tt===bs||tt===qr)throw tt;var Mt=ke(29,tt,null,k.mode);return Mt.lanes=V,Mt.return=k,Mt}finally{}}}var Hi=ad(!0),rd=ad(!1),si=!1;function ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ri(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Et&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Hr(e),Vf(e,null,r),n}return Ur(e,o,n,r),Hr(e)}function va(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Wh(e,r)}}function ou(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?f=p=v:p=p.next=v,r=r.next}while(r!==null);p===null?f=p=n:p=p.next=n}else f=p=n;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var uu=!1;function ba(){if(uu){var e=vs;if(e!==null)throw e}}function Sa(e,n,r,o){uu=!1;var f=e.updateQueue;si=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var E=T,G=E.next;E.next=null,v===null?p=G:v.next=G,v=E;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=G:T.next=G,Y.lastBaseUpdate=E))}if(p!==null){var q=f.baseState;v=0,Y=G=E=null,T=p;do{var U=T.lane&-536870913,H=U!==T.lane;if(H?(xt&U)===U:(o&U)===U){U!==0&&U===xs&&(uu=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var J=e,rt=T;U=n;var Dt=r;switch(rt.tag){case 1:if(J=rt.payload,typeof J=="function"){q=J.call(Dt,q,U);break t}q=J;break t;case 3:J.flags=J.flags&-65537|128;case 0:if(J=rt.payload,U=typeof J=="function"?J.call(Dt,q,U):J,U==null)break t;q=h({},q,U);break t;case 2:si=!0}}U=T.callback,U!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[U]:H.push(U))}else H={lane:U,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(G=Y=H,E=q):Y=Y.next=H,v|=U;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;H=T,T=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Y===null&&(E=q),f.baseState=E,f.firstBaseUpdate=G,f.lastBaseUpdate=Y,p===null&&(f.shared.lanes=0),hi|=v,e.lanes=v,e.memoizedState=q}}function ld(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function od(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)ld(r[e],n)}var As=B(null),Zr=B(0);function ud(e,n){e=Yn,Q(Zr,e),Q(As,n),Yn=e|n.baseLanes}function cu(){Q(Zr,Yn),Q(As,As.current)}function hu(){Yn=Zr.current,X(As),X(Zr)}var De=B(null),Ze=null;function li(e){var n=e.alternate;Q(Wt,Wt.current&1),Q(De,e),Ze===null&&(n===null||As.current!==null||n.memoizedState!==null)&&(Ze=e)}function fu(e){Q(Wt,Wt.current),Q(De,e),Ze===null&&(Ze=e)}function cd(e){e.tag===22?(Q(Wt,Wt.current),Q(De,e),Ze===null&&(Ze=e)):oi()}function oi(){Q(Wt,Wt.current),Q(De,De.current)}function Ne(e){X(De),Ze===e&&(Ze=null),X(Wt)}var Wt=B(0);function Wr(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||_c(r)||xc(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var kn=0,ht=null,Ot=null,te=null,Kr=!1,ws=!1,ji=!1,$r=0,Aa=0,Ts=null,px=0;function Ft(){throw Error(s(321))}function du(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Oe(e[r],n[r]))return!1;return!0}function pu(e,n,r,o,f,p){return kn=p,ht=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?Id:Ru,ji=!1,p=r(o,f),ji=!1,ws&&(p=fd(n,r,o,f)),hd(e),p}function hd(e){O.H=Ma;var n=Ot!==null&&Ot.next!==null;if(kn=0,te=Ot=ht=null,Kr=!1,Aa=0,Ts=null,n)throw Error(s(300));e===null||ee||(e=e.dependencies,e!==null&&Pr(e)&&(ee=!0))}function fd(e,n,r,o){ht=e;var f=0;do{if(ws&&(Ts=null),Aa=0,ws=!1,25<=f)throw Error(s(301));if(f+=1,te=Ot=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}O.H=Qd,p=n(r,o)}while(ws);return p}function mx(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?wa(n):n,e=e.useState()[0],(Ot!==null?Ot.memoizedState:null)!==e&&(ht.flags|=1024),n}function mu(){var e=$r!==0;return $r=0,e}function gu(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function yu(e){if(Kr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Kr=!1}kn=0,te=Ot=ht=null,ws=!1,Aa=$r=0,Ts=null}function xe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return te===null?ht.memoizedState=te=e:te=te.next=e,te}function Kt(){if(Ot===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var n=te===null?ht.memoizedState:te.next;if(n!==null)te=n,Ot=e;else{if(e===null)throw ht.alternate===null?Error(s(467)):Error(s(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},te===null?ht.memoizedState=te=e:te=te.next=e}return te}function Jr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wa(e){var n=Aa;return Aa+=1,Ts===null&&(Ts=[]),e=nd(Ts,e,n),n=ht,(te===null?n.memoizedState:te.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?Id:Ru),e}function tl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wa(e);if(e.$$typeof===C)return he(e)}throw Error(s(438,String(e)))}function _u(e){var n=null,r=ht.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=ht.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Jr(),ht.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=W;return n.index++,r}function Dn(e,n){return typeof n=="function"?n(e):n}function el(e){var n=Kt();return xu(n,Ot,e)}function xu(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var f=e.baseQueue,p=o.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}n.baseQueue=f=p,o.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{n=f.next;var T=v=null,E=null,G=n,Y=!1;do{var q=G.lane&-536870913;if(q!==G.lane?(xt&q)===q:(kn&q)===q){var U=G.revertLane;if(U===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),q===xs&&(Y=!0);else if((kn&U)===U){G=G.next,U===xs&&(Y=!0);continue}else q={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},E===null?(T=E=q,v=p):E=E.next=q,ht.lanes|=U,hi|=U;q=G.action,ji&&r(p,q),p=G.hasEagerState?G.eagerState:r(p,q)}else U={lane:q,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},E===null?(T=E=U,v=p):E=E.next=U,ht.lanes|=q,hi|=q;G=G.next}while(G!==null&&G!==n);if(E===null?v=p:E.next=T,!Oe(p,e.memoizedState)&&(ee=!0,Y&&(r=vs,r!==null)))throw r;e.memoizedState=p,e.baseState=v,e.baseQueue=E,o.lastRenderedState=p}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vu(e){var n=Kt(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,f=r.pending,p=n.memoizedState;if(f!==null){r.pending=null;var v=f=f.next;do p=e(p,v.action),v=v.next;while(v!==f);Oe(p,n.memoizedState)||(ee=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),r.lastRenderedState=p}return[p,o]}function dd(e,n,r){var o=ht,f=Kt(),p=St;if(p){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!Oe((Ot||f).memoizedState,r);if(v&&(f.memoizedState=r,ee=!0),f=f.queue,Au(gd.bind(null,o,f,e),[e]),f.getSnapshot!==n||v||te!==null&&te.memoizedState.tag&1){if(o.flags|=2048,Ms(9,{destroy:void 0},md.bind(null,o,f,r,n),null),Gt===null)throw Error(s(349));p||(kn&127)!==0||pd(o,n,r)}return r}function pd(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=ht.updateQueue,n===null?(n=Jr(),ht.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function md(e,n,r,o){n.value=r,n.getSnapshot=o,yd(n)&&_d(e)}function gd(e,n,r){return r(function(){yd(n)&&_d(e)})}function yd(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Oe(e,r)}catch{return!0}}function _d(e){var n=zi(e,2);n!==null&&Ce(n,e,2)}function bu(e){var n=xe();if(typeof e=="function"){var r=e;if(e=r(),ji){Kn(!0);try{r()}finally{Kn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},n}function xd(e,n,r,o){return e.baseState=r,xu(e,Ot,typeof o=="function"?o:Dn)}function gx(e,n,r,o,f){if(sl(e))throw Error(s(485));if(e=n.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};O.T!==null?r(!0):p.isTransition=!1,o(p),r=n.pending,r===null?(p.next=n.pending=p,vd(n,p)):(p.next=r.next,n.pending=r.next=p)}}function vd(e,n){var r=n.action,o=n.payload,f=e.state;if(n.isTransition){var p=O.T,v={};O.T=v;try{var T=r(f,o),E=O.S;E!==null&&E(v,T),bd(e,n,T)}catch(G){Su(e,n,G)}finally{p!==null&&v.types!==null&&(p.types=v.types),O.T=p}}else try{p=r(f,o),bd(e,n,p)}catch(G){Su(e,n,G)}}function bd(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Sd(e,n,o)},function(o){return Su(e,n,o)}):Sd(e,n,r)}function Sd(e,n,r){n.status="fulfilled",n.value=r,Ad(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,vd(e,r)))}function Su(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ad(n),n=n.next;while(n!==o)}e.action=null}function Ad(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wd(e,n){return n}function Td(e,n){if(St){var r=Gt.formState;if(r!==null){t:{var o=ht;if(St){if(Ht){e:{for(var f=Ht,p=Qe;f.nodeType!==8;){if(!p){f=null;break e}if(f=We(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ht=We(f.nextSibling),o=f.data==="F!";break t}}ni(o)}o=!1}o&&(n=r[0])}}return r=xe(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:n},r.queue=o,r=Xd.bind(null,ht,o),o.dispatch=r,o=bu(!1),p=Eu.bind(null,ht,!1,o.queue),o=xe(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,r=gx.bind(null,ht,f,p,r),f.dispatch=r,o.memoizedState=e,[n,r,!1]}function Md(e){var n=Kt();return Cd(n,Ot,e)}function Cd(e,n,r){if(n=xu(e,n,wd)[0],e=el(Dn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=wa(n)}catch(v){throw v===bs?qr:v}else o=n;n=Kt();var f=n.queue,p=f.dispatch;return r!==n.memoizedState&&(ht.flags|=2048,Ms(9,{destroy:void 0},yx.bind(null,f,r),null)),[o,p,e]}function yx(e,n){e.action=n}function Ed(e){var n=Kt(),r=Ot;if(r!==null)return Cd(n,r,e);Kt(),n=n.memoizedState,r=Kt();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ms(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=ht.updateQueue,n===null&&(n=Jr(),ht.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Rd(){return Kt().memoizedState}function nl(e,n,r,o){var f=xe();ht.flags|=e,f.memoizedState=Ms(1|n,{destroy:void 0},r,o===void 0?null:o)}function il(e,n,r,o){var f=Kt();o=o===void 0?null:o;var p=f.memoizedState.inst;Ot!==null&&o!==null&&du(o,Ot.memoizedState.deps)?f.memoizedState=Ms(n,p,r,o):(ht.flags|=e,f.memoizedState=Ms(1|n,p,r,o))}function Bd(e,n){nl(8390656,8,e,n)}function Au(e,n){il(2048,8,e,n)}function _x(e){ht.flags|=4;var n=ht.updateQueue;if(n===null)n=Jr(),ht.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function zd(e){var n=Kt().memoizedState;return _x({ref:n,nextImpl:e}),function(){if((Et&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Od(e,n){return il(4,2,e,n)}function kd(e,n){return il(4,4,e,n)}function Dd(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Nd(e,n,r){r=r!=null?r.concat([e]):null,il(4,4,Dd.bind(null,n,e),r)}function wu(){}function Gd(e,n){var r=Kt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&du(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ld(e,n){var r=Kt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&du(n,o[1]))return o[0];if(o=e(),ji){Kn(!0);try{e()}finally{Kn(!1)}}return r.memoizedState=[o,n],o}function Tu(e,n,r){return r===void 0||(kn&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Up(),ht.lanes|=e,hi|=e,r)}function Ud(e,n,r,o){return Oe(r,n)?r:As.current!==null?(e=Tu(e,r,o),Oe(e,n)||(ee=!0),e):(kn&42)===0||(kn&1073741824)!==0&&(xt&261930)===0?(ee=!0,e.memoizedState=r):(e=Up(),ht.lanes|=e,hi|=e,n)}function Hd(e,n,r,o,f){var p=P.p;P.p=p!==0&&8>p?p:8;var v=O.T,T={};O.T=T,Eu(e,!1,n,r);try{var E=f(),G=O.S;if(G!==null&&G(T,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var Y=dx(E,o);Ta(e,n,Y,Ue(e))}else Ta(e,n,o,Ue(e))}catch(q){Ta(e,n,{then:function(){},status:"rejected",reason:q},Ue())}finally{P.p=p,v!==null&&T.types!==null&&(v.types=T.types),O.T=v}}function xx(){}function Mu(e,n,r,o){if(e.tag!==5)throw Error(s(476));var f=jd(e).queue;Hd(e,f,n,at,r===null?xx:function(){return Yd(e),r(o)})}function jd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:at},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yd(e){var n=jd(e);n.next===null&&(n=e.alternate.memoizedState),Ta(e,n.next.queue,{},Ue())}function Cu(){return he(Pa)}function Pd(){return Kt().memoizedState}function Vd(){return Kt().memoizedState}function vx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Ue();e=ai(r);var o=ri(n,e,r);o!==null&&(Ce(o,n,r),va(o,n,r)),n={cache:nu()},e.payload=n;return}n=n.return}}function bx(e,n,r){var o=Ue();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},sl(e)?qd(n,r):(r=qo(e,n,r,o),r!==null&&(Ce(r,e,o),Fd(r,n,o)))}function Xd(e,n,r){var o=Ue();Ta(e,n,r,o)}function Ta(e,n,r,o){var f={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(sl(e))qd(n,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var v=n.lastRenderedState,T=p(v,r);if(f.hasEagerState=!0,f.eagerState=T,Oe(T,v))return Ur(e,n,f,0),Gt===null&&Lr(),!1}catch{}finally{}if(r=qo(e,n,f,o),r!==null)return Ce(r,e,o),Fd(r,n,o),!0}return!1}function Eu(e,n,r,o){if(o={lane:2,revertLane:rc(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sl(e)){if(n)throw Error(s(479))}else n=qo(e,r,o,2),n!==null&&Ce(n,e,2)}function sl(e){var n=e.alternate;return e===ht||n!==null&&n===ht}function qd(e,n){ws=Kr=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Fd(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Wh(e,r)}}var Ma={readContext:he,use:tl,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};Ma.useEffectEvent=Ft;var Id={readContext:he,use:tl,useCallback:function(e,n){return xe().memoizedState=[e,n===void 0?null:n],e},useContext:he,useEffect:Bd,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,nl(4194308,4,Dd.bind(null,n,e),r)},useLayoutEffect:function(e,n){return nl(4194308,4,e,n)},useInsertionEffect:function(e,n){nl(4,2,e,n)},useMemo:function(e,n){var r=xe();n=n===void 0?null:n;var o=e();if(ji){Kn(!0);try{e()}finally{Kn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=xe();if(r!==void 0){var f=r(n);if(ji){Kn(!0);try{r(n)}finally{Kn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=bx.bind(null,ht,e),[o.memoizedState,e]},useRef:function(e){var n=xe();return e={current:e},n.memoizedState=e},useState:function(e){e=bu(e);var n=e.queue,r=Xd.bind(null,ht,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:wu,useDeferredValue:function(e,n){var r=xe();return Tu(r,e,n)},useTransition:function(){var e=bu(!1);return e=Hd.bind(null,ht,e.queue,!0,!1),xe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=ht,f=xe();if(St){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Gt===null)throw Error(s(349));(xt&127)!==0||pd(o,n,r)}f.memoizedState=r;var p={value:r,getSnapshot:n};return f.queue=p,Bd(gd.bind(null,o,p,e),[e]),o.flags|=2048,Ms(9,{destroy:void 0},md.bind(null,o,p,r,n),null),r},useId:function(){var e=xe(),n=Gt.identifierPrefix;if(St){var r=yn,o=gn;r=(o&~(1<<32-ze(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=$r++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=px++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cu,useFormState:Td,useActionState:Td,useOptimistic:function(e){var n=xe();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Eu.bind(null,ht,!0,r),r.dispatch=n,[e,n]},useMemoCache:_u,useCacheRefresh:function(){return xe().memoizedState=vx.bind(null,ht)},useEffectEvent:function(e){var n=xe(),r={impl:e};return n.memoizedState=r,function(){if((Et&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Ru={readContext:he,use:tl,useCallback:Gd,useContext:he,useEffect:Au,useImperativeHandle:Nd,useInsertionEffect:Od,useLayoutEffect:kd,useMemo:Ld,useReducer:el,useRef:Rd,useState:function(){return el(Dn)},useDebugValue:wu,useDeferredValue:function(e,n){var r=Kt();return Ud(r,Ot.memoizedState,e,n)},useTransition:function(){var e=el(Dn)[0],n=Kt().memoizedState;return[typeof e=="boolean"?e:wa(e),n]},useSyncExternalStore:dd,useId:Pd,useHostTransitionStatus:Cu,useFormState:Md,useActionState:Md,useOptimistic:function(e,n){var r=Kt();return xd(r,Ot,e,n)},useMemoCache:_u,useCacheRefresh:Vd};Ru.useEffectEvent=zd;var Qd={readContext:he,use:tl,useCallback:Gd,useContext:he,useEffect:Au,useImperativeHandle:Nd,useInsertionEffect:Od,useLayoutEffect:kd,useMemo:Ld,useReducer:vu,useRef:Rd,useState:function(){return vu(Dn)},useDebugValue:wu,useDeferredValue:function(e,n){var r=Kt();return Ot===null?Tu(r,e,n):Ud(r,Ot.memoizedState,e,n)},useTransition:function(){var e=vu(Dn)[0],n=Kt().memoizedState;return[typeof e=="boolean"?e:wa(e),n]},useSyncExternalStore:dd,useId:Pd,useHostTransitionStatus:Cu,useFormState:Ed,useActionState:Ed,useOptimistic:function(e,n){var r=Kt();return Ot!==null?xd(r,Ot,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:_u,useCacheRefresh:Vd};Qd.useEffectEvent=zd;function Bu(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:h({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zu={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Ue(),f=ai(o);f.payload=n,r!=null&&(f.callback=r),n=ri(e,f,o),n!==null&&(Ce(n,e,o),va(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Ue(),f=ai(o);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=ri(e,f,o),n!==null&&(Ce(n,e,o),va(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Ue(),o=ai(r);o.tag=2,n!=null&&(o.callback=n),n=ri(e,o,r),n!==null&&(Ce(n,e,r),va(n,e,r))}};function Zd(e,n,r,o,f,p,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,p,v):n.prototype&&n.prototype.isPureReactComponent?!fa(r,o)||!fa(f,p):!0}function Wd(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&zu.enqueueReplaceState(n,n.state,null)}function Yi(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=h({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function Kd(e){Gr(e)}function $d(e){console.error(e)}function Jd(e){Gr(e)}function al(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function tp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ou(e,n,r){return r=ai(r),r.tag=3,r.payload={element:null},r.callback=function(){al(e,n)},r}function ep(e){return e=ai(e),e.tag=3,e}function np(e,n,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var p=o.value;e.payload=function(){return f(p)},e.callback=function(){tp(n,r,o)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){tp(n,r,o),typeof f!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Sx(e,n,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&_s(n,r,f,!0),r=De.current,r!==null){switch(r.tag){case 31:case 13:return Ze===null?yl():r.alternate===null&&It===0&&(It=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===Fr?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ic(e,o,f)),!1;case 22:return r.flags|=65536,o===Fr?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ic(e,o,f)),!1}throw Error(s(435,r.tag))}return ic(e,o,f),yl(),!1}if(St)return n=De.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Ko&&(e=Error(s(422),{cause:o}),ma(qe(e,r)))):(o!==Ko&&(n=Error(s(423),{cause:o}),ma(qe(n,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=qe(o,r),f=Ou(e.stateNode,o,f),ou(e,f),It!==4&&(It=2)),!1;var p=Error(s(520),{cause:o});if(p=qe(p,r),Da===null?Da=[p]:Da.push(p),It!==4&&(It=2),n===null)return!0;o=qe(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=Ou(r.stateNode,o,e),ou(r,e),!1;case 1:if(n=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(fi===null||!fi.has(p))))return r.flags|=65536,f&=-f,r.lanes|=f,f=ep(f),np(f,e,r,o),ou(r,f),!1}r=r.return}while(r!==null);return!1}var ku=Error(s(461)),ee=!1;function fe(e,n,r,o){n.child=e===null?rd(n,null,r,o):Hi(n,e.child,r,o)}function ip(e,n,r,o,f){r=r.render;var p=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return Ni(n),o=pu(e,n,r,v,p,f),T=mu(),e!==null&&!ee?(gu(e,n,f),Nn(e,n,f)):(St&&T&&Zo(n),n.flags|=1,fe(e,n,o,f),n.child)}function sp(e,n,r,o,f){if(e===null){var p=r.type;return typeof p=="function"&&!Fo(p)&&p.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=p,ap(e,n,p,o,f)):(e=jr(r.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!Yu(e,f)){var v=p.memoizedProps;if(r=r.compare,r=r!==null?r:fa,r(v,o)&&e.ref===n.ref)return Nn(e,n,f)}return n.flags|=1,e=Rn(p,o),e.ref=n.ref,e.return=n,n.child=e}function ap(e,n,r,o,f){if(e!==null){var p=e.memoizedProps;if(fa(p,o)&&e.ref===n.ref)if(ee=!1,n.pendingProps=o=p,Yu(e,f))(e.flags&131072)!==0&&(ee=!0);else return n.lanes=e.lanes,Nn(e,n,f)}return Du(e,n,r,o,f)}function rp(e,n,r,o){var f=o.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|r:r,e!==null){for(o=n.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~p}else o=0,n.child=null;return lp(e,n,p,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xr(n,p!==null?p.cachePool:null),p!==null?ud(n,p):cu(),cd(n);else return o=n.lanes=536870912,lp(e,n,p!==null?p.baseLanes|r:r,r,o)}else p!==null?(Xr(n,p.cachePool),ud(n,p),oi(),n.memoizedState=null):(e!==null&&Xr(n,null),cu(),oi());return fe(e,n,f,r),n.child}function Ca(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function lp(e,n,r,o,f){var p=su();return p=p===null?null:{parent:Jt._currentValue,pool:p},n.memoizedState={baseLanes:r,cachePool:p},e!==null&&Xr(n,null),cu(),cd(n),e!==null&&_s(e,n,o,!0),n.childLanes=f,null}function rl(e,n){return n=ol({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function op(e,n,r){return Hi(n,e.child,null,r),e=rl(n,n.pendingProps),e.flags|=2,Ne(n),n.memoizedState=null,e}function Ax(e,n,r){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(St){if(o.mode==="hidden")return e=rl(n,o),n.lanes=536870912,Ca(null,e);if(fu(n),(e=Ht)?(e=vm(e,Qe),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ti!==null?{id:gn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},r=qf(e),r.return=n,n.child=r,ce=n,Ht=null)):e=null,e===null)throw ni(n);return n.lanes=536870912,null}return rl(n,o)}var p=e.memoizedState;if(p!==null){var v=p.dehydrated;if(fu(n),f)if(n.flags&256)n.flags&=-257,n=op(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(ee||_s(e,n,r,!1),f=(r&e.childLanes)!==0,ee||f){if(o=Gt,o!==null&&(v=Kh(o,r),v!==0&&v!==p.retryLane))throw p.retryLane=v,zi(e,v),Ce(o,e,v),ku;yl(),n=op(e,n,r)}else e=p.treeContext,Ht=We(v.nextSibling),ce=n,St=!0,ei=null,Qe=!1,e!==null&&Qf(n,e),n=rl(n,o),n.flags|=4096;return n}return e=Rn(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ll(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Du(e,n,r,o,f){return Ni(n),r=pu(e,n,r,o,void 0,f),o=mu(),e!==null&&!ee?(gu(e,n,f),Nn(e,n,f)):(St&&o&&Zo(n),n.flags|=1,fe(e,n,r,f),n.child)}function up(e,n,r,o,f,p){return Ni(n),n.updateQueue=null,r=fd(n,o,r,f),hd(e),o=mu(),e!==null&&!ee?(gu(e,n,p),Nn(e,n,p)):(St&&o&&Zo(n),n.flags|=1,fe(e,n,r,p),n.child)}function cp(e,n,r,o,f){if(Ni(n),n.stateNode===null){var p=ps,v=r.contextType;typeof v=="object"&&v!==null&&(p=he(v)),p=new r(o,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=zu,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=o,p.state=n.memoizedState,p.refs={},ru(n),v=r.contextType,p.context=typeof v=="object"&&v!==null?he(v):ps,p.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Bu(n,r,v,o),p.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&zu.enqueueReplaceState(p,p.state,null),Sa(n,o,p,f),ba(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){p=n.stateNode;var T=n.memoizedProps,E=Yi(r,T);p.props=E;var G=p.context,Y=r.contextType;v=ps,typeof Y=="object"&&Y!==null&&(v=he(Y));var q=r.getDerivedStateFromProps;Y=typeof q=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||G!==v)&&Wd(n,p,o,v),si=!1;var U=n.memoizedState;p.state=U,Sa(n,o,p,f),ba(),G=n.memoizedState,T||U!==G||si?(typeof q=="function"&&(Bu(n,r,q,o),G=n.memoizedState),(E=si||Zd(n,r,E,o,U,G,v))?(Y||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=G),p.props=o,p.state=G,p.context=v,o=E):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{p=n.stateNode,lu(e,n),v=n.memoizedProps,Y=Yi(r,v),p.props=Y,q=n.pendingProps,U=p.context,G=r.contextType,E=ps,typeof G=="object"&&G!==null&&(E=he(G)),T=r.getDerivedStateFromProps,(G=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==q||U!==E)&&Wd(n,p,o,E),si=!1,U=n.memoizedState,p.state=U,Sa(n,o,p,f),ba();var H=n.memoizedState;v!==q||U!==H||si||e!==null&&e.dependencies!==null&&Pr(e.dependencies)?(typeof T=="function"&&(Bu(n,r,T,o),H=n.memoizedState),(Y=si||Zd(n,r,Y,o,U,H,E)||e!==null&&e.dependencies!==null&&Pr(e.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,H,E),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,H,E)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),p.props=o,p.state=H,p.context=E,o=Y):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),o=!1)}return p=o,ll(e,n),o=(n.flags&128)!==0,p||o?(p=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&o?(n.child=Hi(n,e.child,null,f),n.child=Hi(n,null,r,f)):fe(e,n,r,f),n.memoizedState=p.state,e=n.child):e=Nn(e,n,f),e}function hp(e,n,r,o){return ki(),n.flags|=256,fe(e,n,r,o),n.child}var Nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gu(e){return{baseLanes:e,cachePool:td()}}function Lu(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Le),e}function fp(e,n,r){var o=n.pendingProps,f=!1,p=(n.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(Wt.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(St){if(f?li(n):oi(),(e=Ht)?(e=vm(e,Qe),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ti!==null?{id:gn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},r=qf(e),r.return=n,n.child=r,ce=n,Ht=null)):e=null,e===null)throw ni(n);return xc(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,f?(oi(),f=n.mode,T=ol({mode:"hidden",children:T},f),o=Oi(o,f,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Gu(r),o.childLanes=Lu(e,v,r),n.memoizedState=Nu,Ca(null,o)):(li(n),Uu(n,T))}var E=e.memoizedState;if(E!==null&&(T=E.dehydrated,T!==null)){if(p)n.flags&256?(li(n),n.flags&=-257,n=Hu(e,n,r)):n.memoizedState!==null?(oi(),n.child=e.child,n.flags|=128,n=null):(oi(),T=o.fallback,f=n.mode,o=ol({mode:"visible",children:o.children},f),T=Oi(T,f,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Hi(n,e.child,null,r),o=n.child,o.memoizedState=Gu(r),o.childLanes=Lu(e,v,r),n.memoizedState=Nu,n=Ca(null,o));else if(li(n),xc(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var G=v.dgst;v=G,o=Error(s(419)),o.stack="",o.digest=v,ma({value:o,source:null,stack:null}),n=Hu(e,n,r)}else if(ee||_s(e,n,r,!1),v=(r&e.childLanes)!==0,ee||v){if(v=Gt,v!==null&&(o=Kh(v,r),o!==0&&o!==E.retryLane))throw E.retryLane=o,zi(e,o),Ce(v,e,o),ku;_c(T)||yl(),n=Hu(e,n,r)}else _c(T)?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,Ht=We(T.nextSibling),ce=n,St=!0,ei=null,Qe=!1,e!==null&&Qf(n,e),n=Uu(n,o.children),n.flags|=4096);return n}return f?(oi(),T=o.fallback,f=n.mode,E=e.child,G=E.sibling,o=Rn(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,G!==null?T=Rn(G,T):(T=Oi(T,f,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Ca(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Gu(r):(f=T.cachePool,f!==null?(E=Jt._currentValue,f=f.parent!==E?{parent:E,pool:E}:f):f=td(),T={baseLanes:T.baseLanes|r,cachePool:f}),o.memoizedState=T,o.childLanes=Lu(e,v,r),n.memoizedState=Nu,Ca(e.child,o)):(li(n),r=e.child,e=r.sibling,r=Rn(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=r,n.memoizedState=null,r)}function Uu(e,n){return n=ol({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ol(e,n){return e=ke(22,e,null,n),e.lanes=0,e}function Hu(e,n,r){return Hi(n,e.child,null,r),e=Uu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function dp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tu(e.return,n,r)}function ju(e,n,r,o,f,p){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f,treeForkCount:p}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=r,v.tailMode=f,v.treeForkCount=p)}function pp(e,n,r){var o=n.pendingProps,f=o.revealOrder,p=o.tail;o=o.children;var v=Wt.current,T=(v&2)!==0;if(T?(v=v&1|2,n.flags|=128):v&=1,Q(Wt,v),fe(e,n,o,r),o=St?pa:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dp(e,r,n);else if(e.tag===19)dp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=n.child,f=null;r!==null;)e=r.alternate,e!==null&&Wr(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),ju(n,!1,f,r,p,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Wr(e)===null){n.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}ju(n,!0,r,null,p,o);break;case"together":ju(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Nn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),hi|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(_s(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Rn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Rn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Yu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Pr(e)))}function wx(e,n,r){switch(n.tag){case 3:ae(n,n.stateNode.containerInfo),ii(n,Jt,e.memoizedState.cache),ki();break;case 27:case 5:pn(n);break;case 4:ae(n,n.stateNode.containerInfo);break;case 10:ii(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(li(n),n.flags|=128,null):(r&n.child.childLanes)!==0?fp(e,n,r):(li(n),e=Nn(e,n,r),e!==null?e.sibling:null);li(n);break;case 19:var f=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(_s(e,n,r,!1),o=(r&n.childLanes)!==0),f){if(o)return pp(e,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(Wt,Wt.current),o)break;return null;case 22:return n.lanes=0,rp(e,n,r,n.pendingProps);case 24:ii(n,Jt,e.memoizedState.cache)}return Nn(e,n,r)}function mp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ee=!0;else{if(!Yu(e,r)&&(n.flags&128)===0)return ee=!1,wx(e,n,r);ee=(e.flags&131072)!==0}else ee=!1,St&&(n.flags&1048576)!==0&&If(n,pa,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Li(n.elementType),n.type=e,typeof e=="function")Fo(e)?(o=Yi(e,o),n.tag=1,n=cp(null,n,e,o,r)):(n.tag=0,n=Du(null,n,e,o,r));else{if(e!=null){var f=e.$$typeof;if(f===z){n.tag=11,n=ip(null,n,e,o,r);break t}else if(f===L){n.tag=14,n=sp(null,n,e,o,r);break t}}throw n=dt(e)||e,Error(s(306,n,""))}}return n;case 0:return Du(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,f=Yi(o,n.pendingProps),cp(e,n,o,f,r);case 3:t:{if(ae(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var p=n.memoizedState;f=p.element,lu(e,n),Sa(n,o,null,r);var v=n.memoizedState;if(o=v.cache,ii(n,Jt,o),o!==p.cache&&eu(n,[Jt],r,!0),ba(),o=v.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=hp(e,n,o,r);break t}else if(o!==f){f=qe(Error(s(424)),n),ma(f),n=hp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ht=We(e.firstChild),ce=n,St=!0,ei=null,Qe=!0,r=rd(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ki(),o===f){n=Nn(e,n,r);break t}fe(e,n,o,r)}n=n.child}return n;case 26:return ll(e,n),e===null?(r=Mm(n.type,null,n.pendingProps,null))?n.memoizedState=r:St||(r=n.type,e=n.pendingProps,o=wl(ct.current).createElement(r),o[ue]=n,o[be]=e,de(o,r,e),re(o),n.stateNode=o):n.memoizedState=Mm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return pn(n),e===null&&St&&(o=n.stateNode=Am(n.type,n.pendingProps,ct.current),ce=n,Qe=!0,f=Ht,gi(n.type)?(vc=f,Ht=We(o.firstChild)):Ht=f),fe(e,n,n.pendingProps.children,r),ll(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&St&&((f=o=Ht)&&(o=tv(o,n.type,n.pendingProps,Qe),o!==null?(n.stateNode=o,ce=n,Ht=We(o.firstChild),Qe=!1,f=!0):f=!1),f||ni(n)),pn(n),f=n.type,p=n.pendingProps,v=e!==null?e.memoizedProps:null,o=p.children,mc(f,p)?o=null:v!==null&&mc(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=pu(e,n,mx,null,null,r),Pa._currentValue=f),ll(e,n),fe(e,n,o,r),n.child;case 6:return e===null&&St&&((e=r=Ht)&&(r=ev(r,n.pendingProps,Qe),r!==null?(n.stateNode=r,ce=n,Ht=null,e=!0):e=!1),e||ni(n)),null;case 13:return fp(e,n,r);case 4:return ae(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Hi(n,null,o,r):fe(e,n,o,r),n.child;case 11:return ip(e,n,n.type,n.pendingProps,r);case 7:return fe(e,n,n.pendingProps,r),n.child;case 8:return fe(e,n,n.pendingProps.children,r),n.child;case 12:return fe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ii(n,n.type,o.value),fe(e,n,o.children,r),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Ni(n),f=he(f),o=o(f),n.flags|=1,fe(e,n,o,r),n.child;case 14:return sp(e,n,n.type,n.pendingProps,r);case 15:return ap(e,n,n.type,n.pendingProps,r);case 19:return pp(e,n,r);case 31:return Ax(e,n,r);case 22:return rp(e,n,r,n.pendingProps);case 24:return Ni(n),o=he(Jt),e===null?(f=su(),f===null&&(f=Gt,p=nu(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=r),f=p),n.memoizedState={parent:o,cache:f},ru(n),ii(n,Jt,f)):((e.lanes&r)!==0&&(lu(e,n),Sa(n,null,null,r),ba()),f=e.memoizedState,p=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),ii(n,Jt,o)):(o=p.cache,ii(n,Jt,o),o!==f.cache&&eu(n,[Jt],r,!0))),fe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Gn(e){e.flags|=4}function Pu(e,n,r,o,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Pp())e.flags|=8192;else throw Ui=Fr,au}else e.flags&=-16777217}function gp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zm(n))if(Pp())e.flags|=8192;else throw Ui=Fr,au}function ul(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Qh():536870912,e.lanes|=n,Bs|=n)}function Ea(e,n){if(!St)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function jt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function Tx(e,n,r){var o=n.pendingProps;switch(Wo(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(n),null;case 1:return jt(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),On(Jt),Lt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ys(n)?Gn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$o())),jt(n),null;case 26:var f=n.type,p=n.memoizedState;return e===null?(Gn(n),p!==null?(jt(n),gp(n,p)):(jt(n),Pu(n,f,null,o,r))):p?p!==e.memoizedState?(Gn(n),jt(n),gp(n,p)):(jt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gn(n),jt(n),Pu(n,f,e,o,r)),null;case 27:if(Wn(n),r=ct.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return jt(n),null}e=$.current,ys(n)?Zf(n):(e=Am(f,o,r),n.stateNode=e,Gn(n))}return jt(n),null;case 5:if(Wn(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return jt(n),null}if(p=$.current,ys(n))Zf(n);else{var v=wl(ct.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?p.multiple=!0:o.size&&(p.size=o.size);break;default:p=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}p[ue]=n,p[be]=o;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=p;t:switch(de(p,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gn(n)}}return jt(n),Pu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ct.current,ys(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,f=ce,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[ue]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||fm(e.nodeValue,r)),e||ni(n,!0)}else e=wl(e).createTextNode(o),e[ue]=n,n.stateNode=e}return jt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ys(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ue]=n}else ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;jt(n),e=!1}else r=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Ne(n),n):(Ne(n),null);if((n.flags&128)!==0)throw Error(s(558))}return jt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=ys(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ue]=n}else ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;jt(n),f=!1}else f=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Ne(n),n):(Ne(n),null)}return Ne(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==f&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),ul(n,n.updateQueue),jt(n),null);case 4:return Lt(),e===null&&cc(n.stateNode.containerInfo),jt(n),null;case 10:return On(n.type),jt(n),null;case 19:if(X(Wt),o=n.memoizedState,o===null)return jt(n),null;if(f=(n.flags&128)!==0,p=o.rendering,p===null)if(f)Ea(o,!1);else{if(It!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Wr(e),p!==null){for(n.flags|=128,Ea(o,!1),e=p.updateQueue,n.updateQueue=e,ul(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Xf(r,e),r=r.sibling;return Q(Wt,Wt.current&1|2),St&&Bn(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Re()>pl&&(n.flags|=128,f=!0,Ea(o,!1),n.lanes=4194304)}else{if(!f)if(e=Wr(p),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,ul(n,e),Ea(o,!0),o.tail===null&&o.tailMode==="hidden"&&!p.alternate&&!St)return jt(n),null}else 2*Re()-o.renderingStartTime>pl&&r!==536870912&&(n.flags|=128,f=!0,Ea(o,!1),n.lanes=4194304);o.isBackwards?(p.sibling=n.child,n.child=p):(e=o.last,e!==null?e.sibling=p:n.child=p,o.last=p)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Re(),e.sibling=null,r=Wt.current,Q(Wt,f?r&1|2:r&1),St&&Bn(n,o.treeForkCount),e):(jt(n),null);case 22:case 23:return Ne(n),hu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(jt(n),n.subtreeFlags&6&&(n.flags|=8192)):jt(n),r=n.updateQueue,r!==null&&ul(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&X(Gi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),On(Jt),jt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Mx(e,n){switch(Wo(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return On(Jt),Lt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Wn(n),null;case 31:if(n.memoizedState!==null){if(Ne(n),n.alternate===null)throw Error(s(340));ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ne(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(Wt),null;case 4:return Lt(),null;case 10:return On(n.type),null;case 22:case 23:return Ne(n),hu(),e!==null&&X(Gi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return On(Jt),null;case 25:return null;default:return null}}function yp(e,n){switch(Wo(n),n.tag){case 3:On(Jt),Lt();break;case 26:case 27:case 5:Wn(n);break;case 4:Lt();break;case 31:n.memoizedState!==null&&Ne(n);break;case 13:Ne(n);break;case 19:X(Wt);break;case 10:On(n.type);break;case 22:case 23:Ne(n),hu(),e!==null&&X(Gi);break;case 24:On(Jt)}}function Ra(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&e)===e){o=void 0;var p=r.create,v=r.inst;o=p(),v.destroy=o}r=r.next}while(r!==f)}}catch(T){Bt(n,n.return,T)}}function ui(e,n,r){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=n;var E=r,G=T;try{G()}catch(Y){Bt(f,E,Y)}}}o=o.next}while(o!==p)}}catch(Y){Bt(n,n.return,Y)}}function _p(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{od(n,r)}catch(o){Bt(e,e.return,o)}}}function xp(e,n,r){r.props=Yi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Bt(e,n,o)}}function Ba(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(f){Bt(e,n,f)}}function _n(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Bt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Bt(e,n,f)}else r.current=null}function vp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Bt(e,e.return,f)}}function Vu(e,n,r){try{var o=e.stateNode;Qx(o,e.type,r,n),o[be]=n}catch(f){Bt(e,e.return,f)}}function bp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gi(e.type)||e.tag===4}function Xu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Cn));else if(o!==4&&(o===27&&gi(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(qu(e,n,r),e=e.sibling;e!==null;)qu(e,n,r),e=e.sibling}function cl(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&gi(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(cl(e,n,r),e=e.sibling;e!==null;)cl(e,n,r),e=e.sibling}function Sp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);de(n,o,r),n[ue]=e,n[be]=r}catch(p){Bt(e,e.return,p)}}var Ln=!1,ne=!1,Fu=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,le=null;function Cx(e,n){if(e=e.containerInfo,dc=zl,e=Nf(e),Ho(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break t}var v=0,T=-1,E=-1,G=0,Y=0,q=e,U=null;e:for(;;){for(var H;q!==r||f!==0&&q.nodeType!==3||(T=v+f),q!==p||o!==0&&q.nodeType!==3||(E=v+o),q.nodeType===3&&(v+=q.nodeValue.length),(H=q.firstChild)!==null;)U=q,q=H;for(;;){if(q===e)break e;if(U===r&&++G===f&&(T=v),U===p&&++Y===o&&(E=v),(H=q.nextSibling)!==null)break;q=U,U=q.parentNode}q=H}r=T===-1||E===-1?null:{start:T,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(pc={focusedElem:e,selectionRange:r},zl=!1,le=n;le!==null;)if(n=le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,le=e;else for(;le!==null;){switch(n=le,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,r=n,f=p.memoizedProps,p=p.memoizedState,o=r.stateNode;try{var J=Yi(r.type,f);e=o.getSnapshotBeforeUpdate(J,p),o.__reactInternalSnapshotBeforeUpdate=e}catch(rt){Bt(r,r.return,rt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)yc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,le=e;break}le=n.return}}function wp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Hn(e,r),o&4&&Ra(5,r);break;case 1:if(Hn(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(v){Bt(r,r.return,v)}else{var f=Yi(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Bt(r,r.return,v)}}o&64&&_p(r),o&512&&Ba(r,r.return);break;case 3:if(Hn(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{od(e,n)}catch(v){Bt(r,r.return,v)}}break;case 27:n===null&&o&4&&Sp(r);case 26:case 5:Hn(e,r),n===null&&o&4&&vp(r),o&512&&Ba(r,r.return);break;case 12:Hn(e,r);break;case 31:Hn(e,r),o&4&&Cp(e,r);break;case 13:Hn(e,r),o&4&&Ep(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Gx.bind(null,r),nv(e,r))));break;case 22:if(o=r.memoizedState!==null||Ln,!o){n=n!==null&&n.memoizedState!==null||ne,f=Ln;var p=ne;Ln=o,(ne=n)&&!p?jn(e,r,(r.subtreeFlags&8772)!==0):Hn(e,r),Ln=f,ne=p}break;case 30:break;default:Hn(e,r)}}function Tp(e){var n=e.alternate;n!==null&&(e.alternate=null,Tp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&So(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Vt=null,Ae=!1;function Un(e,n,r){for(r=r.child;r!==null;)Mp(e,n,r),r=r.sibling}function Mp(e,n,r){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(ta,r)}catch{}switch(r.tag){case 26:ne||_n(r,n),Un(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ne||_n(r,n);var o=Vt,f=Ae;gi(r.type)&&(Vt=r.stateNode,Ae=!1),Un(e,n,r),Ha(r.stateNode),Vt=o,Ae=f;break;case 5:ne||_n(r,n);case 6:if(o=Vt,f=Ae,Vt=null,Un(e,n,r),Vt=o,Ae=f,Vt!==null)if(Ae)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(r.stateNode)}catch(p){Bt(r,n,p)}else try{Vt.removeChild(r.stateNode)}catch(p){Bt(r,n,p)}break;case 18:Vt!==null&&(Ae?(e=Vt,_m(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Us(e)):_m(Vt,r.stateNode));break;case 4:o=Vt,f=Ae,Vt=r.stateNode.containerInfo,Ae=!0,Un(e,n,r),Vt=o,Ae=f;break;case 0:case 11:case 14:case 15:ui(2,r,n),ne||ui(4,r,n),Un(e,n,r);break;case 1:ne||(_n(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&xp(r,n,o)),Un(e,n,r);break;case 21:Un(e,n,r);break;case 22:ne=(o=ne)||r.memoizedState!==null,Un(e,n,r),ne=o;break;default:Un(e,n,r)}}function Cp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Us(e)}catch(r){Bt(n,n.return,r)}}}function Ep(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Us(e)}catch(r){Bt(n,n.return,r)}}function Ex(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ap),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ap),n;default:throw Error(s(435,e.tag))}}function hl(e,n){var r=Ex(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var f=Lx.bind(null,e,o);o.then(f,f)}})}function we(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],p=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(gi(T.type)){Vt=T.stateNode,Ae=!1;break t}break;case 5:Vt=T.stateNode,Ae=!1;break t;case 3:case 4:Vt=T.stateNode.containerInfo,Ae=!0;break t}T=T.return}if(Vt===null)throw Error(s(160));Mp(p,v,f),Vt=null,Ae=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Rp(n,e),n=n.sibling}var an=null;function Rp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:we(n,e),Te(e),o&4&&(ui(3,e,e.return),Ra(3,e),ui(5,e,e.return));break;case 1:we(n,e),Te(e),o&512&&(ne||r===null||_n(r,r.return)),o&64&&Ln&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=an;if(we(n,e),Te(e),o&512&&(ne||r===null||_n(r,r.return)),o&4){var p=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ia]||p[ue]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(o),f.head.insertBefore(p,f.querySelector("head > title"))),de(p,o,r),p[ue]=e,re(p),o=p;break t;case"link":var v=Rm("link","href",f).get(o+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(p=v[T],p.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break e}}p=f.createElement(o),de(p,o,r),f.head.appendChild(p);break;case"meta":if(v=Rm("meta","content",f).get(o+(r.content||""))){for(T=0;T<v.length;T++)if(p=v[T],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break e}}p=f.createElement(o),de(p,o,r),f.head.appendChild(p);break;default:throw Error(s(468,o))}p[ue]=e,re(p),o=p}e.stateNode=o}else Bm(f,e.type,e.stateNode);else e.stateNode=Em(f,o,e.memoizedProps);else p!==o?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,o===null?Bm(f,e.type,e.stateNode):Em(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vu(e,e.memoizedProps,r.memoizedProps)}break;case 27:we(n,e),Te(e),o&512&&(ne||r===null||_n(r,r.return)),r!==null&&o&4&&Vu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(we(n,e),Te(e),o&512&&(ne||r===null||_n(r,r.return)),e.flags&32){f=e.stateNode;try{ls(f,"")}catch(J){Bt(e,e.return,J)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Vu(e,f,r!==null?r.memoizedProps:f)),o&1024&&(Fu=!0);break;case 6:if(we(n,e),Te(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(J){Bt(e,e.return,J)}}break;case 3:if(Cl=null,f=an,an=Tl(n.containerInfo),we(n,e),an=f,Te(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Us(n.containerInfo)}catch(J){Bt(e,e.return,J)}Fu&&(Fu=!1,Bp(e));break;case 4:o=an,an=Tl(e.stateNode.containerInfo),we(n,e),Te(e),an=o;break;case 12:we(n,e),Te(e);break;case 31:we(n,e),Te(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hl(e,o)));break;case 13:we(n,e),Te(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(dl=Re()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hl(e,o)));break;case 22:f=e.memoizedState!==null;var E=r!==null&&r.memoizedState!==null,G=Ln,Y=ne;if(Ln=G||f,ne=Y||E,we(n,e),ne=Y,Ln=G,Te(e),o&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||E||Ln||ne||Pi(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){E=r=n;try{if(p=E.stateNode,f)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=E.stateNode;var q=E.memoizedProps.style,U=q!=null&&q.hasOwnProperty("display")?q.display:null;T.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(J){Bt(E,E.return,J)}}}else if(n.tag===6){if(r===null){E=n;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(J){Bt(E,E.return,J)}}}else if(n.tag===18){if(r===null){E=n;try{var H=E.stateNode;f?xm(H,!0):xm(E.stateNode,!1)}catch(J){Bt(E,E.return,J)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,hl(e,r))));break;case 19:we(n,e),Te(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,hl(e,o)));break;case 30:break;case 21:break;default:we(n,e),Te(e)}}function Te(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(bp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var f=r.stateNode,p=Xu(e);cl(e,p,f);break;case 5:var v=r.stateNode;r.flags&32&&(ls(v,""),r.flags&=-33);var T=Xu(e);cl(e,T,v);break;case 3:case 4:var E=r.stateNode.containerInfo,G=Xu(e);qu(e,G,E);break;default:throw Error(s(161))}}catch(Y){Bt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Bp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Bp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wp(e,n.alternate,n),n=n.sibling}function Pi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ui(4,n,n.return),Pi(n);break;case 1:_n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&xp(n,n.return,r),Pi(n);break;case 27:Ha(n.stateNode);case 26:case 5:_n(n,n.return),Pi(n);break;case 22:n.memoizedState===null&&Pi(n);break;case 30:Pi(n);break;default:Pi(n)}e=e.sibling}}function jn(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,p=n,v=p.flags;switch(p.tag){case 0:case 11:case 15:jn(f,p,r),Ra(4,p);break;case 1:if(jn(f,p,r),o=p,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Bt(o,o.return,G)}if(o=p,f=o.updateQueue,f!==null){var T=o.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)ld(E[f],T)}catch(G){Bt(o,o.return,G)}}r&&v&64&&_p(p),Ba(p,p.return);break;case 27:Sp(p);case 26:case 5:jn(f,p,r),r&&o===null&&v&4&&vp(p),Ba(p,p.return);break;case 12:jn(f,p,r);break;case 31:jn(f,p,r),r&&v&4&&Cp(f,p);break;case 13:jn(f,p,r),r&&v&4&&Ep(f,p);break;case 22:p.memoizedState===null&&jn(f,p,r),Ba(p,p.return);break;case 30:break;default:jn(f,p,r)}n=n.sibling}}function Iu(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ga(r))}function Qu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ga(e))}function rn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zp(e,n,r,o),n=n.sibling}function zp(e,n,r,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:rn(e,n,r,o),f&2048&&Ra(9,n);break;case 1:rn(e,n,r,o);break;case 3:rn(e,n,r,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ga(e)));break;case 12:if(f&2048){rn(e,n,r,o),e=n.stateNode;try{var p=n.memoizedProps,v=p.id,T=p.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Bt(n,n.return,E)}}else rn(e,n,r,o);break;case 31:rn(e,n,r,o);break;case 13:rn(e,n,r,o);break;case 23:break;case 22:p=n.stateNode,v=n.alternate,n.memoizedState!==null?p._visibility&2?rn(e,n,r,o):za(e,n):p._visibility&2?rn(e,n,r,o):(p._visibility|=2,Cs(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Iu(v,n);break;case 24:rn(e,n,r,o),f&2048&&Qu(n.alternate,n);break;default:rn(e,n,r,o)}}function Cs(e,n,r,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,v=n,T=r,E=o,G=v.flags;switch(v.tag){case 0:case 11:case 15:Cs(p,v,T,E,f),Ra(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Cs(p,v,T,E,f):za(p,v):(Y._visibility|=2,Cs(p,v,T,E,f)),f&&G&2048&&Iu(v.alternate,v);break;case 24:Cs(p,v,T,E,f),f&&G&2048&&Qu(v.alternate,v);break;default:Cs(p,v,T,E,f)}n=n.sibling}}function za(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,f=o.flags;switch(o.tag){case 22:za(r,o),f&2048&&Iu(o.alternate,o);break;case 24:za(r,o),f&2048&&Qu(o.alternate,o);break;default:za(r,o)}n=n.sibling}}var Oa=8192;function Es(e,n,r){if(e.subtreeFlags&Oa)for(e=e.child;e!==null;)Op(e,n,r),e=e.sibling}function Op(e,n,r){switch(e.tag){case 26:Es(e,n,r),e.flags&Oa&&e.memoizedState!==null&&pv(r,an,e.memoizedState,e.memoizedProps);break;case 5:Es(e,n,r);break;case 3:case 4:var o=an;an=Tl(e.stateNode.containerInfo),Es(e,n,r),an=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Oa,Oa=16777216,Es(e,n,r),Oa=o):Es(e,n,r));break;default:Es(e,n,r)}}function kp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ka(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];le=o,Np(o,e)}kp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dp(e),e=e.sibling}function Dp(e){switch(e.tag){case 0:case 11:case 15:ka(e),e.flags&2048&&ui(9,e,e.return);break;case 3:ka(e);break;case 12:ka(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,fl(e)):ka(e);break;default:ka(e)}}function fl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];le=o,Np(o,e)}kp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ui(8,n,n.return),fl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,fl(n));break;default:fl(n)}e=e.sibling}}function Np(e,n){for(;le!==null;){var r=le;switch(r.tag){case 0:case 11:case 15:ui(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ga(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,le=o;else t:for(r=e;le!==null;){o=le;var f=o.sibling,p=o.return;if(Tp(o),o===r){le=null;break t}if(f!==null){f.return=p,le=f;break t}le=p}}}var Rx={getCacheForType:function(e){var n=he(Jt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return he(Jt).controller.signal}},Bx=typeof WeakMap=="function"?WeakMap:Map,Et=0,Gt=null,gt=null,xt=0,Rt=0,Ge=null,ci=!1,Rs=!1,Zu=!1,Yn=0,It=0,hi=0,Vi=0,Wu=0,Le=0,Bs=0,Da=null,Me=null,Ku=!1,dl=0,Gp=0,pl=1/0,ml=null,fi=null,se=0,di=null,zs=null,Pn=0,$u=0,Ju=null,Lp=null,Na=0,tc=null;function Ue(){return(Et&2)!==0&&xt!==0?xt&-xt:O.T!==null?rc():$h()}function Up(){if(Le===0)if((xt&536870912)===0||St){var e=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),Le=e}else Le=536870912;return e=De.current,e!==null&&(e.flags|=32),Le}function Ce(e,n,r){(e===Gt&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)&&(Os(e,0),pi(e,xt,Le,!1)),na(e,r),((Et&2)===0||e!==Gt)&&(e===Gt&&((Et&2)===0&&(Vi|=r),It===4&&pi(e,xt,Le,!1)),xn(e))}function Hp(e,n,r){if((Et&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||ea(e,n),f=o?kx(e,n):nc(e,n,!0),p=o;do{if(f===0){Rs&&!o&&pi(e,n,0,!1);break}else{if(r=e.current.alternate,p&&!zx(r)){f=nc(e,n,!1),p=!1;continue}if(f===2){if(p=n,e.errorRecoveryDisabledLanes&p)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;f=Da;var E=T.current.memoizedState.isDehydrated;if(E&&(Os(T,v).flags|=256),v=nc(T,v,!1),v!==2){if(Zu&&!E){T.errorRecoveryDisabledLanes|=p,Vi|=p,f=4;break t}p=Me,Me=f,p!==null&&(Me===null?Me=p:Me.push.apply(Me,p))}f=v}if(p=!1,f!==2)continue}}if(f===1){Os(e,0),pi(e,n,0,!0);break}t:{switch(o=e,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:pi(o,n,Le,!ci);break t;case 2:Me=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=dl+300-Re(),10<f)){if(pi(o,n,Le,!ci),Tr(o,0,!0)!==0)break t;Pn=n,o.timeoutHandle=gm(jp.bind(null,o,r,Me,ml,Ku,n,Le,Vi,Bs,ci,p,"Throttled",-0,0),f);break t}jp(o,r,Me,ml,Ku,n,Le,Vi,Bs,ci,p,null,-0,0)}}break}while(!0);xn(e)}function jp(e,n,r,o,f,p,v,T,E,G,Y,q,U,H){if(e.timeoutHandle=-1,q=n.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},Op(n,p,q);var J=(p&62914560)===p?dl-Re():(p&4194048)===p?Gp-Re():0;if(J=mv(q,J),J!==null){Pn=p,e.cancelPendingCommit=J(Qp.bind(null,e,n,p,r,o,f,v,T,E,Y,q,null,U,H)),pi(e,p,v,!G);return}}Qp(e,n,p,r,o,f,v,T,E)}function zx(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],p=f.getSnapshot;f=f.value;try{if(!Oe(p(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pi(e,n,r,o){n&=~Wu,n&=~Vi,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var p=31-ze(f),v=1<<p;o[p]=-1,f&=~v}r!==0&&Zh(e,r,n)}function gl(){return(Et&6)===0?(Ga(0),!1):!0}function ec(){if(gt!==null){if(Rt===0)var e=gt.return;else e=gt,zn=Di=null,yu(e),Ss=null,_a=0,e=gt;for(;e!==null;)yp(e.alternate,e),e=e.return;gt=null}}function Os(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Kx(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Pn=0,ec(),Gt=e,gt=r=Rn(e.current,null),xt=n,Rt=0,Ge=null,ci=!1,Rs=ea(e,n),Zu=!1,Bs=Le=Wu=Vi=hi=It=0,Me=Da=null,Ku=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-ze(o),p=1<<f;n|=e[f],o&=~p}return Yn=n,Lr(),r}function Yp(e,n){ht=null,O.H=Ma,n===bs||n===qr?(n=id(),Rt=3):n===au?(n=id(),Rt=4):Rt=n===ku?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ge=n,gt===null&&(It=1,al(e,qe(n,e.current)))}function Pp(){var e=De.current;return e===null?!0:(xt&4194048)===xt?Ze===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Ze:!1}function Vp(){var e=O.H;return O.H=Ma,e===null?Ma:e}function Xp(){var e=O.A;return O.A=Rx,e}function yl(){It=4,ci||(xt&4194048)!==xt&&De.current!==null||(Rs=!0),(hi&134217727)===0&&(Vi&134217727)===0||Gt===null||pi(Gt,xt,Le,!1)}function nc(e,n,r){var o=Et;Et|=2;var f=Vp(),p=Xp();(Gt!==e||xt!==n)&&(ml=null,Os(e,n)),n=!1;var v=It;t:do try{if(Rt!==0&&gt!==null){var T=gt,E=Ge;switch(Rt){case 8:ec(),v=6;break t;case 3:case 2:case 9:case 6:De.current===null&&(n=!0);var G=Rt;if(Rt=0,Ge=null,ks(e,T,E,G),r&&Rs){v=0;break t}break;default:G=Rt,Rt=0,Ge=null,ks(e,T,E,G)}}Ox(),v=It;break}catch(Y){Yp(e,Y)}while(!0);return n&&e.shellSuspendCounter++,zn=Di=null,Et=o,O.H=f,O.A=p,gt===null&&(Gt=null,xt=0,Lr()),v}function Ox(){for(;gt!==null;)qp(gt)}function kx(e,n){var r=Et;Et|=2;var o=Vp(),f=Xp();Gt!==e||xt!==n?(ml=null,pl=Re()+500,Os(e,n)):Rs=ea(e,n);t:do try{if(Rt!==0&&gt!==null){n=gt;var p=Ge;e:switch(Rt){case 1:Rt=0,Ge=null,ks(e,n,p,1);break;case 2:case 9:if(ed(p)){Rt=0,Ge=null,Fp(n);break}n=function(){Rt!==2&&Rt!==9||Gt!==e||(Rt=7),xn(e)},p.then(n,n);break t;case 3:Rt=7;break t;case 4:Rt=5;break t;case 7:ed(p)?(Rt=0,Ge=null,Fp(n)):(Rt=0,Ge=null,ks(e,n,p,7));break;case 5:var v=null;switch(gt.tag){case 26:v=gt.memoizedState;case 5:case 27:var T=gt;if(v?zm(v):T.stateNode.complete){Rt=0,Ge=null;var E=T.sibling;if(E!==null)gt=E;else{var G=T.return;G!==null?(gt=G,_l(G)):gt=null}break e}}Rt=0,Ge=null,ks(e,n,p,5);break;case 6:Rt=0,Ge=null,ks(e,n,p,6);break;case 8:ec(),It=6;break t;default:throw Error(s(462))}}Dx();break}catch(Y){Yp(e,Y)}while(!0);return zn=Di=null,O.H=o,O.A=f,Et=r,gt!==null?0:(Gt=null,xt=0,Lr(),It)}function Dx(){for(;gt!==null&&!i_();)qp(gt)}function qp(e){var n=mp(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,n===null?_l(e):gt=n}function Fp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=up(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=up(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:yu(n);default:yp(r,n),n=gt=Xf(n,Yn),n=mp(r,n,Yn)}e.memoizedProps=e.pendingProps,n===null?_l(e):gt=n}function ks(e,n,r,o){zn=Di=null,yu(n),Ss=null,_a=0;var f=n.return;try{if(Sx(e,f,n,r,xt)){It=1,al(e,qe(r,e.current)),gt=null;return}}catch(p){if(f!==null)throw gt=f,p;It=1,al(e,qe(r,e.current)),gt=null;return}n.flags&32768?(St||o===1?e=!0:Rs||(xt&536870912)!==0?e=!1:(ci=e=!0,(o===2||o===9||o===3||o===6)&&(o=De.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ip(n,e)):_l(n)}function _l(e){var n=e;do{if((n.flags&32768)!==0){Ip(n,ci);return}e=n.return;var r=Tx(n.alternate,n,Yn);if(r!==null){gt=r;return}if(n=n.sibling,n!==null){gt=n;return}gt=n=e}while(n!==null);It===0&&(It=5)}function Ip(e,n){do{var r=Mx(e.alternate,e);if(r!==null){r.flags&=32767,gt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){gt=e;return}gt=e=r}while(e!==null);It=6,gt=null}function Qp(e,n,r,o,f,p,v,T,E){e.cancelPendingCommit=null;do xl();while(se!==0);if((Et&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(p=n.lanes|n.childLanes,p|=Xo,d_(e,r,p,v,T,E),e===Gt&&(gt=Gt=null,xt=0),zs=n,di=e,Pn=r,$u=p,Ju=f,Lp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ux(br,function(){return Jp(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=O.T,O.T=null,f=P.p,P.p=2,v=Et,Et|=4;try{Cx(e,n,r)}finally{Et=v,P.p=f,O.T=o}}se=1,Zp(),Wp(),Kp()}}function Zp(){if(se===1){se=0;var e=di,n=zs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=O.T,O.T=null;var o=P.p;P.p=2;var f=Et;Et|=4;try{Rp(n,e);var p=pc,v=Nf(e.containerInfo),T=p.focusedElem,E=p.selectionRange;if(v!==T&&T&&T.ownerDocument&&Df(T.ownerDocument.documentElement,T)){if(E!==null&&Ho(T)){var G=E.start,Y=E.end;if(Y===void 0&&(Y=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(Y,T.value.length);else{var q=T.ownerDocument||document,U=q&&q.defaultView||window;if(U.getSelection){var H=U.getSelection(),J=T.textContent.length,rt=Math.min(E.start,J),Dt=E.end===void 0?rt:Math.min(E.end,J);!H.extend&&rt>Dt&&(v=Dt,Dt=rt,rt=v);var k=kf(T,rt),R=kf(T,Dt);if(k&&R&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==R.node||H.focusOffset!==R.offset)){var D=q.createRange();D.setStart(k.node,k.offset),H.removeAllRanges(),rt>Dt?(H.addRange(D),H.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),H.addRange(D))}}}}for(q=[],H=T;H=H.parentNode;)H.nodeType===1&&q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<q.length;T++){var V=q[T];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}zl=!!dc,pc=dc=null}finally{Et=f,P.p=o,O.T=r}}e.current=n,se=2}}function Wp(){if(se===2){se=0;var e=di,n=zs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=O.T,O.T=null;var o=P.p;P.p=2;var f=Et;Et|=4;try{wp(e,n.alternate,n)}finally{Et=f,P.p=o,O.T=r}}se=3}}function Kp(){if(se===4||se===3){se=0,s_();var e=di,n=zs,r=Pn,o=Lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?se=5:(se=0,zs=di=null,$p(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(fi=null),vo(r),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(ta,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=O.T,f=P.p,P.p=2,O.T=null;try{for(var p=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];p(T.value,{componentStack:T.stack})}}finally{O.T=n,P.p=f}}(Pn&3)!==0&&xl(),xn(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===tc?Na++:(Na=0,tc=e):Na=0,Ga(0)}}function $p(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ga(n)))}function xl(){return Zp(),Wp(),Kp(),Jp()}function Jp(){if(se!==5)return!1;var e=di,n=$u;$u=0;var r=vo(Pn),o=O.T,f=P.p;try{P.p=32>r?32:r,O.T=null,r=Ju,Ju=null;var p=di,v=Pn;if(se=0,zs=di=null,Pn=0,(Et&6)!==0)throw Error(s(331));var T=Et;if(Et|=4,Dp(p.current),zp(p,p.current,v,r),Et=T,Ga(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(ta,p)}catch{}return!0}finally{P.p=f,O.T=o,$p(e,n)}}function tm(e,n,r){n=qe(r,n),n=Ou(e.stateNode,n,2),e=ri(e,n,2),e!==null&&(na(e,2),xn(e))}function Bt(e,n,r){if(e.tag===3)tm(e,e,r);else for(;n!==null;){if(n.tag===3){tm(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(fi===null||!fi.has(o))){e=qe(r,e),r=ep(2),o=ri(n,r,2),o!==null&&(np(r,o,n,e),na(o,2),xn(o));break}}n=n.return}}function ic(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Bx;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(r)||(Zu=!0,f.add(r),e=Nx.bind(null,e,n,r),n.then(e,e))}function Nx(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Gt===e&&(xt&r)===r&&(It===4||It===3&&(xt&62914560)===xt&&300>Re()-dl?(Et&2)===0&&Os(e,0):Wu|=r,Bs===xt&&(Bs=0)),xn(e)}function em(e,n){n===0&&(n=Qh()),e=zi(e,n),e!==null&&(na(e,n),xn(e))}function Gx(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),em(e,r)}function Lx(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),em(e,r)}function Ux(e,n){return go(e,n)}var vl=null,Ds=null,sc=!1,bl=!1,ac=!1,mi=0;function xn(e){e!==Ds&&e.next===null&&(Ds===null?vl=Ds=e:Ds=Ds.next=e),bl=!0,sc||(sc=!0,jx())}function Ga(e,n){if(!ac&&bl){ac=!0;do for(var r=!1,o=vl;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var p=0;else{var v=o.suspendedLanes,T=o.pingedLanes;p=(1<<31-ze(42|e)+1)-1,p&=f&~(v&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(r=!0,am(o,p))}else p=xt,p=Tr(o,o===Gt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(p&3)===0||ea(o,p)||(r=!0,am(o,p));o=o.next}while(r);ac=!1}}function Hx(){nm()}function nm(){bl=sc=!1;var e=0;mi!==0&&Wx()&&(e=mi);for(var n=Re(),r=null,o=vl;o!==null;){var f=o.next,p=im(o,n);p===0?(o.next=null,r===null?vl=f:r.next=f,f===null&&(Ds=r)):(r=o,(e!==0||(p&3)!==0)&&(bl=!0)),o=f}se!==0&&se!==5||Ga(e),mi!==0&&(mi=0)}function im(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var v=31-ze(p),T=1<<v,E=f[v];E===-1?((T&r)===0||(T&o)!==0)&&(f[v]=f_(T,n)):E<=n&&(e.expiredLanes|=T),p&=~T}if(n=Gt,r=xt,r=Tr(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&yo(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ea(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&yo(o),vo(r)){case 2:case 8:r=Fh;break;case 32:r=br;break;case 268435456:r=Ih;break;default:r=br}return o=sm.bind(null,e),r=go(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&yo(o),e.callbackPriority=2,e.callbackNode=null,2}function sm(e,n){if(se!==0&&se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(xl()&&e.callbackNode!==r)return null;var o=xt;return o=Tr(e,e===Gt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Hp(e,o,n),im(e,Re()),e.callbackNode!=null&&e.callbackNode===r?sm.bind(null,e):null)}function am(e,n){if(xl())return null;Hp(e,n,!0)}function jx(){$x(function(){(Et&6)!==0?go(qh,Hx):nm()})}function rc(){if(mi===0){var e=xs;e===0&&(e=Sr,Sr<<=1,(Sr&261888)===0&&(Sr=256)),mi=e}return mi}function rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rr(""+e)}function lm(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Yx(e,n,r,o,f){if(n==="submit"&&r&&r.stateNode===f){var p=rm((f[be]||null).action),v=o.submitter;v&&(n=(n=v[be]||null)?rm(n.formAction):v.getAttribute("formAction"),n!==null&&(p=n,v=null));var T=new kr("action","action",null,o,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(mi!==0){var E=v?lm(f,v):new FormData(f);Mu(r,{pending:!0,data:E,method:f.method,action:p},null,E)}}else typeof p=="function"&&(T.preventDefault(),E=v?lm(f,v):new FormData(f),Mu(r,{pending:!0,data:E,method:f.method,action:p},p,E))},currentTarget:f}]})}}for(var lc=0;lc<Vo.length;lc++){var oc=Vo[lc],Px=oc.toLowerCase(),Vx=oc[0].toUpperCase()+oc.slice(1);sn(Px,"on"+Vx)}sn(Uf,"onAnimationEnd"),sn(Hf,"onAnimationIteration"),sn(jf,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(ax,"onTransitionRun"),sn(rx,"onTransitionStart"),sn(lx,"onTransitionCancel"),sn(Yf,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(La));function om(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],f=o.event;o=o.listeners;t:{var p=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],E=T.instance,G=T.currentTarget;if(T=T.listener,E!==p&&f.isPropagationStopped())break t;p=T,f.currentTarget=G;try{p(f)}catch(Y){Gr(Y)}f.currentTarget=null,p=E}else for(v=0;v<o.length;v++){if(T=o[v],E=T.instance,G=T.currentTarget,T=T.listener,E!==p&&f.isPropagationStopped())break t;p=T,f.currentTarget=G;try{p(f)}catch(Y){Gr(Y)}f.currentTarget=null,p=E}}}}function yt(e,n){var r=n[bo];r===void 0&&(r=n[bo]=new Set);var o=e+"__bubble";r.has(o)||(um(n,e,2,!1),r.add(o))}function uc(e,n,r){var o=0;n&&(o|=4),um(r,e,o,n)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function cc(e){if(!e[Sl]){e[Sl]=!0,ef.forEach(function(r){r!=="selectionchange"&&(Xx.has(r)||uc(r,!1,e),uc(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Sl]||(n[Sl]=!0,uc("selectionchange",!1,n))}}function um(e,n,r,o){switch(Um(n)){case 2:var f=_v;break;case 8:f=xv;break;default:f=Tc}r=f.bind(null,n,r,e),f=void 0,!Bo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,r,{capture:!0,passive:f}):e.addEventListener(n,r,!0):f!==void 0?e.addEventListener(n,r,{passive:f}):e.addEventListener(n,r,!1)}function hc(e,n,r,o,f){var p=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=o.return;v!==null;){var E=v.tag;if((E===3||E===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=ns(T),v===null)return;if(E=v.tag,E===5||E===6||E===26||E===27){o=p=v;continue t}T=T.parentNode}}o=o.return}pf(function(){var G=p,Y=Eo(r),q=[];t:{var U=Pf.get(e);if(U!==void 0){var H=kr,J=e;switch(e){case"keypress":if(zr(r)===0)break t;case"keydown":case"keyup":H=L_;break;case"focusin":J="focus",H=Do;break;case"focusout":J="blur",H=Do;break;case"beforeblur":case"afterblur":H=Do;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=T_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=j_;break;case Uf:case Hf:case jf:H=E_;break;case Yf:H=P_;break;case"scroll":case"scrollend":H=A_;break;case"wheel":H=X_;break;case"copy":case"cut":case"paste":H=B_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=xf;break;case"toggle":case"beforetoggle":H=F_}var rt=(n&4)!==0,Dt=!rt&&(e==="scroll"||e==="scrollend"),k=rt?U!==null?U+"Capture":null:U;rt=[];for(var R=G,D;R!==null;){var V=R;if(D=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||D===null||k===null||(V=aa(R,k),V!=null&&rt.push(Ua(R,V,D))),Dt)break;R=R.return}0<rt.length&&(U=new H(U,J,null,r,Y),q.push({event:U,listeners:rt}))}}if((n&7)===0){t:{if(U=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",U&&r!==Co&&(J=r.relatedTarget||r.fromElement)&&(ns(J)||J[es]))break t;if((H||U)&&(U=Y.window===Y?Y:(U=Y.ownerDocument)?U.defaultView||U.parentWindow:window,H?(J=r.relatedTarget||r.toElement,H=G,J=J?ns(J):null,J!==null&&(Dt=u(J),rt=J.tag,J!==Dt||rt!==5&&rt!==27&&rt!==6)&&(J=null)):(H=null,J=G),H!==J)){if(rt=yf,V="onMouseLeave",k="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(rt=xf,V="onPointerLeave",k="onPointerEnter",R="pointer"),Dt=H==null?U:sa(H),D=J==null?U:sa(J),U=new rt(V,R+"leave",H,r,Y),U.target=Dt,U.relatedTarget=D,V=null,ns(Y)===G&&(rt=new rt(k,R+"enter",J,r,Y),rt.target=D,rt.relatedTarget=Dt,V=rt),Dt=V,H&&J)e:{for(rt=qx,k=H,R=J,D=0,V=k;V;V=rt(V))D++;V=0;for(var it=R;it;it=rt(it))V++;for(;0<D-V;)k=rt(k),D--;for(;0<V-D;)R=rt(R),V--;for(;D--;){if(k===R||R!==null&&k===R.alternate){rt=k;break e}k=rt(k),R=rt(R)}rt=null}else rt=null;H!==null&&cm(q,U,H,rt,!1),J!==null&&Dt!==null&&cm(q,Dt,J,rt,!0)}}t:{if(U=G?sa(G):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var Mt=Cf;else if(Tf(U))if(Ef)Mt=nx;else{Mt=tx;var tt=J_}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?G&&Mo(G.elementType)&&(Mt=Cf):Mt=ex;if(Mt&&(Mt=Mt(e,G))){Mf(q,Mt,r,Y);break t}tt&&tt(e,U,G),e==="focusout"&&G&&U.type==="number"&&G.memoizedProps.value!=null&&To(U,"number",U.value)}switch(tt=G?sa(G):window,e){case"focusin":(Tf(tt)||tt.contentEditable==="true")&&(hs=tt,jo=G,da=null);break;case"focusout":da=jo=hs=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,Gf(q,r,Y);break;case"selectionchange":if(sx)break;case"keydown":case"keyup":Gf(q,r,Y)}var ft;if(Go)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else cs?Af(e,r)&&(vt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(vt="onCompositionStart");vt&&(vf&&r.locale!=="ko"&&(cs||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&cs&&(ft=mf()):(Jn=Y,zo="value"in Jn?Jn.value:Jn.textContent,cs=!0)),tt=Al(G,vt),0<tt.length&&(vt=new _f(vt,e,null,r,Y),q.push({event:vt,listeners:tt}),ft?vt.data=ft:(ft=wf(r),ft!==null&&(vt.data=ft)))),(ft=Q_?Z_(e,r):W_(e,r))&&(vt=Al(G,"onBeforeInput"),0<vt.length&&(tt=new _f("onBeforeInput","beforeinput",null,r,Y),q.push({event:tt,listeners:vt}),tt.data=ft)),Yx(q,e,G,r,Y)}om(q,n)})}function Ua(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Al(e,n){for(var r=n+"Capture",o=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=aa(e,r),f!=null&&o.unshift(Ua(e,f,p)),f=aa(e,n),f!=null&&o.push(Ua(e,f,p))),e.tag===3)return o;e=e.return}return[]}function qx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cm(e,n,r,o,f){for(var p=n._reactName,v=[];r!==null&&r!==o;){var T=r,E=T.alternate,G=T.stateNode;if(T=T.tag,E!==null&&E===o)break;T!==5&&T!==26&&T!==27||G===null||(E=G,f?(G=aa(r,p),G!=null&&v.unshift(Ua(r,G,E))):f||(G=aa(r,p),G!=null&&v.push(Ua(r,G,E)))),r=r.return}v.length!==0&&e.push({event:n,listeners:v})}var Fx=/\r\n?/g,Ix=/\u0000|\uFFFD/g;function hm(e){return(typeof e=="string"?e:""+e).replace(Fx,`
`).replace(Ix,"")}function fm(e,n){return n=hm(n),hm(e)===n}function kt(e,n,r,o,f,p){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ls(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ls(e,""+o);break;case"className":Cr(e,"class",o);break;case"tabIndex":Cr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(e,r,o);break;case"style":ff(e,o,p);break;case"data":if(n!=="object"){Cr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Rr(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(n!=="input"&&kt(e,n,"name",f.name,f,null),kt(e,n,"formEncType",f.formEncType,f,null),kt(e,n,"formMethod",f.formMethod,f,null),kt(e,n,"formTarget",f.formTarget,f,null)):(kt(e,n,"encType",f.encType,f,null),kt(e,n,"method",f.method,f,null),kt(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Rr(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Cn);break;case"onScroll":o!=null&&yt("scroll",e);break;case"onScrollEnd":o!=null&&yt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Rr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":yt("beforetoggle",e),yt("toggle",e),Mr(e,"popover",o);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Mr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=b_.get(r)||r,Mr(e,r,o))}}function fc(e,n,r,o,f,p){switch(r){case"style":ff(e,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?ls(e,o):(typeof o=="number"||typeof o=="bigint")&&ls(e,""+o);break;case"onScroll":o!=null&&yt("scroll",e);break;case"onScrollEnd":o!=null&&yt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nf.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),p=e[be]||null,p=p!=null?p[r]:null,typeof p=="function"&&e.removeEventListener(n,p,f),typeof o=="function")){typeof p!="function"&&p!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,f);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Mr(e,r,o)}}}function de(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",e),yt("load",e);var o=!1,f=!1,p;for(p in r)if(r.hasOwnProperty(p)){var v=r[p];if(v!=null)switch(p){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:kt(e,n,p,v,r,null)}}f&&kt(e,n,"srcSet",r.srcSet,r,null),o&&kt(e,n,"src",r.src,r,null);return;case"input":yt("invalid",e);var T=p=v=f=null,E=null,G=null;for(o in r)if(r.hasOwnProperty(o)){var Y=r[o];if(Y!=null)switch(o){case"name":f=Y;break;case"type":v=Y;break;case"checked":E=Y;break;case"defaultChecked":G=Y;break;case"value":p=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:kt(e,n,o,Y,r,null)}}of(e,p,T,E,G,v,f,!1);return;case"select":yt("invalid",e),o=v=p=null;for(f in r)if(r.hasOwnProperty(f)&&(T=r[f],T!=null))switch(f){case"value":p=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:kt(e,n,f,T,r,null)}n=p,r=v,e.multiple=!!o,n!=null?rs(e,!!o,n,!1):r!=null&&rs(e,!!o,r,!0);return;case"textarea":yt("invalid",e),p=f=o=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":f=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:kt(e,n,v,T,r,null)}cf(e,o,f,p);return;case"option":for(E in r)if(r.hasOwnProperty(E)&&(o=r[E],o!=null))switch(E){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:kt(e,n,E,o,r,null)}return;case"dialog":yt("beforetoggle",e),yt("toggle",e),yt("cancel",e),yt("close",e);break;case"iframe":case"object":yt("load",e);break;case"video":case"audio":for(o=0;o<La.length;o++)yt(La[o],e);break;case"image":yt("error",e),yt("load",e);break;case"details":yt("toggle",e);break;case"embed":case"source":case"link":yt("error",e),yt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in r)if(r.hasOwnProperty(G)&&(o=r[G],o!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:kt(e,n,G,o,r,null)}return;default:if(Mo(n)){for(Y in r)r.hasOwnProperty(Y)&&(o=r[Y],o!==void 0&&fc(e,n,Y,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&kt(e,n,T,o,r,null))}function Qx(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,v=null,T=null,E=null,G=null,Y=null;for(H in r){var q=r[H];if(r.hasOwnProperty(H)&&q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":E=q;default:o.hasOwnProperty(H)||kt(e,n,H,null,o,q)}}for(var U in o){var H=o[U];if(q=r[U],o.hasOwnProperty(U)&&(H!=null||q!=null))switch(U){case"type":p=H;break;case"name":f=H;break;case"checked":G=H;break;case"defaultChecked":Y=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==q&&kt(e,n,U,H,o,q)}}wo(e,v,T,E,G,Y,p,f);return;case"select":H=v=T=U=null;for(p in r)if(E=r[p],r.hasOwnProperty(p)&&E!=null)switch(p){case"value":break;case"multiple":H=E;default:o.hasOwnProperty(p)||kt(e,n,p,null,o,E)}for(f in o)if(p=o[f],E=r[f],o.hasOwnProperty(f)&&(p!=null||E!=null))switch(f){case"value":U=p;break;case"defaultValue":T=p;break;case"multiple":v=p;default:p!==E&&kt(e,n,f,p,o,E)}n=T,r=v,o=H,U!=null?rs(e,!!r,U,!1):!!o!=!!r&&(n!=null?rs(e,!!r,n,!0):rs(e,!!r,r?[]:"",!1));return;case"textarea":H=U=null;for(T in r)if(f=r[T],r.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:kt(e,n,T,null,o,f)}for(v in o)if(f=o[v],p=r[v],o.hasOwnProperty(v)&&(f!=null||p!=null))switch(v){case"value":U=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&kt(e,n,v,f,o,p)}uf(e,U,H);return;case"option":for(var J in r)if(U=r[J],r.hasOwnProperty(J)&&U!=null&&!o.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:kt(e,n,J,null,o,U)}for(E in o)if(U=o[E],H=r[E],o.hasOwnProperty(E)&&U!==H&&(U!=null||H!=null))switch(E){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:kt(e,n,E,U,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in r)U=r[rt],r.hasOwnProperty(rt)&&U!=null&&!o.hasOwnProperty(rt)&&kt(e,n,rt,null,o,U);for(G in o)if(U=o[G],H=r[G],o.hasOwnProperty(G)&&U!==H&&(U!=null||H!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:kt(e,n,G,U,o,H)}return;default:if(Mo(n)){for(var Dt in r)U=r[Dt],r.hasOwnProperty(Dt)&&U!==void 0&&!o.hasOwnProperty(Dt)&&fc(e,n,Dt,void 0,o,U);for(Y in o)U=o[Y],H=r[Y],!o.hasOwnProperty(Y)||U===H||U===void 0&&H===void 0||fc(e,n,Y,U,o,H);return}}for(var k in r)U=r[k],r.hasOwnProperty(k)&&U!=null&&!o.hasOwnProperty(k)&&kt(e,n,k,null,o,U);for(q in o)U=o[q],H=r[q],!o.hasOwnProperty(q)||U===H||U==null&&H==null||kt(e,n,q,U,o,H)}function dm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var f=r[o],p=f.transferSize,v=f.initiatorType,T=f.duration;if(p&&T&&dm(v)){for(v=0,T=f.responseEnd,o+=1;o<r.length;o++){var E=r[o],G=E.startTime;if(G>T)break;var Y=E.transferSize,q=E.initiatorType;Y&&dm(q)&&(E=E.responseEnd,v+=Y*(E<T?1:(T-G)/(E-G)))}if(--o,n+=8*(p+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dc=null,pc=null;function wl(e){return e.nodeType===9?e:e.ownerDocument}function pm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function mc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gc=null;function Wx(){var e=window.event;return e&&e.type==="popstate"?e===gc?!1:(gc=e,!0):(gc=null,!1)}var gm=typeof setTimeout=="function"?setTimeout:void 0,Kx=typeof clearTimeout=="function"?clearTimeout:void 0,ym=typeof Promise=="function"?Promise:void 0,$x=typeof queueMicrotask=="function"?queueMicrotask:typeof ym<"u"?function(e){return ym.resolve(null).then(e).catch(Jx)}:gm;function Jx(e){setTimeout(function(){throw e})}function gi(e){return e==="head"}function _m(e,n){var r=n,o=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(f),Us(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Ha(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Ha(r);for(var p=r.firstChild;p;){var v=p.nextSibling,T=p.nodeName;p[ia]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=v}}else r==="body"&&Ha(e.ownerDocument.body);r=f}while(r);Us(n)}function xm(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function yc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yc(r),So(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function tv(e,n,r,o){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ia])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=We(e.nextSibling),e===null)break}return null}function ev(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=We(e.nextSibling),e===null))return null;return e}function vm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=We(e.nextSibling),e===null))return null;return e}function _c(e){return e.data==="$?"||e.data==="$~"}function xc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nv(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function We(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var vc=null;function bm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return We(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Sm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Am(e,n,r){switch(n=wl(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ha(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);So(e)}var Ke=new Map,wm=new Set;function Tl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=P.d;P.d={f:iv,r:sv,D:av,C:rv,L:lv,m:ov,X:cv,S:uv,M:hv};function iv(){var e=Vn.f(),n=gl();return e||n}function sv(e){var n=is(e);n!==null&&n.tag===5&&n.type==="form"?Yd(n):Vn.r(e)}var Ns=typeof document>"u"?null:document;function Tm(e,n,r){var o=Ns;if(o&&typeof n=="string"&&n){var f=Ve(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),wm.has(f)||(wm.add(f),e={rel:e,crossOrigin:r,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),de(n,"link",e),re(n),o.head.appendChild(n)))}}function av(e){Vn.D(e),Tm("dns-prefetch",e,null)}function rv(e,n){Vn.C(e,n),Tm("preconnect",e,n)}function lv(e,n,r){Vn.L(e,n,r);var o=Ns;if(o&&e&&n){var f='link[rel="preload"][as="'+Ve(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Ve(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Ve(r.imageSizes)+'"]')):f+='[href="'+Ve(e)+'"]';var p=f;switch(n){case"style":p=Gs(e);break;case"script":p=Ls(e)}Ke.has(p)||(e=h({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Ke.set(p,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(ja(p))||n==="script"&&o.querySelector(Ya(p))||(n=o.createElement("link"),de(n,"link",e),re(n),o.head.appendChild(n)))}}function ov(e,n){Vn.m(e,n);var r=Ns;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ve(o)+'"][href="'+Ve(e)+'"]',p=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ls(e)}if(!Ke.has(p)&&(e=h({rel:"modulepreload",href:e},n),Ke.set(p,e),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ya(p)))return}o=r.createElement("link"),de(o,"link",e),re(o),r.head.appendChild(o)}}}function uv(e,n,r){Vn.S(e,n,r);var o=Ns;if(o&&e){var f=ss(o).hoistableStyles,p=Gs(e);n=n||"default";var v=f.get(p);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(ja(p)))T.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Ke.get(p))&&bc(e,r);var E=v=o.createElement("link");re(E),de(E,"link",e),E._p=new Promise(function(G,Y){E.onload=G,E.onerror=Y}),E.addEventListener("load",function(){T.loading|=1}),E.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ml(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(p,v)}}}function cv(e,n){Vn.X(e,n);var r=Ns;if(r&&e){var o=ss(r).hoistableScripts,f=Ls(e),p=o.get(f);p||(p=r.querySelector(Ya(f)),p||(e=h({src:e,async:!0},n),(n=Ke.get(f))&&Sc(e,n),p=r.createElement("script"),re(p),de(p,"link",e),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(f,p))}}function hv(e,n){Vn.M(e,n);var r=Ns;if(r&&e){var o=ss(r).hoistableScripts,f=Ls(e),p=o.get(f);p||(p=r.querySelector(Ya(f)),p||(e=h({src:e,async:!0,type:"module"},n),(n=Ke.get(f))&&Sc(e,n),p=r.createElement("script"),re(p),de(p,"link",e),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(f,p))}}function Mm(e,n,r,o){var f=(f=ct.current)?Tl(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Gs(r.href),r=ss(f).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Gs(r.href);var p=ss(f).hoistableStyles,v=p.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,v),(p=f.querySelector(ja(e)))&&!p._p&&(v.instance=p,v.state.loading=5),Ke.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ke.set(e,r),p||fv(f,e,r,v.state))),n&&o===null)throw Error(s(528,""));return v}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ls(r),r=ss(f).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Gs(e){return'href="'+Ve(e)+'"'}function ja(e){return'link[rel="stylesheet"]['+e+"]"}function Cm(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function fv(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),de(n,"link",r),re(n),e.head.appendChild(n))}function Ls(e){return'[src="'+Ve(e)+'"]'}function Ya(e){return"script[async]"+e}function Em(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Ve(r.href)+'"]');if(o)return n.instance=o,re(o),o;var f=h({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),re(o),de(o,"style",f),Ml(o,r.precedence,e),n.instance=o;case"stylesheet":f=Gs(r.href);var p=e.querySelector(ja(f));if(p)return n.state.loading|=4,n.instance=p,re(p),p;o=Cm(r),(f=Ke.get(f))&&bc(o,f),p=(e.ownerDocument||e).createElement("link"),re(p);var v=p;return v._p=new Promise(function(T,E){v.onload=T,v.onerror=E}),de(p,"link",o),n.state.loading|=4,Ml(p,r.precedence,e),n.instance=p;case"script":return p=Ls(r.src),(f=e.querySelector(Ya(p)))?(n.instance=f,re(f),f):(o=r,(f=Ke.get(p))&&(o=h({},r),Sc(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),re(f),de(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ml(o,r.precedence,e));return n.instance}function Ml(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,p=f,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)p=T;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function bc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Cl=null;function Rm(e,n,r){if(Cl===null){var o=new Map,f=Cl=new Map;f.set(r,o)}else f=Cl,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var p=r[f];if(!(p[ia]||p[ue]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(n)||"";v=e+v;var T=o.get(v);T?T.push(p):o.set(v,[p])}}return o}function Bm(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function dv(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function pv(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Gs(o.href),p=n.querySelector(ja(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=El.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=p,re(p);return}p=n.ownerDocument||n,o=Cm(o),(f=Ke.get(f))&&bc(o,f),p=p.createElement("link"),re(p);var v=p;v._p=new Promise(function(T,E){v.onload=T,v.onerror=E}),de(p,"link",o),r.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=El.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Ac=0;function mv(e,n){return e.stylesheets&&e.count===0&&Bl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&Ac===0&&(Ac=62500*Zx());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Ac?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function El(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rl=null;function Bl(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rl=new Map,n.forEach(gv,e),Rl=null,El.call(e))}function gv(e,n){if(!(n.state.loading&4)){var r=Rl.get(e);if(r)var o=r.get(null);else{r=new Map,Rl.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var v=f[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),o=v)}o&&r.set(null,o)}f=n.instance,v=f.getAttribute("data-precedence"),p=r.get(v)||o,p===o&&r.set(null,f),r.set(v,f),this.count++,o=El.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Pa={$$typeof:C,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function yv(e,n,r,o,f,p,v,T,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_o(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.hiddenUpdates=_o(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Om(e,n,r,o,f,p,v,T,E,G,Y,q){return e=new yv(e,n,r,v,E,G,Y,q,T),n=1,p===!0&&(n|=24),p=ke(3,null,null,n),e.current=p,p.stateNode=e,n=nu(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:o,isDehydrated:r,cache:n},ru(p),e}function km(e){return e?(e=ps,e):ps}function Dm(e,n,r,o,f,p){f=km(f),o.context===null?o.context=f:o.pendingContext=f,o=ai(n),o.payload={element:r},p=p===void 0?null:p,p!==null&&(o.callback=p),r=ri(e,o,n),r!==null&&(Ce(r,e,n),va(r,e,n))}function Nm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function wc(e,n){Nm(e,n),(e=e.alternate)&&Nm(e,n)}function Gm(e){if(e.tag===13||e.tag===31){var n=zi(e,67108864);n!==null&&Ce(n,e,67108864),wc(e,67108864)}}function Lm(e){if(e.tag===13||e.tag===31){var n=Ue();n=xo(n);var r=zi(e,n);r!==null&&Ce(r,e,n),wc(e,n)}}var zl=!0;function _v(e,n,r,o){var f=O.T;O.T=null;var p=P.p;try{P.p=2,Tc(e,n,r,o)}finally{P.p=p,O.T=f}}function xv(e,n,r,o){var f=O.T;O.T=null;var p=P.p;try{P.p=8,Tc(e,n,r,o)}finally{P.p=p,O.T=f}}function Tc(e,n,r,o){if(zl){var f=Mc(o);if(f===null)hc(e,n,o,Ol,r),Hm(e,o);else if(bv(f,e,n,r,o))o.stopPropagation();else if(Hm(e,o),n&4&&-1<vv.indexOf(e)){for(;f!==null;){var p=is(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=Mi(p.pendingLanes);if(v!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var E=1<<31-ze(v);T.entanglements[1]|=E,v&=~E}xn(p),(Et&6)===0&&(pl=Re()+500,Ga(0))}}break;case 31:case 13:T=zi(p,2),T!==null&&Ce(T,p,2),gl(),wc(p,2)}if(p=Mc(o),p===null&&hc(e,n,o,Ol,r),p===f)break;f=p}f!==null&&o.stopPropagation()}else hc(e,n,o,null,r)}}function Mc(e){return e=Eo(e),Cc(e)}var Ol=null;function Cc(e){if(Ol=null,e=ns(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=c(n),e!==null)return e;e=null}else if(r===31){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ol=e,null}function Um(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(a_()){case qh:return 2;case Fh:return 8;case br:case r_:return 32;case Ih:return 268435456;default:return 32}default:return 32}}var Ec=!1,yi=null,_i=null,xi=null,Va=new Map,Xa=new Map,vi=[],vv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hm(e,n){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Va.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(n.pointerId)}}function qa(e,n,r,o,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:p,targetContainers:[f]},n!==null&&(n=is(n),n!==null&&Gm(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function bv(e,n,r,o,f){switch(n){case"focusin":return yi=qa(yi,e,n,r,o,f),!0;case"dragenter":return _i=qa(_i,e,n,r,o,f),!0;case"mouseover":return xi=qa(xi,e,n,r,o,f),!0;case"pointerover":var p=f.pointerId;return Va.set(p,qa(Va.get(p)||null,e,n,r,o,f)),!0;case"gotpointercapture":return p=f.pointerId,Xa.set(p,qa(Xa.get(p)||null,e,n,r,o,f)),!0}return!1}function jm(e){var n=ns(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=c(r),n!==null){e.blockedOn=n,Jh(e.priority,function(){Lm(r)});return}}else if(n===31){if(n=d(r),n!==null){e.blockedOn=n,Jh(e.priority,function(){Lm(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Mc(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Co=o,r.target.dispatchEvent(o),Co=null}else return n=is(r),n!==null&&Gm(n),e.blockedOn=r,!1;n.shift()}return!0}function Ym(e,n,r){kl(e)&&r.delete(n)}function Sv(){Ec=!1,yi!==null&&kl(yi)&&(yi=null),_i!==null&&kl(_i)&&(_i=null),xi!==null&&kl(xi)&&(xi=null),Va.forEach(Ym),Xa.forEach(Ym)}function Dl(e,n){e.blockedOn===n&&(e.blockedOn=null,Ec||(Ec=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Sv)))}var Nl=null;function Pm(e){Nl!==e&&(Nl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Nl===e&&(Nl=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Cc(o||r)===null)continue;break}var p=is(r);p!==null&&(e.splice(n,3),n-=3,Mu(p,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function Us(e){function n(E){return Dl(E,e)}yi!==null&&Dl(yi,e),_i!==null&&Dl(_i,e),xi!==null&&Dl(xi,e),Va.forEach(n),Xa.forEach(n);for(var r=0;r<vi.length;r++){var o=vi[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<vi.length&&(r=vi[0],r.blockedOn===null);)jm(r),r.blockedOn===null&&vi.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],p=r[o+1],v=f[be]||null;if(typeof p=="function")v||Pm(r);else if(v){var T=null;if(p&&p.hasAttribute("formAction")){if(f=p,v=p[be]||null)T=v.formAction;else if(Cc(f)!==null)continue}else T=v.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),Pm(r)}}}function Vm(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Rc(e){this._internalRoot=e}Gl.prototype.render=Rc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=Ue();Dm(r,o,e,n,null,null)},Gl.prototype.unmount=Rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Dm(e.current,2,null,e,null,null),gl(),n[es]=null}};function Gl(e){this._internalRoot=e}Gl.prototype.unstable_scheduleHydration=function(e){if(e){var n=$h();e={blockedOn:null,target:e,priority:n};for(var r=0;r<vi.length&&n!==0&&n<vi[r].priority;r++);vi.splice(r,0,e),r===0&&jm(e)}};var Xm=t.version;if(Xm!=="19.2.3")throw Error(s(527,Xm,"19.2.3"));P.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Av={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{ta=Ll.inject(Av),Be=Ll}catch{}}return Qa.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",f=Kd,p=$d,v=Jd;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Om(e,1,!1,null,null,r,o,null,f,p,v,Vm),e[es]=n.current,cc(e),new Rc(n)},Qa.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,f="",p=Kd,v=$d,T=Jd,E=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(E=r.formState)),n=Om(e,1,!0,n,r??null,o,f,E,p,v,T,Vm),n.context=km(null),r=n.current,o=Ue(),o=xo(o),f=ai(o),f.callback=null,ri(r,f,o),r=o,n.current.lanes=r,na(n,r),xn(n),e[es]=n.current,cc(e),new Gl(n)},Qa.version="19.2.3",Qa}var tg;function kv(){if(tg)return Oc.exports;tg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Oc.exports=Ov(),Oc.exports}var Dv=kv();const Sy="enchanted_glamour_kingdom_progress",Ay={musicEnabled:!0,sfxEnabled:!0,musicVolume:.5,sfxVolume:.7},eg={currentLevel:1,unlockedLevels:[1],collection:[],totalStars:0,settings:Ay},wy=()=>{try{const a=localStorage.getItem(Sy);if(a){const t=JSON.parse(a);return{...eg,...t,settings:{...Ay,...t.settings}}}}catch(a){console.error("Failed to load progress:",a)}return eg},to=a=>{try{localStorage.setItem(Sy,JSON.stringify(a))}catch(t){console.error("Failed to save progress:",t)}},Nv=(a,t)=>{if(a.unlockedLevels.includes(t))return a;const i={...a,unlockedLevels:[...a.unlockedLevels,t]};return to(i),i},Gv=a=>{const t=new Set;a.forEach(l=>{t.add(l.item.category)});const i=t.size;let s=0;return i>=6?s=3:i>=4?s=2:i>=1&&(s=1),s},Lv=a=>{switch(a){case 3:return"Perfect! You used all categories!";case 2:return"Great job! Almost complete!";case 1:return"Good start! Try more categories!";default:return"Keep trying!"}},Uv={screen:"menu",currentLevel:null,appliedItems:[],selectedCategory:null,progress:wy(),isLoading:!0};function Hv(a,t){switch(t.type){case"SET_SCREEN":return{...a,screen:t.screen};case"SELECT_LEVEL":return{...a,currentLevel:t.level,appliedItems:[],selectedCategory:"lips",screen:"game"};case"APPLY_ITEM":{const i={item:t.item,position:t.position,rotation:0,scale:1};return{...a,appliedItems:[...a.appliedItems,i]}}case"REMOVE_LAST_ITEM":return{...a,appliedItems:a.appliedItems.slice(0,-1)};case"RESET_MAKEOVER":return{...a,appliedItems:[]};case"SELECT_CATEGORY":return{...a,selectedCategory:t.category};case"COMPLETE_LEVEL":{if(!a.currentLevel)return a;const i={id:`${a.currentLevel.id}-${Date.now()}`,levelId:a.currentLevel.id,characterId:a.currentLevel.character.id,appliedItems:a.appliedItems.map(u=>u.item.id),stars:t.stars,timestamp:Date.now()},s=a.currentLevel.id+1;let l={...a.progress,collection:[...a.progress.collection,i],totalStars:a.progress.totalStars+t.stars};return s<=10&&(l=Nv(l,s)),to(l),{...a,progress:l,screen:"result"}}case"LOAD_PROGRESS":return{...a,progress:t.progress,isLoading:!1};case"SET_LOADING":return{...a,isLoading:t.isLoading};case"TOGGLE_MUSIC":{const i={...a.progress.settings,musicEnabled:!a.progress.settings.musicEnabled},s={...a.progress,settings:i};return to(s),{...a,progress:s}}case"TOGGLE_SFX":{const i={...a.progress.settings,sfxEnabled:!a.progress.settings.sfxEnabled},s={...a.progress,settings:i};return to(s),{...a,progress:s}}default:return a}}const Ty=At.createContext(void 0);function jv({children:a}){const[t,i]=At.useReducer(Hv,Uv);At.useEffect(()=>{const b=wy();i({type:"LOAD_PROGRESS",progress:b})},[]);const s=()=>i({type:"SET_SCREEN",screen:"menu"}),l=()=>i({type:"SET_SCREEN",screen:"levelSelect"}),u=()=>i({type:"SET_SCREEN",screen:"collection"}),c=b=>i({type:"SELECT_LEVEL",level:b}),d=(b,A)=>i({type:"APPLY_ITEM",item:b,position:A}),m=()=>i({type:"REMOVE_LAST_ITEM"}),y=()=>i({type:"RESET_MAKEOVER"}),x=b=>i({type:"SELECT_CATEGORY",category:b}),h=()=>{const b=Gv(t.appliedItems);i({type:"COMPLETE_LEVEL",stars:b})},g=()=>i({type:"TOGGLE_MUSIC"}),_=()=>i({type:"TOGGLE_SFX"});return N.jsx(Ty.Provider,{value:{state:t,dispatch:i,goToMenu:s,goToLevelSelect:l,goToCollection:u,selectLevel:c,applyItem:d,undoItem:m,resetMakeover:y,selectCategory:x,completeMakeover:h,toggleMusic:g,toggleSfx:_},children:a})}function Zn(){const a=At.useContext(Ty);if(a===void 0)throw new Error("useGame must be used within a GameProvider");return a}var Gc={};var ng;function Yv(){return ng||(ng=1,(function(a){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||i;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var g=this||i;if(h=parseFloat(h),g.ctx||x(),typeof h<"u"&&h>=0&&h<=1){if(g._volume=h,g._muted)return g;g.usingWebAudio&&g.masterGain.gain.setValueAtTime(h,i.ctx.currentTime);for(var _=0;_<g._howls.length;_++)if(!g._howls[_]._webAudio)for(var b=g._howls[_]._getSoundIds(),A=0;A<b.length;A++){var S=g._howls[_]._soundById(b[A]);S&&S._node&&(S._node.volume=S._volume*h)}return g}return g._volume},mute:function(h){var g=this||i;g.ctx||x(),g._muted=h,g.usingWebAudio&&g.masterGain.gain.setValueAtTime(h?0:g._volume,i.ctx.currentTime);for(var _=0;_<g._howls.length;_++)if(!g._howls[_]._webAudio)for(var b=g._howls[_]._getSoundIds(),A=0;A<b.length;A++){var S=g._howls[_]._soundById(b[A]);S&&S._node&&(S._node.muted=h?!0:S._muted)}return g},stop:function(){for(var h=this||i,g=0;g<h._howls.length;g++)h._howls[g].stop();return h},unload:function(){for(var h=this||i,g=h._howls.length-1;g>=0;g--)h._howls[g].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,x()),h},codecs:function(h){return(this||i)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||i;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var g=new Audio;typeof g.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var g=new Audio;g.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||i,g=null;try{g=typeof Audio<"u"?new Audio:null}catch{return h}if(!g||typeof g.canPlayType!="function")return h;var _=g.canPlayType("audio/mpeg;").replace(/^no$/,""),b=h._navigator?h._navigator.userAgent:"",A=b.match(/OPR\/(\d+)/g),S=A&&parseInt(A[0].split("/")[1],10)<33,w=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1,M=b.match(/Version\/(.*?) /),C=w&&M&&parseInt(M[1],10)<15;return h._codecs={mp3:!!(!S&&(_||g.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!_,opus:!!g.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(g.canPlayType('audio/wav; codecs="1"')||g.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!g.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!g.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(g.canPlayType("audio/x-m4a;")||g.canPlayType("audio/m4a;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(g.canPlayType("audio/x-m4b;")||g.canPlayType("audio/m4b;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(g.canPlayType("audio/x-mp4;")||g.canPlayType("audio/mp4;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!C&&g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!C&&g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!g.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(g.canPlayType("audio/x-flac;")||g.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||i;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var g=function(_){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var b=new Audio;b._unlocked=!0,h._releaseHtml5Audio(b)}catch{h.noAudio=!0;break}for(var A=0;A<h._howls.length;A++)if(!h._howls[A]._webAudio)for(var S=h._howls[A]._getSoundIds(),w=0;w<S.length;w++){var M=h._howls[A]._soundById(S[w]);M&&M._node&&!M._node._unlocked&&(M._node._unlocked=!0,M._node.load())}h._autoResume();var C=h.ctx.createBufferSource();C.buffer=h._scratchBuffer,C.connect(h.ctx.destination),typeof C.start>"u"?C.noteOn(0):C.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),C.onended=function(){C.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",g,!0),document.removeEventListener("touchend",g,!0),document.removeEventListener("click",g,!0),document.removeEventListener("keydown",g,!0);for(var z=0;z<h._howls.length;z++)h._howls[z]._emit("unlock")}};return document.addEventListener("touchstart",g,!0),document.addEventListener("touchend",g,!0),document.addEventListener("click",g,!0),document.addEventListener("keydown",g,!0),h}},_obtainHtml5Audio:function(){var h=this||i;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var g=new Audio().play();return g&&typeof Promise<"u"&&(g instanceof Promise||typeof g.then=="function")&&g.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var g=this||i;return h._unlocked&&g._html5AudioPool.push(h),g},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!i.usingWebAudio)){for(var g=0;g<h._howls.length;g++)if(h._howls[g]._webAudio){for(var _=0;_<h._howls[g]._sounds.length;_++)if(!h._howls[g]._sounds[_]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var b=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(b,b)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!i.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var g=0;g<h._howls.length;g++)h._howls[g]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var i=new t,s=function(h){var g=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}g.init(h)};s.prototype={init:function(h){var g=this;return i.ctx||x(),g._autoplay=h.autoplay||!1,g._format=typeof h.format!="string"?h.format:[h.format],g._html5=h.html5||!1,g._muted=h.mute||!1,g._loop=h.loop||!1,g._pool=h.pool||5,g._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,g._rate=h.rate||1,g._sprite=h.sprite||{},g._src=typeof h.src!="string"?h.src:[h.src],g._volume=h.volume!==void 0?h.volume:1,g._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},g._duration=0,g._state="unloaded",g._sounds=[],g._endTimers={},g._queue=[],g._playLock=!1,g._onend=h.onend?[{fn:h.onend}]:[],g._onfade=h.onfade?[{fn:h.onfade}]:[],g._onload=h.onload?[{fn:h.onload}]:[],g._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],g._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],g._onpause=h.onpause?[{fn:h.onpause}]:[],g._onplay=h.onplay?[{fn:h.onplay}]:[],g._onstop=h.onstop?[{fn:h.onstop}]:[],g._onmute=h.onmute?[{fn:h.onmute}]:[],g._onvolume=h.onvolume?[{fn:h.onvolume}]:[],g._onrate=h.onrate?[{fn:h.onrate}]:[],g._onseek=h.onseek?[{fn:h.onseek}]:[],g._onunlock=h.onunlock?[{fn:h.onunlock}]:[],g._onresume=[],g._webAudio=i.usingWebAudio&&!g._html5,typeof i.ctx<"u"&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(g),g._autoplay&&g._queue.push({event:"play",action:function(){g.play()}}),g._preload&&g._preload!=="none"&&g.load(),g},load:function(){var h=this,g=null;if(i.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var _=0;_<h._src.length;_++){var b,A;if(h._format&&h._format[_])b=h._format[_];else{if(A=h._src[_],typeof A!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}b=/^data:audio\/([^;,]+);/i.exec(A),b||(b=/\.([^.]+)$/.exec(A.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(b||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),b&&i.codecs(b)){g=h._src[_];break}}if(!g){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=g,h._state="loading",window.location.protocol==="https:"&&g.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new l(h),h._webAudio&&c(h),h},play:function(h,g){var _=this,b=null;if(typeof h=="number")b=h,h=null;else{if(typeof h=="string"&&_._state==="loaded"&&!_._sprite[h])return null;if(typeof h>"u"&&(h="__default",!_._playLock)){for(var A=0,S=0;S<_._sounds.length;S++)_._sounds[S]._paused&&!_._sounds[S]._ended&&(A++,b=_._sounds[S]._id);A===1?h=null:b=null}}var w=b?_._soundById(b):_._inactiveSound();if(!w)return null;if(b&&!h&&(h=w._sprite||"__default"),_._state!=="loaded"){w._sprite=h,w._ended=!1;var M=w._id;return _._queue.push({event:"play",action:function(){_.play(M)}}),M}if(b&&!w._paused)return g||_._loadQueue("play"),w._id;_._webAudio&&i._autoResume();var C=Math.max(0,w._seek>0?w._seek:_._sprite[h][0]/1e3),z=Math.max(0,(_._sprite[h][0]+_._sprite[h][1])/1e3-C),I=z*1e3/Math.abs(w._rate),j=_._sprite[h][0]/1e3,L=(_._sprite[h][0]+_._sprite[h][1])/1e3;w._sprite=h,w._ended=!1;var Z=function(){w._paused=!1,w._seek=C,w._start=j,w._stop=L,w._loop=!!(w._loop||_._sprite[h][2])};if(C>=L){_._ended(w);return}var F=w._node;if(_._webAudio){var W=function(){_._playLock=!1,Z(),_._refreshBuffer(w);var dt=w._muted||_._muted?0:w._volume;F.gain.setValueAtTime(dt,i.ctx.currentTime),w._playStart=i.ctx.currentTime,typeof F.bufferSource.start>"u"?w._loop?F.bufferSource.noteGrainOn(0,C,86400):F.bufferSource.noteGrainOn(0,C,z):w._loop?F.bufferSource.start(0,C,86400):F.bufferSource.start(0,C,z),I!==1/0&&(_._endTimers[w._id]=setTimeout(_._ended.bind(_,w),I)),g||setTimeout(function(){_._emit("play",w._id),_._loadQueue()},0)};i.state==="running"&&i.ctx.state!=="interrupted"?W():(_._playLock=!0,_.once("resume",W),_._clearTimer(w._id))}else{var K=function(){F.currentTime=C,F.muted=w._muted||_._muted||i._muted||F.muted,F.volume=w._volume*i.volume(),F.playbackRate=w._rate;try{var dt=F.play();if(dt&&typeof Promise<"u"&&(dt instanceof Promise||typeof dt.then=="function")?(_._playLock=!0,Z(),dt.then(function(){_._playLock=!1,F._unlocked=!0,g?_._loadQueue():_._emit("play",w._id)}).catch(function(){_._playLock=!1,_._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),w._ended=!0,w._paused=!0})):g||(_._playLock=!1,Z(),_._emit("play",w._id)),F.playbackRate=w._rate,F.paused){_._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||w._loop?_._endTimers[w._id]=setTimeout(_._ended.bind(_,w),I):(_._endTimers[w._id]=function(){_._ended(w),F.removeEventListener("ended",_._endTimers[w._id],!1)},F.addEventListener("ended",_._endTimers[w._id],!1))}catch($t){_._emit("playerror",w._id,$t)}};F.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(F.src=_._src,F.load());var ut=window&&window.ejecta||!F.readyState&&i._navigator.isCocoonJS;if(F.readyState>=3||ut)K();else{_._playLock=!0,_._state="loading";var mt=function(){_._state="loaded",K(),F.removeEventListener(i._canPlayEvent,mt,!1)};F.addEventListener(i._canPlayEvent,mt,!1),_._clearTimer(w._id)}}return w._id},pause:function(h){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"pause",action:function(){g.pause(h)}}),g;for(var _=g._getSoundIds(h),b=0;b<_.length;b++){g._clearTimer(_[b]);var A=g._soundById(_[b]);if(A&&!A._paused&&(A._seek=g.seek(_[b]),A._rateSeek=0,A._paused=!0,g._stopFade(_[b]),A._node))if(g._webAudio){if(!A._node.bufferSource)continue;typeof A._node.bufferSource.stop>"u"?A._node.bufferSource.noteOff(0):A._node.bufferSource.stop(0),g._cleanBuffer(A._node)}else(!isNaN(A._node.duration)||A._node.duration===1/0)&&A._node.pause();arguments[1]||g._emit("pause",A?A._id:null)}return g},stop:function(h,g){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"stop",action:function(){_.stop(h)}}),_;for(var b=_._getSoundIds(h),A=0;A<b.length;A++){_._clearTimer(b[A]);var S=_._soundById(b[A]);S&&(S._seek=S._start||0,S._rateSeek=0,S._paused=!0,S._ended=!0,_._stopFade(b[A]),S._node&&(_._webAudio?S._node.bufferSource&&(typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),_._cleanBuffer(S._node)):(!isNaN(S._node.duration)||S._node.duration===1/0)&&(S._node.currentTime=S._start||0,S._node.pause(),S._node.duration===1/0&&_._clearSound(S._node))),g||_._emit("stop",S._id))}return _},mute:function(h,g){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"mute",action:function(){_.mute(h,g)}}),_;if(typeof g>"u")if(typeof h=="boolean")_._muted=h;else return _._muted;for(var b=_._getSoundIds(g),A=0;A<b.length;A++){var S=_._soundById(b[A]);S&&(S._muted=h,S._interval&&_._stopFade(S._id),_._webAudio&&S._node?S._node.gain.setValueAtTime(h?0:S._volume,i.ctx.currentTime):S._node&&(S._node.muted=i._muted?!0:h),_._emit("mute",S._id))}return _},volume:function(){var h=this,g=arguments,_,b;if(g.length===0)return h._volume;if(g.length===1||g.length===2&&typeof g[1]>"u"){var A=h._getSoundIds(),S=A.indexOf(g[0]);S>=0?b=parseInt(g[0],10):_=parseFloat(g[0])}else g.length>=2&&(_=parseFloat(g[0]),b=parseInt(g[1],10));var w;if(typeof _<"u"&&_>=0&&_<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,g)}}),h;typeof b>"u"&&(h._volume=_),b=h._getSoundIds(b);for(var M=0;M<b.length;M++)w=h._soundById(b[M]),w&&(w._volume=_,g[2]||h._stopFade(b[M]),h._webAudio&&w._node&&!w._muted?w._node.gain.setValueAtTime(_,i.ctx.currentTime):w._node&&!w._muted&&(w._node.volume=_*i.volume()),h._emit("volume",w._id))}else return w=b?h._soundById(b):h._sounds[0],w?w._volume:0;return h},fade:function(h,g,_,b){var A=this;if(A._state!=="loaded"||A._playLock)return A._queue.push({event:"fade",action:function(){A.fade(h,g,_,b)}}),A;h=Math.min(Math.max(0,parseFloat(h)),1),g=Math.min(Math.max(0,parseFloat(g)),1),_=parseFloat(_),A.volume(h,b);for(var S=A._getSoundIds(b),w=0;w<S.length;w++){var M=A._soundById(S[w]);if(M){if(b||A._stopFade(S[w]),A._webAudio&&!M._muted){var C=i.ctx.currentTime,z=C+_/1e3;M._volume=h,M._node.gain.setValueAtTime(h,C),M._node.gain.linearRampToValueAtTime(g,z)}A._startFadeInterval(M,h,g,_,S[w],typeof b>"u")}}return A},_startFadeInterval:function(h,g,_,b,A,S){var w=this,M=g,C=_-g,z=Math.abs(C/.01),I=Math.max(4,z>0?b/z:b),j=Date.now();h._fadeTo=_,h._interval=setInterval(function(){var L=(Date.now()-j)/b;j=Date.now(),M+=C*L,M=Math.round(M*100)/100,C<0?M=Math.max(_,M):M=Math.min(_,M),w._webAudio?h._volume=M:w.volume(M,h._id,!0),S&&(w._volume=M),(_<g&&M<=_||_>g&&M>=_)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,w.volume(_,h._id),w._emit("fade",h._id))},I)},_stopFade:function(h){var g=this,_=g._soundById(h);return _&&_._interval&&(g._webAudio&&_._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(_._interval),_._interval=null,g.volume(_._fadeTo,h),_._fadeTo=null,g._emit("fade",h)),g},loop:function(){var h=this,g=arguments,_,b,A;if(g.length===0)return h._loop;if(g.length===1)if(typeof g[0]=="boolean")_=g[0],h._loop=_;else return A=h._soundById(parseInt(g[0],10)),A?A._loop:!1;else g.length===2&&(_=g[0],b=parseInt(g[1],10));for(var S=h._getSoundIds(b),w=0;w<S.length;w++)A=h._soundById(S[w]),A&&(A._loop=_,h._webAudio&&A._node&&A._node.bufferSource&&(A._node.bufferSource.loop=_,_&&(A._node.bufferSource.loopStart=A._start||0,A._node.bufferSource.loopEnd=A._stop,h.playing(S[w])&&(h.pause(S[w],!0),h.play(S[w],!0)))));return h},rate:function(){var h=this,g=arguments,_,b;if(g.length===0)b=h._sounds[0]._id;else if(g.length===1){var A=h._getSoundIds(),S=A.indexOf(g[0]);S>=0?b=parseInt(g[0],10):_=parseFloat(g[0])}else g.length===2&&(_=parseFloat(g[0]),b=parseInt(g[1],10));var w;if(typeof _=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,g)}}),h;typeof b>"u"&&(h._rate=_),b=h._getSoundIds(b);for(var M=0;M<b.length;M++)if(w=h._soundById(b[M]),w){h.playing(b[M])&&(w._rateSeek=h.seek(b[M]),w._playStart=h._webAudio?i.ctx.currentTime:w._playStart),w._rate=_,h._webAudio&&w._node&&w._node.bufferSource?w._node.bufferSource.playbackRate.setValueAtTime(_,i.ctx.currentTime):w._node&&(w._node.playbackRate=_);var C=h.seek(b[M]),z=(h._sprite[w._sprite][0]+h._sprite[w._sprite][1])/1e3-C,I=z*1e3/Math.abs(w._rate);(h._endTimers[b[M]]||!w._paused)&&(h._clearTimer(b[M]),h._endTimers[b[M]]=setTimeout(h._ended.bind(h,w),I)),h._emit("rate",w._id)}}else return w=h._soundById(b),w?w._rate:h._rate;return h},seek:function(){var h=this,g=arguments,_,b;if(g.length===0)h._sounds.length&&(b=h._sounds[0]._id);else if(g.length===1){var A=h._getSoundIds(),S=A.indexOf(g[0]);S>=0?b=parseInt(g[0],10):h._sounds.length&&(b=h._sounds[0]._id,_=parseFloat(g[0]))}else g.length===2&&(_=parseFloat(g[0]),b=parseInt(g[1],10));if(typeof b>"u")return 0;if(typeof _=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,g)}}),h;var w=h._soundById(b);if(w)if(typeof _=="number"&&_>=0){var M=h.playing(b);M&&h.pause(b,!0),w._seek=_,w._ended=!1,h._clearTimer(b),!h._webAudio&&w._node&&!isNaN(w._node.duration)&&(w._node.currentTime=_);var C=function(){M&&h.play(b,!0),h._emit("seek",b)};if(M&&!h._webAudio){var z=function(){h._playLock?setTimeout(z,0):C()};setTimeout(z,0)}else C()}else if(h._webAudio){var I=h.playing(b)?i.ctx.currentTime-w._playStart:0,j=w._rateSeek?w._rateSeek-w._seek:0;return w._seek+(j+I*Math.abs(w._rate))}else return w._node.currentTime;return h},playing:function(h){var g=this;if(typeof h=="number"){var _=g._soundById(h);return _?!_._paused:!1}for(var b=0;b<g._sounds.length;b++)if(!g._sounds[b]._paused)return!0;return!1},duration:function(h){var g=this,_=g._duration,b=g._soundById(h);return b&&(_=g._sprite[b._sprite][1]/1e3),_},state:function(){return this._state},unload:function(){for(var h=this,g=h._sounds,_=0;_<g.length;_++)g[_]._paused||h.stop(g[_]._id),h._webAudio||(h._clearSound(g[_]._node),g[_]._node.removeEventListener("error",g[_]._errorFn,!1),g[_]._node.removeEventListener(i._canPlayEvent,g[_]._loadFn,!1),g[_]._node.removeEventListener("ended",g[_]._endFn,!1),i._releaseHtml5Audio(g[_]._node)),delete g[_]._node,h._clearTimer(g[_]._id);var b=i._howls.indexOf(h);b>=0&&i._howls.splice(b,1);var A=!0;for(_=0;_<i._howls.length;_++)if(i._howls[_]._src===h._src||h._src.indexOf(i._howls[_]._src)>=0){A=!1;break}return u&&A&&delete u[h._src],i.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,g,_,b){var A=this,S=A["_on"+h];return typeof g=="function"&&S.push(b?{id:_,fn:g,once:b}:{id:_,fn:g}),A},off:function(h,g,_){var b=this,A=b["_on"+h],S=0;if(typeof g=="number"&&(_=g,g=null),g||_)for(S=0;S<A.length;S++){var w=_===A[S].id;if(g===A[S].fn&&w||!g&&w){A.splice(S,1);break}}else if(h)b["_on"+h]=[];else{var M=Object.keys(b);for(S=0;S<M.length;S++)M[S].indexOf("_on")===0&&Array.isArray(b[M[S]])&&(b[M[S]]=[])}return b},once:function(h,g,_){var b=this;return b.on(h,g,_,1),b},_emit:function(h,g,_){for(var b=this,A=b["_on"+h],S=A.length-1;S>=0;S--)(!A[S].id||A[S].id===g||h==="load")&&(setTimeout((function(w){w.call(this,g,_)}).bind(b,A[S].fn),0),A[S].once&&b.off(h,A[S].fn,A[S].id));return b._loadQueue(h),b},_loadQueue:function(h){var g=this;if(g._queue.length>0){var _=g._queue[0];_.event===h&&(g._queue.shift(),g._loadQueue()),h||_.action()}return g},_ended:function(h){var g=this,_=h._sprite;if(!g._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(g._ended.bind(g,h),100),g;var b=!!(h._loop||g._sprite[_][2]);if(g._emit("end",h._id),!g._webAudio&&b&&g.stop(h._id,!0).play(h._id),g._webAudio&&b){g._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=i.ctx.currentTime;var A=(h._stop-h._start)*1e3/Math.abs(h._rate);g._endTimers[h._id]=setTimeout(g._ended.bind(g,h),A)}return g._webAudio&&!b&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,g._clearTimer(h._id),g._cleanBuffer(h._node),i._autoSuspend()),!g._webAudio&&!b&&g.stop(h._id,!0),g},_clearTimer:function(h){var g=this;if(g._endTimers[h]){if(typeof g._endTimers[h]!="function")clearTimeout(g._endTimers[h]);else{var _=g._soundById(h);_&&_._node&&_._node.removeEventListener("ended",g._endTimers[h],!1)}delete g._endTimers[h]}return g},_soundById:function(h){for(var g=this,_=0;_<g._sounds.length;_++)if(h===g._sounds[_]._id)return g._sounds[_];return null},_inactiveSound:function(){var h=this;h._drain();for(var g=0;g<h._sounds.length;g++)if(h._sounds[g]._ended)return h._sounds[g].reset();return new l(h)},_drain:function(){var h=this,g=h._pool,_=0,b=0;if(!(h._sounds.length<g)){for(b=0;b<h._sounds.length;b++)h._sounds[b]._ended&&_++;for(b=h._sounds.length-1;b>=0;b--){if(_<=g)return;h._sounds[b]._ended&&(h._webAudio&&h._sounds[b]._node&&h._sounds[b]._node.disconnect(0),h._sounds.splice(b,1),_--)}}},_getSoundIds:function(h){var g=this;if(typeof h>"u"){for(var _=[],b=0;b<g._sounds.length;b++)_.push(g._sounds[b]._id);return _}else return[h]},_refreshBuffer:function(h){var g=this;return h._node.bufferSource=i.ctx.createBufferSource(),h._node.bufferSource.buffer=u[g._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,i.ctx.currentTime),g},_cleanBuffer:function(h){var g=this,_=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return g;if(i._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),_))try{h.bufferSource.buffer=i._scratchBuffer}catch{}return h.bufferSource=null,g},_clearSound:function(h){var g=/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent);g||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var l=function(h){this._parent=h,this.init()};l.prototype={init:function(){var h=this,g=h._parent;return h._muted=g._muted,h._loop=g._loop,h._volume=g._volume,h._rate=g._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++i._counter,g._sounds.push(h),h.create(),h},create:function(){var h=this,g=h._parent,_=i._muted||h._muted||h._parent._muted?0:h._volume;return g._webAudio?(h._node=typeof i.ctx.createGain>"u"?i.ctx.createGainNode():i.ctx.createGain(),h._node.gain.setValueAtTime(_,i.ctx.currentTime),h._node.paused=!0,h._node.connect(i.masterGain)):i.noAudio||(h._node=i._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(i._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=g._src,h._node.preload=g._preload===!0?"auto":g._preload,h._node.volume=_*i.volume(),h._node.load()),h},reset:function(){var h=this,g=h._parent;return h._muted=g._muted,h._loop=g._loop,h._volume=g._volume,h._rate=g._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++i._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,g=h._parent;g._duration=Math.ceil(h._node.duration*10)/10,Object.keys(g._sprite).length===0&&(g._sprite={__default:[0,g._duration*1e3]}),g._state!=="loaded"&&(g._state="loaded",g._emit("load"),g._loadQueue()),h._node.removeEventListener(i._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,g=h._parent;g._duration===1/0&&(g._duration=Math.ceil(h._node.duration*10)/10,g._sprite.__default[1]===1/0&&(g._sprite.__default[1]=g._duration*1e3),g._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var u={},c=function(h){var g=h._src;if(u[g]){h._duration=u[g].duration,y(h);return}if(/^data:[^;]+;base64,/.test(g)){for(var _=atob(g.split(",")[1]),b=new Uint8Array(_.length),A=0;A<_.length;++A)b[A]=_.charCodeAt(A);m(b.buffer,h)}else{var S=new XMLHttpRequest;S.open(h._xhr.method,g,!0),S.withCredentials=h._xhr.withCredentials,S.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(w){S.setRequestHeader(w,h._xhr.headers[w])}),S.onload=function(){var w=(S.status+"")[0];if(w!=="0"&&w!=="2"&&w!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+S.status+".");return}m(S.response,h)},S.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete u[g],h.load())},d(S)}},d=function(h){try{h.send()}catch{h.onerror()}},m=function(h,g){var _=function(){g._emit("loaderror",null,"Decoding audio data failed.")},b=function(A){A&&g._sounds.length>0?(u[g._src]=A,y(g,A)):_()};typeof Promise<"u"&&i.ctx.decodeAudioData.length===1?i.ctx.decodeAudioData(h).then(b).catch(_):i.ctx.decodeAudioData(h,b,_)},y=function(h,g){g&&!h._duration&&(h._duration=g.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},x=function(){if(i.usingWebAudio){try{typeof AudioContext<"u"?i.ctx=new AudioContext:typeof webkitAudioContext<"u"?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch{i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),g=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),_=g?parseInt(g[1],10):null;if(h&&_&&_<9){var b=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!b&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=typeof i.ctx.createGain>"u"?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};a.Howler=i,a.Howl=s,typeof Fa<"u"?(Fa.HowlerGlobal=t,Fa.Howler=i,Fa.Howl=s,Fa.Sound=l):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=i,window.Howl=s,window.Sound=l)})();(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(i){var s=this;if(!s.ctx||!s.ctx.listener)return s;for(var l=s._howls.length-1;l>=0;l--)s._howls[l].stereo(i);return s},HowlerGlobal.prototype.pos=function(i,s,l){var u=this;if(!u.ctx||!u.ctx.listener)return u;if(s=typeof s!="number"?u._pos[1]:s,l=typeof l!="number"?u._pos[2]:l,typeof i=="number")u._pos=[i,s,l],typeof u.ctx.listener.positionX<"u"?(u.ctx.listener.positionX.setTargetAtTime(u._pos[0],Howler.ctx.currentTime,.1),u.ctx.listener.positionY.setTargetAtTime(u._pos[1],Howler.ctx.currentTime,.1),u.ctx.listener.positionZ.setTargetAtTime(u._pos[2],Howler.ctx.currentTime,.1)):u.ctx.listener.setPosition(u._pos[0],u._pos[1],u._pos[2]);else return u._pos;return u},HowlerGlobal.prototype.orientation=function(i,s,l,u,c,d){var m=this;if(!m.ctx||!m.ctx.listener)return m;var y=m._orientation;if(s=typeof s!="number"?y[1]:s,l=typeof l!="number"?y[2]:l,u=typeof u!="number"?y[3]:u,c=typeof c!="number"?y[4]:c,d=typeof d!="number"?y[5]:d,typeof i=="number")m._orientation=[i,s,l,u,c,d],typeof m.ctx.listener.forwardX<"u"?(m.ctx.listener.forwardX.setTargetAtTime(i,Howler.ctx.currentTime,.1),m.ctx.listener.forwardY.setTargetAtTime(s,Howler.ctx.currentTime,.1),m.ctx.listener.forwardZ.setTargetAtTime(l,Howler.ctx.currentTime,.1),m.ctx.listener.upX.setTargetAtTime(u,Howler.ctx.currentTime,.1),m.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),m.ctx.listener.upZ.setTargetAtTime(d,Howler.ctx.currentTime,.1)):m.ctx.listener.setOrientation(i,s,l,u,c,d);else return y;return m},Howl.prototype.init=(function(i){return function(s){var l=this;return l._orientation=s.orientation||[1,0,0],l._stereo=s.stereo||null,l._pos=s.pos||null,l._pannerAttr={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:360,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:360,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:0,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:"inverse",maxDistance:typeof s.maxDistance<"u"?s.maxDistance:1e4,panningModel:typeof s.panningModel<"u"?s.panningModel:"HRTF",refDistance:typeof s.refDistance<"u"?s.refDistance:1,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:1},l._onstereo=s.onstereo?[{fn:s.onstereo}]:[],l._onpos=s.onpos?[{fn:s.onpos}]:[],l._onorientation=s.onorientation?[{fn:s.onorientation}]:[],i.call(this,s)}})(Howl.prototype.init),Howl.prototype.stereo=function(i,s){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"stereo",action:function(){l.stereo(i,s)}}),l;var u=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof s>"u")if(typeof i=="number")l._stereo=i,l._pos=[i,0,0];else return l._stereo;for(var c=l._getSoundIds(s),d=0;d<c.length;d++){var m=l._soundById(c[d]);if(m)if(typeof i=="number")m._stereo=i,m._pos=[i,0,0],m._node&&(m._pannerAttr.panningModel="equalpower",(!m._panner||!m._panner.pan)&&t(m,u),u==="spatial"?typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):m._panner.setPosition(i,0,0):m._panner.pan.setValueAtTime(i,Howler.ctx.currentTime)),l._emit("stereo",m._id);else return m._stereo}return l},Howl.prototype.pos=function(i,s,l,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(i,s,l,u)}}),c;if(s=typeof s!="number"?0:s,l=typeof l!="number"?-.5:l,typeof u>"u")if(typeof i=="number")c._pos=[i,s,l];else return c._pos;for(var d=c._getSoundIds(u),m=0;m<d.length;m++){var y=c._soundById(d[m]);if(y)if(typeof i=="number")y._pos=[i,s,l],y._node&&((!y._panner||y._panner.pan)&&t(y,"spatial"),typeof y._panner.positionX<"u"?(y._panner.positionX.setValueAtTime(i,Howler.ctx.currentTime),y._panner.positionY.setValueAtTime(s,Howler.ctx.currentTime),y._panner.positionZ.setValueAtTime(l,Howler.ctx.currentTime)):y._panner.setPosition(i,s,l)),c._emit("pos",y._id);else return y._pos}return c},Howl.prototype.orientation=function(i,s,l,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(i,s,l,u)}}),c;if(s=typeof s!="number"?c._orientation[1]:s,l=typeof l!="number"?c._orientation[2]:l,typeof u>"u")if(typeof i=="number")c._orientation=[i,s,l];else return c._orientation;for(var d=c._getSoundIds(u),m=0;m<d.length;m++){var y=c._soundById(d[m]);if(y)if(typeof i=="number")y._orientation=[i,s,l],y._node&&(y._panner||(y._pos||(y._pos=c._pos||[0,0,-.5]),t(y,"spatial")),typeof y._panner.orientationX<"u"?(y._panner.orientationX.setValueAtTime(i,Howler.ctx.currentTime),y._panner.orientationY.setValueAtTime(s,Howler.ctx.currentTime),y._panner.orientationZ.setValueAtTime(l,Howler.ctx.currentTime)):y._panner.setOrientation(i,s,l)),c._emit("orientation",y._id);else return y._orientation}return c},Howl.prototype.pannerAttr=function(){var i=this,s=arguments,l,u,c;if(!i._webAudio)return i;if(s.length===0)return i._pannerAttr;if(s.length===1)if(typeof s[0]=="object")l=s[0],typeof u>"u"&&(l.pannerAttr||(l.pannerAttr={coneInnerAngle:l.coneInnerAngle,coneOuterAngle:l.coneOuterAngle,coneOuterGain:l.coneOuterGain,distanceModel:l.distanceModel,maxDistance:l.maxDistance,refDistance:l.refDistance,rolloffFactor:l.rolloffFactor,panningModel:l.panningModel}),i._pannerAttr={coneInnerAngle:typeof l.pannerAttr.coneInnerAngle<"u"?l.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:typeof l.pannerAttr.coneOuterAngle<"u"?l.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:typeof l.pannerAttr.coneOuterGain<"u"?l.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:typeof l.pannerAttr.distanceModel<"u"?l.pannerAttr.distanceModel:i._distanceModel,maxDistance:typeof l.pannerAttr.maxDistance<"u"?l.pannerAttr.maxDistance:i._maxDistance,refDistance:typeof l.pannerAttr.refDistance<"u"?l.pannerAttr.refDistance:i._refDistance,rolloffFactor:typeof l.pannerAttr.rolloffFactor<"u"?l.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:typeof l.pannerAttr.panningModel<"u"?l.pannerAttr.panningModel:i._panningModel});else return c=i._soundById(parseInt(s[0],10)),c?c._pannerAttr:i._pannerAttr;else s.length===2&&(l=s[0],u=parseInt(s[1],10));for(var d=i._getSoundIds(u),m=0;m<d.length;m++)if(c=i._soundById(d[m]),c){var y=c._pannerAttr;y={coneInnerAngle:typeof l.coneInnerAngle<"u"?l.coneInnerAngle:y.coneInnerAngle,coneOuterAngle:typeof l.coneOuterAngle<"u"?l.coneOuterAngle:y.coneOuterAngle,coneOuterGain:typeof l.coneOuterGain<"u"?l.coneOuterGain:y.coneOuterGain,distanceModel:typeof l.distanceModel<"u"?l.distanceModel:y.distanceModel,maxDistance:typeof l.maxDistance<"u"?l.maxDistance:y.maxDistance,refDistance:typeof l.refDistance<"u"?l.refDistance:y.refDistance,rolloffFactor:typeof l.rolloffFactor<"u"?l.rolloffFactor:y.rolloffFactor,panningModel:typeof l.panningModel<"u"?l.panningModel:y.panningModel};var x=c._panner;x||(c._pos||(c._pos=i._pos||[0,0,-.5]),t(c,"spatial"),x=c._panner),x.coneInnerAngle=y.coneInnerAngle,x.coneOuterAngle=y.coneOuterAngle,x.coneOuterGain=y.coneOuterGain,x.distanceModel=y.distanceModel,x.maxDistance=y.maxDistance,x.refDistance=y.refDistance,x.rolloffFactor=y.rolloffFactor,x.panningModel=y.panningModel}return i},Sound.prototype.init=(function(i){return function(){var s=this,l=s._parent;s._orientation=l._orientation,s._stereo=l._stereo,s._pos=l._pos,s._pannerAttr=l._pannerAttr,i.call(this),s._stereo?l.stereo(s._stereo):s._pos&&l.pos(s._pos[0],s._pos[1],s._pos[2],s._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(i){return function(){var s=this,l=s._parent;return s._orientation=l._orientation,s._stereo=l._stereo,s._pos=l._pos,s._pannerAttr=l._pannerAttr,s._stereo?l.stereo(s._stereo):s._pos?l.pos(s._pos[0],s._pos[1],s._pos[2],s._id):s._panner&&(s._panner.disconnect(0),s._panner=void 0,l._refreshBuffer(s)),i.call(this)}})(Sound.prototype.reset);var t=function(i,s){s=s||"spatial",s==="spatial"?(i._panner=Howler.ctx.createPanner(),i._panner.coneInnerAngle=i._pannerAttr.coneInnerAngle,i._panner.coneOuterAngle=i._pannerAttr.coneOuterAngle,i._panner.coneOuterGain=i._pannerAttr.coneOuterGain,i._panner.distanceModel=i._pannerAttr.distanceModel,i._panner.maxDistance=i._pannerAttr.maxDistance,i._panner.refDistance=i._pannerAttr.refDistance,i._panner.rolloffFactor=i._pannerAttr.rolloffFactor,i._panner.panningModel=i._pannerAttr.panningModel,typeof i._panner.positionX<"u"?(i._panner.positionX.setValueAtTime(i._pos[0],Howler.ctx.currentTime),i._panner.positionY.setValueAtTime(i._pos[1],Howler.ctx.currentTime),i._panner.positionZ.setValueAtTime(i._pos[2],Howler.ctx.currentTime)):i._panner.setPosition(i._pos[0],i._pos[1],i._pos[2]),typeof i._panner.orientationX<"u"?(i._panner.orientationX.setValueAtTime(i._orientation[0],Howler.ctx.currentTime),i._panner.orientationY.setValueAtTime(i._orientation[1],Howler.ctx.currentTime),i._panner.orientationZ.setValueAtTime(i._orientation[2],Howler.ctx.currentTime)):i._panner.setOrientation(i._orientation[0],i._orientation[1],i._orientation[2])):(i._panner=Howler.ctx.createStereoPanner(),i._panner.pan.setValueAtTime(i._stereo,Howler.ctx.currentTime)),i._panner.connect(i._node),i._paused||i._parent.pause(i._id,!0).play(i._id,!0)}})()})(Gc)),Gc}var ig=Yv();const Xi="/aysel_game/",Lc={music:`${Xi}assets/audio/music/magical-theme.wav`,sfx:{click:`${Xi}assets/audio/sfx/click.wav`,sparkle:`${Xi}assets/audio/sfx/sparkle.wav`,apply:`${Xi}assets/audio/sfx/apply.wav`,success:`${Xi}assets/audio/sfx/success.wav`,star:`${Xi}assets/audio/sfx/star.wav`,whoosh:`${Xi}assets/audio/sfx/whoosh.wav`}};function Bh(){const{state:a}=Zn(),{musicEnabled:t,sfxEnabled:i,musicVolume:s,sfxVolume:l}=a.progress.settings,u=At.useRef(null),c=At.useRef({click:null,sparkle:null,apply:null,success:null,star:null,whoosh:null});At.useEffect(()=>(u.current=new ig.Howl({src:[Lc.music],loop:!0,volume:s,preload:!0}),Object.keys(Lc.sfx).forEach(S=>{c.current[S]=new ig.Howl({src:[Lc.sfx[S]],volume:l,preload:!0})}),()=>{u.current?.unload(),Object.values(c.current).forEach(S=>S?.unload())}),[]),At.useEffect(()=>{u.current&&(t?u.current.playing()||u.current.play():u.current.pause())},[t]),At.useEffect(()=>{u.current?.volume(s)},[s]),At.useEffect(()=>{Object.values(c.current).forEach(S=>{S?.volume(l)})},[l]);const d=At.useCallback(S=>{i&&c.current[S]?.play()},[i]),m=At.useCallback(()=>d("click"),[d]),y=At.useCallback(()=>d("sparkle"),[d]),x=At.useCallback(()=>d("apply"),[d]),h=At.useCallback(()=>d("success"),[d]),g=At.useCallback(()=>d("star"),[d]),_=At.useCallback(()=>d("whoosh"),[d]),b=At.useCallback(()=>{t&&u.current&&!u.current.playing()&&u.current.play()},[t]),A=At.useCallback(()=>{u.current?.stop()},[]);return{playSfx:d,playClick:m,playSparkle:y,playApply:x,playSuccess:h,playStar:g,playWhoosh:_,startMusic:b,stopMusic:A}}const Pv=({delay:a,left:t,size:i})=>N.jsx("div",{className:"absolute text-yellow-300 animate-pulse pointer-events-none",style:{left:t,top:`${Math.random()*100}%`,fontSize:`${i}px`,animationDelay:`${a}s`,opacity:.6+Math.random()*.4},children:""}),sg=()=>{const{goToLevelSelect:a,goToCollection:t,state:i,toggleMusic:s,toggleSfx:l}=Zn(),{playClick:u,playSparkle:c}=Bh(),[d,m]=At.useState([]);At.useEffect(()=>{const h=Array.from({length:20},(g,_)=>({id:_,delay:Math.random()*3,left:`${Math.random()*100}%`,size:16+Math.random()*24}));m(h)},[]);const{musicEnabled:y,sfxEnabled:x}=i.progress.settings;return N.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center overflow-hidden",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 via-pink-800 to-indigo-900 animate-pulse"}),d.map(h=>N.jsx(Pv,{delay:h.delay,left:h.left,size:h.size},h.id)),N.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-8 p-8",children:[N.jsxs("div",{className:"text-center animate-float",children:[N.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-300 via-purple-300 to-indigo-300 drop-shadow-lg",style:{textShadow:"0 0 30px rgba(236, 72, 153, 0.5)"},children:" Enchanted "}),N.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 mt-2",style:{textShadow:"0 0 30px rgba(251, 191, 36, 0.5)"},children:"Glamour Kingdom"})]}),N.jsx("p",{className:"text-pink-200 text-lg md:text-xl text-center max-w-md",children:"Transform magical creatures with enchanted makeup and sparkles!"}),N.jsxs("div",{className:"flex items-center gap-2 bg-purple-900/50 px-6 py-3 rounded-full border border-purple-400/30",children:[N.jsx("span",{className:"text-2xl",children:""}),N.jsx("span",{className:"text-yellow-300 font-bold text-xl",children:i.progress.totalStars}),N.jsx("span",{className:"text-purple-200",children:"stars collected"})]}),N.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-xs",children:[N.jsx("button",{onClick:()=>{c(),a()},className:"btn-magic text-xl py-4 animate-glow",children:" Play"}),N.jsxs("button",{onClick:()=>{u(),t()},className:"btn-magic text-xl py-4 bg-gradient-to-r from-indigo-500 to-purple-500",children:[" Collection (",i.progress.collection.length,"/10)"]})]}),N.jsxs("div",{className:"flex gap-4 mt-4",children:[N.jsx("button",{onClick:()=>{u(),s()},className:`w-14 h-14 rounded-full flex items-center justify-center text-2xl transition-all ${y?"bg-purple-600 text-white shadow-lg shadow-purple-500/50":"bg-gray-700 text-gray-400"}`,children:y?"":""}),N.jsx("button",{onClick:()=>{u(),l()},className:`w-14 h-14 rounded-full flex items-center justify-center text-2xl transition-all ${x?"bg-pink-600 text-white shadow-lg shadow-pink-500/50":"bg-gray-700 text-gray-400"}`,children:x?"":""})]}),N.jsx("p",{className:"text-purple-300/60 text-sm mt-8",children:"Made with  for Aysel"})]})]})},vn="/aysel_game/",on=[{id:"forest-fairy",name:"Luna the Forest Fairy",baseImageUrl:`${vn}assets/characters/forest-fairy.svg`,theme:"Spring Garden",unlocked:!0},{id:"water-mermaid",name:"Marina the Water Mermaid",baseImageUrl:`${vn}assets/characters/water-mermaid.svg`,theme:"Ocean Dreams",unlocked:!1},{id:"unicorn-princess",name:"Starlight the Unicorn Princess",baseImageUrl:`${vn}assets/characters/unicorn-princess.svg`,theme:"Rainbow Magic",unlocked:!1},{id:"moon-fairy",name:"Celeste the Moon Fairy",baseImageUrl:`${vn}assets/characters/moon-fairy.svg`,theme:"Starlight Night",unlocked:!1},{id:"flower-spirit",name:"Petal the Flower Spirit",baseImageUrl:`${vn}assets/characters/flower-spirit.svg`,theme:"Enchanted Garden",unlocked:!1},{id:"crystal-mermaid",name:"Crystal the Ice Mermaid",baseImageUrl:`${vn}assets/characters/crystal-mermaid.svg`,theme:"Ice Palace",unlocked:!1},{id:"sun-princess",name:"Aurora the Sun Princess",baseImageUrl:`${vn}assets/characters/sun-princess.svg`,theme:"Golden Kingdom",unlocked:!1},{id:"shadow-fairy",name:"Violet the Shadow Fairy",baseImageUrl:`${vn}assets/characters/shadow-fairy.svg`,theme:"Mystic Forest",unlocked:!1},{id:"rainbow-unicorn",name:"Prism the Rainbow Unicorn",baseImageUrl:`${vn}assets/characters/rainbow-unicorn.svg`,theme:"Cloud Castle",unlocked:!1},{id:"queen-magic",name:"Empress Enchantia",baseImageUrl:`${vn}assets/characters/queen-magic.svg`,theme:"Enchanted Throne",unlocked:!1}],Vv="/aysel_game/",Zs=(a,t)=>{const s={lips:"makeup/lips",eyes:"makeup/eyes",cheeks:"makeup/cheeks",hair:"hairstyles",accessories:"accessories",wings:"makeup/wings"}[a],l=a==="hair"?"hair":a==="accessories"?"accessories":a;return t.map((u,c)=>({id:`${a}-${c+1}`,name:u.name,category:a,imageUrl:`${Vv}assets/${s}/${l}-${c+1}.svg`,rarity:u.rarity,position:u.position,scale:1}))},My=Zs("lips",[{name:"Rose Petal Pink",rarity:"common",position:{x:0,y:-6}},{name:"Cherry Blossom",rarity:"common",position:{x:0,y:-6}},{name:"Coral Dream",rarity:"common",position:{x:0,y:-6}},{name:"Fairy Berry",rarity:"rare",position:{x:0,y:-6}},{name:"Sparkle Gloss",rarity:"rare",position:{x:0,y:-6}},{name:"Rainbow Kiss",rarity:"legendary",position:{x:0,y:-6}}]),Cy=Zs("eyes",[{name:"Starlight Shimmer",rarity:"common",position:{x:0,y:-42}},{name:"Ocean Blue",rarity:"common",position:{x:0,y:-42}},{name:"Forest Green",rarity:"common",position:{x:0,y:-42}},{name:"Sunset Orange",rarity:"rare",position:{x:0,y:-42}},{name:"Galaxy Purple",rarity:"rare",position:{x:0,y:-42}},{name:"Diamond Sparkle",rarity:"legendary",position:{x:0,y:-42}}]),Ey=Zs("cheeks",[{name:"Peach Glow",rarity:"common",position:{x:0,y:-24}},{name:"Pink Cloud",rarity:"common",position:{x:0,y:-24}},{name:"Coral Dust",rarity:"common",position:{x:0,y:-24}},{name:"Fairy Dust",rarity:"rare",position:{x:0,y:-24}},{name:"Glitter Blush",rarity:"rare",position:{x:0,y:-24}},{name:"Moonbeam Glow",rarity:"legendary",position:{x:0,y:-24}}]),Ry=Zs("hair",[{name:"Flowing Waves",rarity:"common",position:{x:0,y:-96}},{name:"Braided Crown",rarity:"common",position:{x:0,y:-96}},{name:"Curly Locks",rarity:"common",position:{x:0,y:-96}},{name:"Flower Braid",rarity:"rare",position:{x:0,y:-96}},{name:"Star Streaks",rarity:"rare",position:{x:0,y:-96}},{name:"Rainbow Cascade",rarity:"legendary",position:{x:0,y:-96}}]),By=Zs("accessories",[{name:"Flower Crown",rarity:"common",position:{x:0,y:-108}},{name:"Crystal Tiara",rarity:"common",position:{x:0,y:-108}},{name:"Pearl Necklace",rarity:"common",position:{x:0,y:48}},{name:"Star Earrings",rarity:"rare",position:{x:0,y:-24}},{name:"Magic Wand",rarity:"rare",position:{x:72,y:36}},{name:"Enchanted Crown",rarity:"legendary",position:{x:0,y:-120}}]),zy=Zs("wings",[{name:"Butterfly Wings",rarity:"common",position:{x:0,y:0}},{name:"Fairy Wings",rarity:"common",position:{x:0,y:0}},{name:"Crystal Wings",rarity:"common",position:{x:0,y:0}},{name:"Rainbow Wings",rarity:"rare",position:{x:0,y:0}},{name:"Starlight Wings",rarity:"rare",position:{x:0,y:0}},{name:"Galaxy Wings",rarity:"legendary",position:{x:0,y:0}}]),bn=[...My,...Cy,...Ey,...Ry,...By,...zy],Xv=a=>{switch(a){case"lips":return My;case"eyes":return Cy;case"cheeks":return Ey;case"hair":return Ry;case"accessories":return By;case"wings":return zy;default:return[]}},qv=[{id:"lips",name:"Lips",icon:""},{id:"eyes",name:"Eyes",icon:""},{id:"cheeks",name:"Cheeks",icon:""},{id:"hair",name:"Hair",icon:""},{id:"accessories",name:"Accessories",icon:""},{id:"wings",name:"Wings",icon:""}],Sn="/aysel_game/",Oy=[{id:1,name:"Spring Garden",character:on[0],backgroundUrl:`${Sn}assets/backgrounds/spring-garden.jpg`,availableItems:bn,unlockRequirement:null},{id:2,name:"Ocean Dreams",character:on[1],backgroundUrl:`${Sn}assets/backgrounds/ocean-dreams.jpg`,availableItems:bn,unlockRequirement:1},{id:3,name:"Rainbow Magic",character:on[2],backgroundUrl:`${Sn}assets/backgrounds/rainbow-magic.jpg`,availableItems:bn,unlockRequirement:2},{id:4,name:"Starlight Night",character:on[3],backgroundUrl:`${Sn}assets/backgrounds/starlight-night.jpg`,availableItems:bn,unlockRequirement:3},{id:5,name:"Enchanted Garden",character:on[4],backgroundUrl:`${Sn}assets/backgrounds/enchanted-garden.jpg`,availableItems:bn,unlockRequirement:4},{id:6,name:"Ice Palace",character:on[5],backgroundUrl:`${Sn}assets/backgrounds/ice-palace.jpg`,availableItems:bn,unlockRequirement:5},{id:7,name:"Golden Kingdom",character:on[6],backgroundUrl:`${Sn}assets/backgrounds/golden-kingdom.jpg`,availableItems:bn,unlockRequirement:6},{id:8,name:"Mystic Forest",character:on[7],backgroundUrl:`${Sn}assets/backgrounds/mystic-forest.jpg`,availableItems:bn,unlockRequirement:7},{id:9,name:"Cloud Castle",character:on[8],backgroundUrl:`${Sn}assets/backgrounds/cloud-castle.jpg`,availableItems:bn,unlockRequirement:8},{id:10,name:"Enchanted Throne",character:on[9],backgroundUrl:`${Sn}assets/backgrounds/enchanted-throne.jpg`,availableItems:bn,unlockRequirement:9}],Fv=a=>Oy.find(t=>t.id===a),Iv=(a,t)=>{const i=Fv(a);return i?i.unlockRequirement===null?!0:t.includes(i.unlockRequirement):!1},Qv=({level:a,isUnlocked:t,stars:i,onSelect:s})=>N.jsxs("button",{onClick:t?s:void 0,disabled:!t,className:`relative w-full aspect-square rounded-2xl overflow-hidden transition-all duration-300 ${t?"transform hover:scale-105 hover:shadow-xl hover:shadow-purple-500/30 cursor-pointer":"opacity-50 cursor-not-allowed grayscale"}`,children:[N.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-br from-purple-600 via-pink-500 to-indigo-600":"bg-gradient-to-br from-gray-600 to-gray-800"}`}),N.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:N.jsx("div",{className:"text-6xl opacity-80",children:t?Zv(a.id):""})}),N.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3",children:[N.jsx("p",{className:"text-white font-bold text-sm",children:a.name}),N.jsx("p",{className:"text-pink-300 text-xs",children:a.character.name})]}),t&&N.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5",children:[1,2,3].map(l=>N.jsx("span",{className:`text-lg ${l<=i?"text-yellow-400":"text-gray-600"}`,children:""},l))}),N.jsx("div",{className:"absolute top-2 left-2 w-8 h-8 rounded-full bg-purple-900/80 flex items-center justify-center",children:N.jsx("span",{className:"text-white font-bold text-sm",children:a.id})})]});function Zv(a){return["","","","","","","","","",""][a-1]||""}const Wv=()=>{const{goToMenu:a,selectLevel:t,state:i}=Zn(),{unlockedLevels:s,collection:l}=i.progress,u=c=>l.find(m=>m.levelId===c)?.stars||0;return N.jsxs("div",{className:"w-full h-full flex flex-col bg-gradient-to-br from-purple-900 via-indigo-900 to-purple-800 overflow-hidden",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-900/50",children:[N.jsx("button",{onClick:a,className:"w-12 h-12 rounded-full bg-purple-700 hover:bg-purple-600 flex items-center justify-center text-2xl transition-colors",children:""}),N.jsx("h1",{className:"text-2xl font-bold text-pink-200",children:"Choose Your Level"}),N.jsx("div",{className:"w-12"})," "]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:N.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 max-w-4xl mx-auto",children:Oy.map(c=>N.jsx(Qv,{level:c,isUnlocked:Iv(c.id,s),stars:u(c.id),onSelect:()=>t(c)},c.id))})}),N.jsx("div",{className:"p-4 bg-purple-900/50",children:N.jsxs("div",{className:"max-w-md mx-auto",children:[N.jsxs("div",{className:"flex justify-between text-sm text-purple-200 mb-2",children:[N.jsx("span",{children:"Progress"}),N.jsxs("span",{children:[s.length,"/10 levels"]})]}),N.jsx("div",{className:"h-3 bg-purple-950 rounded-full overflow-hidden",children:N.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-purple-500 rounded-full transition-all duration-500",style:{width:`${s.length/10*100}%`}})})]})})]})},Kv=({makeover:a,characterName:t})=>N.jsxs("div",{className:"relative bg-gradient-to-br from-purple-700 to-pink-700 rounded-2xl overflow-hidden shadow-lg",children:[N.jsx("div",{className:"aspect-square flex items-center justify-center bg-purple-800/50",children:N.jsx("div",{className:"text-6xl",children:$v(a.characterId)})}),N.jsxs("div",{className:"p-3 bg-purple-900/80",children:[N.jsx("p",{className:"text-white font-bold text-sm truncate",children:t}),N.jsxs("p",{className:"text-purple-300 text-xs",children:[a.appliedItems.length," items used"]})]}),N.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5 bg-purple-900/80 px-2 py-1 rounded-full",children:[1,2,3].map(i=>N.jsx("span",{className:`text-sm ${i<=a.stars?"text-yellow-400":"text-gray-600"}`,children:""},i))})]});function $v(a){return{"forest-fairy":"","water-mermaid":"","unicorn-princess":"","moon-fairy":"","flower-spirit":"","crystal-mermaid":"","sun-princess":"","shadow-fairy":"","rainbow-unicorn":"","queen-magic":""}[a]||""}const Jv=({index:a})=>N.jsxs("div",{className:"bg-purple-900/30 rounded-2xl border-2 border-dashed border-purple-600/50 aspect-square flex flex-col items-center justify-center",children:[N.jsx("span",{className:"text-4xl text-purple-600/50",children:""}),N.jsxs("span",{className:"text-purple-400/50 text-sm mt-2",children:["Level ",a+1]})]}),tb=()=>{const{goToMenu:a,state:t}=Zn(),{collection:i,totalStars:s}=t.progress,l=c=>on.find(m=>m.id===c)?.name||"Unknown",u=new Map;return i.forEach(c=>{const d=u.get(c.levelId);(!d||c.stars>d.stars)&&u.set(c.levelId,c)}),N.jsxs("div",{className:"w-full h-full flex flex-col bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 overflow-hidden",children:[N.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-900/50",children:[N.jsx("button",{onClick:a,className:"w-12 h-12 rounded-full bg-purple-700 hover:bg-purple-600 flex items-center justify-center text-2xl transition-colors",children:""}),N.jsx("h1",{className:"text-2xl font-bold text-pink-200",children:" Collection"}),N.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/20 px-4 py-2 rounded-full",children:[N.jsx("span",{className:"text-xl",children:""}),N.jsx("span",{className:"text-yellow-300 font-bold",children:s})]})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i.length===0?N.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[N.jsx("span",{className:"text-6xl mb-4",children:""}),N.jsx("h2",{className:"text-2xl font-bold text-pink-200 mb-2",children:"Your collection is empty!"}),N.jsx("p",{className:"text-purple-300",children:"Complete makeovers to fill your collection book with beautiful creations."})]}):N.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 max-w-4xl mx-auto",children:Array.from({length:10},(c,d)=>{const m=d+1,y=u.get(m);return y?N.jsx(Kv,{makeover:y,characterName:l(y.characterId)},m):N.jsx(Jv,{index:d},m)})})}),N.jsx("div",{className:"p-4 bg-purple-900/50",children:N.jsxs("div",{className:"max-w-md mx-auto flex justify-around",children:[N.jsxs("div",{className:"text-center",children:[N.jsx("p",{className:"text-3xl font-bold text-pink-300",children:u.size}),N.jsx("p",{className:"text-purple-300 text-sm",children:"Creatures"})]}),N.jsxs("div",{className:"text-center",children:[N.jsx("p",{className:"text-3xl font-bold text-yellow-300",children:s}),N.jsx("p",{className:"text-purple-300 text-sm",children:"Total Stars"})]}),N.jsxs("div",{className:"text-center",children:[N.jsx("p",{className:"text-3xl font-bold text-purple-300",children:i.length}),N.jsx("p",{className:"text-purple-300 text-sm",children:"Makeovers"})]})]})})]})},eb=()=>{const{state:a,goToLevelSelect:t,goToMenu:i}=Zn(),[s,l]=At.useState(0),[u,c]=At.useState(!1),[d,m]=At.useState(!1),y=a.progress.collection[a.progress.collection.length-1],x=y?.stars||0,h=a.currentLevel?.character.name||"Character";return At.useEffect(()=>{const g=[];for(let A=1;A<=x;A++){const S=setTimeout(()=>{l(A)},A*500);g.push(S)}const _=setTimeout(()=>{c(!0)},x*500+300),b=setTimeout(()=>{m(!0)},x*500+800);return()=>{g.forEach(clearTimeout),clearTimeout(_),clearTimeout(b)}},[x]),N.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-purple-900 via-pink-800 to-indigo-900 overflow-hidden relative",children:[N.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:30}).map((g,_)=>N.jsx("div",{className:"absolute animate-bounce",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${1+Math.random()}s`,fontSize:`${16+Math.random()*16}px`},children:["","","","",""][Math.floor(Math.random()*5)]},_))}),N.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6 p-8 text-center",children:[N.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-pink-200 animate-pulse",children:" Makeover Complete! "}),N.jsxs("div",{className:"bg-purple-800/50 rounded-2xl px-8 py-4",children:[N.jsx("p",{className:"text-purple-200",children:"You transformed"}),N.jsx("p",{className:"text-2xl font-bold text-white",children:h})]}),N.jsx("div",{className:"flex gap-4 my-4",children:[1,2,3].map(g=>N.jsx("div",{className:`transform transition-all duration-500 ${g<=s?"scale-100 opacity-100":"scale-0 opacity-0"}`,children:N.jsx("span",{className:`text-6xl ${g<=s?"text-yellow-400 animate-bounce":"text-gray-600"}`,style:{animationDelay:`${g*.1}s`,textShadow:g<=s?"0 0 20px #fbbf24":"none"},children:""})},g))}),N.jsxs("div",{className:`transition-all duration-500 ${u?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-4"}`,children:[N.jsx("p",{className:"text-xl text-pink-300 font-bold",children:Lv(x)}),y&&N.jsxs("p",{className:"text-purple-300 mt-2",children:[y.appliedItems.length," magical items used"]})]}),N.jsx("div",{className:`bg-yellow-500/20 rounded-full px-6 py-3 transition-all duration-500 ${u?"opacity-100":"opacity-0"}`,children:N.jsxs("span",{className:"text-yellow-300 font-bold",children:["Total: ",a.progress.totalStars," "]})}),N.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 mt-4 transition-all duration-500 ${d?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-4"}`,children:[N.jsx("button",{onClick:t,className:"btn-magic text-lg px-8 py-3",children:" Next Level"}),N.jsx("button",{onClick:i,className:"px-8 py-3 rounded-xl bg-purple-700 hover:bg-purple-600 text-white font-bold transition-colors",children:" Home"})]}),a.currentLevel&&a.currentLevel.id<10&&N.jsx("div",{className:`mt-4 bg-green-500/20 rounded-full px-6 py-2 transition-all duration-500 ${d?"opacity-100":"opacity-0"}`,children:N.jsxs("span",{className:"text-green-300",children:[" Level ",a.currentLevel.id+1," Unlocked!"]})})]})]})},nb="modulepreload",ib=function(a){return"/aysel_game/"+a},ag={},so=function(t,i,s){let l=Promise.resolve();if(i&&i.length>0){let m=function(y){return Promise.all(y.map(x=>Promise.resolve(x).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");l=m(i.map(y=>{if(y=ib(y),y in ag)return;ag[y]=!0;const x=y.endsWith(".css"),h=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${h}`))return;const g=document.createElement("link");if(g.rel=x?"stylesheet":nb,x||(g.as="script"),g.crossOrigin="",g.href=y,d&&g.setAttribute("nonce",d),document.head.appendChild(g),x)return new Promise((_,b)=>{g.addEventListener("load",_),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return l.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})};var st=(a=>(a.Application="application",a.WebGLPipes="webgl-pipes",a.WebGLPipesAdaptor="webgl-pipes-adaptor",a.WebGLSystem="webgl-system",a.WebGPUPipes="webgpu-pipes",a.WebGPUPipesAdaptor="webgpu-pipes-adaptor",a.WebGPUSystem="webgpu-system",a.CanvasSystem="canvas-system",a.CanvasPipesAdaptor="canvas-pipes-adaptor",a.CanvasPipes="canvas-pipes",a.Asset="asset",a.LoadParser="load-parser",a.ResolveParser="resolve-parser",a.CacheParser="cache-parser",a.DetectionParser="detection-parser",a.MaskEffect="mask-effect",a.BlendMode="blend-mode",a.TextureSource="texture-source",a.Environment="environment",a.ShapeBuilder="shape-builder",a.Batcher="batcher",a))(st||{});const ch=a=>{if(typeof a=="function"||typeof a=="object"&&a.extension){if(!a.extension)throw new Error("Extension class must have an extension object");a={...typeof a.extension!="object"?{type:a.extension}:a.extension,ref:a}}if(typeof a=="object")a={...a};else throw new Error("Invalid extension type");return typeof a.type=="string"&&(a.type=[a.type]),a},Ul=(a,t)=>ch(a).priority??t,me={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...a){return a.map(ch).forEach(t=>{t.type.forEach(i=>this._removeHandlers[i]?.(t))}),this},add(...a){return a.map(ch).forEach(t=>{t.type.forEach(i=>{const s=this._addHandlers,l=this._queue;s[i]?s[i]?.(t):(l[i]=l[i]||[],l[i]?.push(t))})}),this},handle(a,t,i){const s=this._addHandlers,l=this._removeHandlers;if(s[a]||l[a])throw new Error(`Extension type ${a} already has a handler`);s[a]=t,l[a]=i;const u=this._queue;return u[a]&&(u[a]?.forEach(c=>t(c)),delete u[a]),this},handleByMap(a,t){return this.handle(a,i=>{i.name&&(t[i.name]=i.ref)},i=>{i.name&&delete t[i.name]})},handleByNamedList(a,t,i=-1){return this.handle(a,s=>{t.findIndex(u=>u.name===s.name)>=0||(t.push({name:s.name,value:s.ref}),t.sort((u,c)=>Ul(c.value,i)-Ul(u.value,i)))},s=>{const l=t.findIndex(u=>u.name===s.name);l!==-1&&t.splice(l,1)})},handleByList(a,t,i=-1){return this.handle(a,s=>{t.includes(s.ref)||(t.push(s.ref),t.sort((l,u)=>Ul(u,i)-Ul(l,i)))},s=>{const l=t.indexOf(s.ref);l!==-1&&t.splice(l,1)})},mixin(a,...t){for(const i of t)Object.defineProperties(a.prototype,Object.getOwnPropertyDescriptors(i))}},sb={extension:{type:st.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await so(()=>import("./browserAll-olkKTCo9.js"),__vite__mapDeps([0,1,2]))}},ab={extension:{type:st.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await so(()=>import("./webworkerAll-DzoaPOB8.js"),__vite__mapDeps([1,2]))}};class pe{constructor(t,i,s){this._x=i||0,this._y=s||0,this._observer=t}clone(t){return new pe(t??this._observer,this._x,this._y)}set(t=0,i=t){return(this._x!==t||this._y!==i)&&(this._x=t,this._y=i,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var Uc={exports:{}},rg;function rb(){return rg||(rg=1,(function(a){var t=Object.prototype.hasOwnProperty,i="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1));function l(m,y,x){this.fn=m,this.context=y,this.once=x||!1}function u(m,y,x,h,g){if(typeof x!="function")throw new TypeError("The listener must be a function");var _=new l(x,h||m,g),b=i?i+y:y;return m._events[b]?m._events[b].fn?m._events[b]=[m._events[b],_]:m._events[b].push(_):(m._events[b]=_,m._eventsCount++),m}function c(m,y){--m._eventsCount===0?m._events=new s:delete m._events[y]}function d(){this._events=new s,this._eventsCount=0}d.prototype.eventNames=function(){var y=[],x,h;if(this._eventsCount===0)return y;for(h in x=this._events)t.call(x,h)&&y.push(i?h.slice(1):h);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(x)):y},d.prototype.listeners=function(y){var x=i?i+y:y,h=this._events[x];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,_=h.length,b=new Array(_);g<_;g++)b[g]=h[g].fn;return b},d.prototype.listenerCount=function(y){var x=i?i+y:y,h=this._events[x];return h?h.fn?1:h.length:0},d.prototype.emit=function(y,x,h,g,_,b){var A=i?i+y:y;if(!this._events[A])return!1;var S=this._events[A],w=arguments.length,M,C;if(S.fn){switch(S.once&&this.removeListener(y,S.fn,void 0,!0),w){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,x),!0;case 3:return S.fn.call(S.context,x,h),!0;case 4:return S.fn.call(S.context,x,h,g),!0;case 5:return S.fn.call(S.context,x,h,g,_),!0;case 6:return S.fn.call(S.context,x,h,g,_,b),!0}for(C=1,M=new Array(w-1);C<w;C++)M[C-1]=arguments[C];S.fn.apply(S.context,M)}else{var z=S.length,I;for(C=0;C<z;C++)switch(S[C].once&&this.removeListener(y,S[C].fn,void 0,!0),w){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,x);break;case 3:S[C].fn.call(S[C].context,x,h);break;case 4:S[C].fn.call(S[C].context,x,h,g);break;default:if(!M)for(I=1,M=new Array(w-1);I<w;I++)M[I-1]=arguments[I];S[C].fn.apply(S[C].context,M)}}return!0},d.prototype.on=function(y,x,h){return u(this,y,x,h,!1)},d.prototype.once=function(y,x,h){return u(this,y,x,h,!0)},d.prototype.removeListener=function(y,x,h,g){var _=i?i+y:y;if(!this._events[_])return this;if(!x)return c(this,_),this;var b=this._events[_];if(b.fn)b.fn===x&&(!g||b.once)&&(!h||b.context===h)&&c(this,_);else{for(var A=0,S=[],w=b.length;A<w;A++)(b[A].fn!==x||g&&!b[A].once||h&&b[A].context!==h)&&S.push(b[A]);S.length?this._events[_]=S.length===1?S[0]:S:c(this,_)}return this},d.prototype.removeAllListeners=function(y){var x;return y?(x=i?i+y:y,this._events[x]&&c(this,x)):(this._events=new s,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=i,d.EventEmitter=d,a.exports=d})(Uc)),Uc.exports}var lb=rb();const hn=by(lb),ob=Math.PI*2,ub=180/Math.PI,cb=Math.PI/180;class ye{constructor(t=0,i=0){this.x=0,this.y=0,this.x=t,this.y=i}clone(){return new ye(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,i=t){return this.x=t,this.y=i,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Hc.x=0,Hc.y=0,Hc}}const Hc=new ye;class bt{constructor(t=1,i=0,s=0,l=1,u=0,c=0){this.array=null,this.a=t,this.b=i,this.c=s,this.d=l,this.tx=u,this.ty=c}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,i,s,l,u,c){return this.a=t,this.b=i,this.c=s,this.d=l,this.tx=u,this.ty=c,this}toArray(t,i){this.array||(this.array=new Float32Array(9));const s=i||this.array;return t?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s}apply(t,i){i=i||new ye;const s=t.x,l=t.y;return i.x=this.a*s+this.c*l+this.tx,i.y=this.b*s+this.d*l+this.ty,i}applyInverse(t,i){i=i||new ye;const s=this.a,l=this.b,u=this.c,c=this.d,d=this.tx,m=this.ty,y=1/(s*c+u*-l),x=t.x,h=t.y;return i.x=c*y*x+-u*y*h+(m*u-d*c)*y,i.y=s*y*h+-l*y*x+(-m*s+d*l)*y,i}translate(t,i){return this.tx+=t,this.ty+=i,this}scale(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this}rotate(t){const i=Math.cos(t),s=Math.sin(t),l=this.a,u=this.c,c=this.tx;return this.a=l*i-this.b*s,this.b=l*s+this.b*i,this.c=u*i-this.d*s,this.d=u*s+this.d*i,this.tx=c*i-this.ty*s,this.ty=c*s+this.ty*i,this}append(t){const i=this.a,s=this.b,l=this.c,u=this.d;return this.a=t.a*i+t.b*l,this.b=t.a*s+t.b*u,this.c=t.c*i+t.d*l,this.d=t.c*s+t.d*u,this.tx=t.tx*i+t.ty*l+this.tx,this.ty=t.tx*s+t.ty*u+this.ty,this}appendFrom(t,i){const s=t.a,l=t.b,u=t.c,c=t.d,d=t.tx,m=t.ty,y=i.a,x=i.b,h=i.c,g=i.d;return this.a=s*y+l*h,this.b=s*x+l*g,this.c=u*y+c*h,this.d=u*x+c*g,this.tx=d*y+m*h+i.tx,this.ty=d*x+m*g+i.ty,this}setTransform(t,i,s,l,u,c,d,m,y){return this.a=Math.cos(d+y)*u,this.b=Math.sin(d+y)*u,this.c=-Math.sin(d-m)*c,this.d=Math.cos(d-m)*c,this.tx=t-(s*this.a+l*this.c),this.ty=i-(s*this.b+l*this.d),this}prepend(t){const i=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const s=this.a,l=this.c;this.a=s*t.a+this.b*t.c,this.b=s*t.b+this.b*t.d,this.c=l*t.a+this.d*t.c,this.d=l*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this}decompose(t){const i=this.a,s=this.b,l=this.c,u=this.d,c=t.pivot,d=-Math.atan2(-l,u),m=Math.atan2(s,i),y=Math.abs(d+m);return y<1e-5||Math.abs(ob-y)<1e-5?(t.rotation=m,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=d,t.skew.y=m),t.scale.x=Math.sqrt(i*i+s*s),t.scale.y=Math.sqrt(l*l+u*u),t.position.x=this.tx+(c.x*i+c.y*l),t.position.y=this.ty+(c.x*s+c.y*u),t}invert(){const t=this.a,i=this.b,s=this.c,l=this.d,u=this.tx,c=t*l-i*s;return this.a=l/c,this.b=-i/c,this.c=-s/c,this.d=t/c,this.tx=(s*this.ty-l*u)/c,this.ty=-(t*this.ty-i*u)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new bt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return fb.identity()}static get shared(){return hb.identity()}}const hb=new bt,fb=new bt,Ii=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Qi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Zi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Wi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],hh=[],ky=[],Hl=Math.sign;function db(){for(let a=0;a<16;a++){const t=[];hh.push(t);for(let i=0;i<16;i++){const s=Hl(Ii[a]*Ii[i]+Zi[a]*Qi[i]),l=Hl(Qi[a]*Ii[i]+Wi[a]*Qi[i]),u=Hl(Ii[a]*Zi[i]+Zi[a]*Wi[i]),c=Hl(Qi[a]*Zi[i]+Wi[a]*Wi[i]);for(let d=0;d<16;d++)if(Ii[d]===s&&Qi[d]===l&&Zi[d]===u&&Wi[d]===c){t.push(d);break}}}for(let a=0;a<16;a++){const t=new bt;t.set(Ii[a],Qi[a],Zi[a],Wi[a],0,0),ky.push(t)}}db();const Nt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:a=>Ii[a],uY:a=>Qi[a],vX:a=>Zi[a],vY:a=>Wi[a],inv:a=>a&8?a&15:-a&7,add:(a,t)=>hh[a][t],sub:(a,t)=>hh[a][Nt.inv(t)],rotate180:a=>a^4,isVertical:a=>(a&3)===2,byDirection:(a,t)=>Math.abs(a)*2<=Math.abs(t)?t>=0?Nt.S:Nt.N:Math.abs(t)*2<=Math.abs(a)?a>0?Nt.E:Nt.W:t>0?a>0?Nt.SE:Nt.SW:a>0?Nt.NE:Nt.NW,matrixAppendRotationInv:(a,t,i=0,s=0)=>{const l=ky[Nt.inv(t)];l.tx=i,l.ty=s,a.append(l)},transformRectCoords:(a,t,i,s)=>{const{x:l,y:u,width:c,height:d}=a,{x:m,y,width:x,height:h}=t;return i===Nt.E?(s.set(l+m,u+y,c,d),s):i===Nt.S?s.set(x-u-d+m,l+y,d,c):i===Nt.W?s.set(x-l-c+m,h-u-d+y,c,d):i===Nt.N?s.set(u+m,h-l-c+y,d,c):s.set(l+m,u+y,c,d)}},jl=[new ye,new ye,new ye,new ye];class Xt{constructor(t=0,i=0,s=0,l=0){this.type="rectangle",this.x=Number(t),this.y=Number(i),this.width=Number(s),this.height=Number(l)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Xt(0,0,0,0)}clone(){return new Xt(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height}strokeContains(t,i,s,l=.5){const{width:u,height:c}=this;if(u<=0||c<=0)return!1;const d=this.x,m=this.y,y=s*(1-l),x=s-y,h=d-y,g=d+u+y,_=m-y,b=m+c+y,A=d+x,S=d+u-x,w=m+x,M=m+c-x;return t>=h&&t<=g&&i>=_&&i<=b&&!(t>A&&t<S&&i>w&&i<M)}intersects(t,i){if(!i){const Z=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=Z)return!1;const W=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>W}const s=this.left,l=this.right,u=this.top,c=this.bottom;if(l<=s||c<=u)return!1;const d=jl[0].set(t.left,t.top),m=jl[1].set(t.left,t.bottom),y=jl[2].set(t.right,t.top),x=jl[3].set(t.right,t.bottom);if(y.x<=d.x||m.y<=d.y)return!1;const h=Math.sign(i.a*i.d-i.b*i.c);if(h===0||(i.apply(d,d),i.apply(m,m),i.apply(y,y),i.apply(x,x),Math.max(d.x,m.x,y.x,x.x)<=s||Math.min(d.x,m.x,y.x,x.x)>=l||Math.max(d.y,m.y,y.y,x.y)<=u||Math.min(d.y,m.y,y.y,x.y)>=c))return!1;const g=h*(m.y-d.y),_=h*(d.x-m.x),b=g*s+_*u,A=g*l+_*u,S=g*s+_*c,w=g*l+_*c;if(Math.max(b,A,S,w)<=g*d.x+_*d.y||Math.min(b,A,S,w)>=g*x.x+_*x.y)return!1;const M=h*(d.y-y.y),C=h*(y.x-d.x),z=M*s+C*u,I=M*l+C*u,j=M*s+C*c,L=M*l+C*c;return!(Math.max(z,I,j,L)<=M*d.x+C*d.y||Math.min(z,I,j,L)>=M*x.x+C*x.y)}pad(t=0,i=t){return this.x-=t,this.y-=i,this.width+=t*2,this.height+=i*2,this}fit(t){const i=Math.max(this.x,t.x),s=Math.min(this.x+this.width,t.x+t.width),l=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.width=Math.max(s-i,0),this.y=l,this.height=Math.max(u-l,0),this}ceil(t=1,i=.001){const s=Math.ceil((this.x+this.width-i)*t)/t,l=Math.ceil((this.y+this.height-i)*t)/t;return this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=s-this.x,this.height=l-this.y,this}scale(t,i=t){return this.x*=t,this.y*=i,this.width*=t,this.height*=i,this}enlarge(t){const i=Math.min(this.x,t.x),s=Math.max(this.x+this.width,t.x+t.width),l=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=i,this.width=s-i,this.y=l,this.height=u-l,this}getBounds(t){return t||(t=new Xt),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const i=t.x,s=t.y,l=t.x+t.width,u=t.y+t.height;return i>=this.x&&i<this.x+this.width&&s>=this.y&&s<this.y+this.height&&l>=this.x&&l<this.x+this.width&&u>=this.y&&u<this.y+this.height}set(t,i,s,l){return this.x=t,this.y=i,this.width=s,this.height=l,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const jc={default:-1};function Zt(a="default"){return jc[a]===void 0&&(jc[a]=-1),++jc[a]}const lg=new Set,zt="8.0.0",pb="8.3.4",Ys={quiet:!1,noColor:!1},pt=(a,t,i=3)=>{if(Ys.quiet||lg.has(t))return;let s=new Error().stack;const l=`${t}
Deprecated since v${a}`,u=typeof console.groupCollapsed=="function"&&!Ys.noColor;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",l):(s=s.split(`
`).splice(i).join(`
`),u?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",l),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",l),console.warn(s))),lg.add(t)};Object.defineProperties(pt,{quiet:{get:()=>Ys.quiet,set:a=>{Ys.quiet=a},enumerable:!0,configurable:!1},noColor:{get:()=>Ys.noColor,set:a=>{Ys.noColor=a},enumerable:!0,configurable:!1}});const Dy=()=>{};function Xs(a){return a+=a===0?1:0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1}function og(a){return!(a&a-1)&&!!a}function Ny(a){const t={};for(const i in a)a[i]!==void 0&&(t[i]=a[i]);return t}const ug=Object.create(null);function mb(a){const t=ug[a];return t===void 0&&(ug[a]=Zt("resource")),t}const Gy=class Ly extends hn{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Ly.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){pt(zt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=mb(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Gy.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let qs=Gy;const Uy=class Hy extends hn{constructor(t={}){super(),this.options=t,this.uid=Zt("textureSource"),this._resourceType="textureSource",this._resourceId=Zt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...Hy.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new qs(Ny(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(t){this._style.maxAnisotropy=t}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Zt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,i,s){s||(s=this._resolution),t||(t=this.width),i||(i=this.height);const l=Math.round(t*s),u=Math.round(i*s);return this.width=l/s,this.height=u/s,this._resolution=s,this.pixelWidth===l&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=l,this.pixelHeight=u,this.emit("resize",this),this._resourceId=Zt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=og(this.pixelWidth)&&og(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};Uy.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let fn=Uy;class zh extends fn{constructor(t){const i=t.resource||new Float32Array(t.width*t.height*4);let s=t.format;s||(i instanceof Float32Array?s="rgba32float":i instanceof Int32Array||i instanceof Uint32Array?s="rgba32uint":i instanceof Int16Array||i instanceof Uint16Array?s="rgba16uint":(i instanceof Int8Array,s="bgra8unorm")),super({...t,resource:i,format:s}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}zh.extension=st.TextureSource;const cg=new bt;class gb{constructor(t,i){this.mapCoord=new bt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof i>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=i,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,i){i===void 0&&(i=t);const s=this.mapCoord;for(let l=0;l<t.length;l+=2){const u=t[l],c=t[l+1];i[l]=u*s.a+c*s.c+s.tx,i[l+1]=u*s.b+c*s.d+s.ty}return i}update(){const t=this._texture;this._updateID++;const i=t.uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const s=t.orig,l=t.trim;l&&(cg.set(s.width/l.width,0,0,s.height/l.height,-l.x/l.width,-l.y/l.height),this.mapCoord.append(cg));const u=t.source,c=this.uClampFrame,d=this.clampMargin/u._resolution,m=this.clampOffset/u._resolution;return c[0]=(t.frame.x+d+m)/u.width,c[1]=(t.frame.y+d+m)/u.height,c[2]=(t.frame.x+t.frame.width-d+m)/u.width,c[3]=(t.frame.y+t.frame.height-d+m)/u.height,this.uClampOffset[0]=this.clampOffset/u.pixelWidth,this.uClampOffset[1]=this.clampOffset/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class wt extends hn{constructor({source:t,label:i,frame:s,orig:l,trim:u,defaultAnchor:c,defaultBorders:d,rotate:m,dynamic:y}={}){if(super(),this.uid=Zt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Xt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=i,this.source=t?.source??new fn,this.noFrame=!s,s)this.frame.copyFrom(s);else{const{width:x,height:h}=this._source;this.frame.width=x,this.frame.height=h}this.orig=l||this.frame,this.trim=u,this.rotate=m??0,this.defaultAnchor=c,this.defaultBorders=d,this.destroyed=!1,this.dynamic=y||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new gb(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:i}=this,{width:s,height:l}=this._source,u=i.x/s,c=i.y/l,d=i.width/s,m=i.height/l;let y=this.rotate;if(y){const x=d/2,h=m/2,g=u+x,_=c+h;y=Nt.add(y,Nt.NW),t.x0=g+x*Nt.uX(y),t.y0=_+h*Nt.uY(y),y=Nt.add(y,2),t.x1=g+x*Nt.uX(y),t.y1=_+h*Nt.uY(y),y=Nt.add(y,2),t.x2=g+x*Nt.uX(y),t.y2=_+h*Nt.uY(y),y=Nt.add(y,2),t.x3=g+x*Nt.uX(y),t.y3=_+h*Nt.uY(y)}else t.x0=u,t.y0=c,t.x1=u+d,t.y1=c,t.x2=u+d,t.y2=c+m,t.x3=u,t.y3=c+m}destroy(t=!1){this._source&&(this._source.off("resize",this.update,this),t&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return pt(zt,"Texture.baseTexture is now Texture.source"),this._source}}wt.EMPTY=new wt({label:"EMPTY",source:new fn({label:"EMPTY"})});wt.EMPTY.destroy=Dy;wt.WHITE=new wt({source:new zh({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});wt.WHITE.destroy=Dy;function yb(a,t,i){const{width:s,height:l}=i.orig,u=i.trim;if(u){const c=u.width,d=u.height;a.minX=u.x-t._x*s,a.maxX=a.minX+c,a.minY=u.y-t._y*l,a.maxY=a.minY+d}else a.minX=-t._x*s,a.maxX=a.minX+s,a.minY=-t._y*l,a.maxY=a.minY+l}const hg=new bt;class cn{constructor(t=1/0,i=1/0,s=-1/0,l=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=hg,this.minX=t,this.minY=i,this.maxX=s,this.maxY=l}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Xt);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=hg,this}set(t,i,s,l){this.minX=t,this.minY=i,this.maxX=s,this.maxY=l}addFrame(t,i,s,l,u){u||(u=this.matrix);const c=u.a,d=u.b,m=u.c,y=u.d,x=u.tx,h=u.ty;let g=this.minX,_=this.minY,b=this.maxX,A=this.maxY,S=c*t+m*i+x,w=d*t+y*i+h;S<g&&(g=S),w<_&&(_=w),S>b&&(b=S),w>A&&(A=w),S=c*s+m*i+x,w=d*s+y*i+h,S<g&&(g=S),w<_&&(_=w),S>b&&(b=S),w>A&&(A=w),S=c*t+m*l+x,w=d*t+y*l+h,S<g&&(g=S),w<_&&(_=w),S>b&&(b=S),w>A&&(A=w),S=c*s+m*l+x,w=d*s+y*l+h,S<g&&(g=S),w<_&&(_=w),S>b&&(b=S),w>A&&(A=w),this.minX=g,this.minY=_,this.maxX=b,this.maxY=A}addRect(t,i){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,i)}addBounds(t,i){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,i)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const i=this.minX,s=this.minY,l=this.maxX,u=this.maxY,{a:c,b:d,c:m,d:y,tx:x,ty:h}=t;let g=c*i+m*s+x,_=d*i+y*s+h;this.minX=g,this.minY=_,this.maxX=g,this.maxY=_,g=c*l+m*s+x,_=d*l+y*s+h,this.minX=g<this.minX?g:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=g>this.maxX?g:this.maxX,this.maxY=_>this.maxY?_:this.maxY,g=c*i+m*u+x,_=d*i+y*u+h,this.minX=g<this.minX?g:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=g>this.maxX?g:this.maxX,this.maxY=_>this.maxY?_:this.maxY,g=c*l+m*u+x,_=d*l+y*u+h,this.minX=g<this.minX?g:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=g>this.maxX?g:this.maxX,this.maxY=_>this.maxY?_:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,i,s,l){return this.minX<t&&(this.minX=t),this.maxX>i&&(this.maxX=i),this.minY<s&&(this.minY=s),this.maxY>l&&(this.maxY=l),this}pad(t,i=t){return this.minX-=t,this.maxX+=t,this.minY-=i,this.maxY+=i,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new cn(this.minX,this.minY,this.maxX,this.maxY)}scale(t,i=t){return this.minX*=t,this.minY*=i,this.maxX*=t,this.maxY*=i,this}get x(){return this.minX}set x(t){const i=this.maxX-this.minX;this.minX=t,this.maxX=t+i}get y(){return this.minY}set y(t){const i=this.maxY-this.minY;this.minY=t,this.maxY=t+i}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,i,s,l){let u=this.minX,c=this.minY,d=this.maxX,m=this.maxY;l||(l=this.matrix);const y=l.a,x=l.b,h=l.c,g=l.d,_=l.tx,b=l.ty;for(let A=i;A<s;A+=2){const S=t[A],w=t[A+1],M=y*S+h*w+_,C=x*S+g*w+b;u=M<u?M:u,c=C<c?C:c,d=M>d?M:d,m=C>m?C:m}this.minX=u,this.minY=c,this.maxX=d,this.maxY=m}containsPoint(t,i){return this.minX<=t&&this.minY<=i&&this.maxX>=t&&this.maxY>=i}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var _b={grad:.9,turn:360,rad:360/(2*Math.PI)},Xn=function(a){return typeof a=="string"?a.length>0:typeof a=="number"},oe=function(a,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*a)/i+0},Je=function(a,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),a>i?i:a>t?a:t},jy=function(a){return(a=isFinite(a)?a%360:0)>0?a:a+360},fg=function(a){return{r:Je(a.r,0,255),g:Je(a.g,0,255),b:Je(a.b,0,255),a:Je(a.a)}},Yc=function(a){return{r:oe(a.r),g:oe(a.g),b:oe(a.b),a:oe(a.a,3)}},xb=/^#([0-9a-f]{3,8})$/i,Yl=function(a){var t=a.toString(16);return t.length<2?"0"+t:t},Yy=function(a){var t=a.r,i=a.g,s=a.b,l=a.a,u=Math.max(t,i,s),c=u-Math.min(t,i,s),d=c?u===t?(i-s)/c:u===i?2+(s-t)/c:4+(t-i)/c:0;return{h:60*(d<0?d+6:d),s:u?c/u*100:0,v:u/255*100,a:l}},Py=function(a){var t=a.h,i=a.s,s=a.v,l=a.a;t=t/360*6,i/=100,s/=100;var u=Math.floor(t),c=s*(1-i),d=s*(1-(t-u)*i),m=s*(1-(1-t+u)*i),y=u%6;return{r:255*[s,d,c,c,m,s][y],g:255*[m,s,s,d,c,c][y],b:255*[c,c,m,s,s,d][y],a:l}},dg=function(a){return{h:jy(a.h),s:Je(a.s,0,100),l:Je(a.l,0,100),a:Je(a.a)}},pg=function(a){return{h:oe(a.h),s:oe(a.s),l:oe(a.l),a:oe(a.a,3)}},mg=function(a){return Py((i=(t=a).s,{h:t.h,s:(i*=((s=t.l)<50?s:100-s)/100)>0?2*i/(s+i)*100:0,v:s+i,a:t.a}));var t,i,s},rr=function(a){return{h:(t=Yy(a)).h,s:(l=(200-(i=t.s))*(s=t.v)/100)>0&&l<200?i*s/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,i,s,l},vb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ab=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fh={string:[[function(a){var t=xb.exec(a);return t?(a=t[1]).length<=4?{r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16),a:a.length===4?oe(parseInt(a[3]+a[3],16)/255,2):1}:a.length===6||a.length===8?{r:parseInt(a.substr(0,2),16),g:parseInt(a.substr(2,2),16),b:parseInt(a.substr(4,2),16),a:a.length===8?oe(parseInt(a.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(a){var t=Sb.exec(a)||Ab.exec(a);return t?t[2]!==t[4]||t[4]!==t[6]?null:fg({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(a){var t=vb.exec(a)||bb.exec(a);if(!t)return null;var i,s,l=dg({h:(i=t[1],s=t[2],s===void 0&&(s="deg"),Number(i)*(_b[s]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return mg(l)},"hsl"]],object:[[function(a){var t=a.r,i=a.g,s=a.b,l=a.a,u=l===void 0?1:l;return Xn(t)&&Xn(i)&&Xn(s)?fg({r:Number(t),g:Number(i),b:Number(s),a:Number(u)}):null},"rgb"],[function(a){var t=a.h,i=a.s,s=a.l,l=a.a,u=l===void 0?1:l;if(!Xn(t)||!Xn(i)||!Xn(s))return null;var c=dg({h:Number(t),s:Number(i),l:Number(s),a:Number(u)});return mg(c)},"hsl"],[function(a){var t=a.h,i=a.s,s=a.v,l=a.a,u=l===void 0?1:l;if(!Xn(t)||!Xn(i)||!Xn(s))return null;var c=(function(d){return{h:jy(d.h),s:Je(d.s,0,100),v:Je(d.v,0,100),a:Je(d.a)}})({h:Number(t),s:Number(i),v:Number(s),a:Number(u)});return Py(c)},"hsv"]]},gg=function(a,t){for(var i=0;i<t.length;i++){var s=t[i][0](a);if(s)return[s,t[i][1]]}return[null,void 0]},wb=function(a){return typeof a=="string"?gg(a.trim(),fh.string):typeof a=="object"&&a!==null?gg(a,fh.object):[null,void 0]},Pc=function(a,t){var i=rr(a);return{h:i.h,s:Je(i.s+100*t,0,100),l:i.l,a:i.a}},Vc=function(a){return(299*a.r+587*a.g+114*a.b)/1e3/255},yg=function(a,t){var i=rr(a);return{h:i.h,s:i.s,l:Je(i.l+100*t,0,100),a:i.a}},dh=(function(){function a(t){this.parsed=wb(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return a.prototype.isValid=function(){return this.parsed!==null},a.prototype.brightness=function(){return oe(Vc(this.rgba),2)},a.prototype.isDark=function(){return Vc(this.rgba)<.5},a.prototype.isLight=function(){return Vc(this.rgba)>=.5},a.prototype.toHex=function(){return t=Yc(this.rgba),i=t.r,s=t.g,l=t.b,c=(u=t.a)<1?Yl(oe(255*u)):"","#"+Yl(i)+Yl(s)+Yl(l)+c;var t,i,s,l,u,c},a.prototype.toRgb=function(){return Yc(this.rgba)},a.prototype.toRgbString=function(){return t=Yc(this.rgba),i=t.r,s=t.g,l=t.b,(u=t.a)<1?"rgba("+i+", "+s+", "+l+", "+u+")":"rgb("+i+", "+s+", "+l+")";var t,i,s,l,u},a.prototype.toHsl=function(){return pg(rr(this.rgba))},a.prototype.toHslString=function(){return t=pg(rr(this.rgba)),i=t.h,s=t.s,l=t.l,(u=t.a)<1?"hsla("+i+", "+s+"%, "+l+"%, "+u+")":"hsl("+i+", "+s+"%, "+l+"%)";var t,i,s,l,u},a.prototype.toHsv=function(){return t=Yy(this.rgba),{h:oe(t.h),s:oe(t.s),v:oe(t.v),a:oe(t.a,3)};var t},a.prototype.invert=function(){return An({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},a.prototype.saturate=function(t){return t===void 0&&(t=.1),An(Pc(this.rgba,t))},a.prototype.desaturate=function(t){return t===void 0&&(t=.1),An(Pc(this.rgba,-t))},a.prototype.grayscale=function(){return An(Pc(this.rgba,-1))},a.prototype.lighten=function(t){return t===void 0&&(t=.1),An(yg(this.rgba,t))},a.prototype.darken=function(t){return t===void 0&&(t=.1),An(yg(this.rgba,-t))},a.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},a.prototype.alpha=function(t){return typeof t=="number"?An({r:(i=this.rgba).r,g:i.g,b:i.b,a:t}):oe(this.rgba.a,3);var i},a.prototype.hue=function(t){var i=rr(this.rgba);return typeof t=="number"?An({h:t,s:i.s,l:i.l,a:i.a}):oe(i.h)},a.prototype.isEqual=function(t){return this.toHex()===An(t).toHex()},a})(),An=function(a){return a instanceof dh?a:new dh(a)},_g=[],Tb=function(a){a.forEach(function(t){_g.indexOf(t)<0&&(t(dh,fh),_g.push(t))})};function Mb(a,t){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var l in i)s[i[l]]=l;var u={};a.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,m,y=s[this.toHex()];if(y)return y;if(c?.closest){var x=this.toRgb(),h=1/0,g="black";if(!u.length)for(var _ in i)u[_]=new a(i[_]).toRgb();for(var b in i){var A=(d=x,m=u[b],Math.pow(d.r-m.r,2)+Math.pow(d.g-m.g,2)+Math.pow(d.b-m.b,2));A<h&&(h=A,g=b)}return g}},t.string.push([function(c){var d=c.toLowerCase(),m=d==="transparent"?"#0000":i[d];return m?new a(m).toRgb():null},"name"])}Tb([Mb]);const Fs=class nr{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof nr)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,i){const s=typeof t;if(s!==typeof i)return!1;if(s==="number"||s==="string"||t instanceof Number)return t===i;if(Array.isArray(t)&&Array.isArray(i)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(i))return t.length!==i.length?!1:t.every((u,c)=>u===i[c]);if(t!==null&&i!==null){const u=Object.keys(t),c=Object.keys(i);return u.length!==c.length?!1:u.every(d=>t[d]===i[d])}return t===i}toRgba(){const[t,i,s,l]=this._components;return{r:t,g:i,b:s,a:l}}toRgb(){const[t,i,s]=this._components;return{r:t,g:i,b:s}}toRgbaString(){const[t,i,s]=this.toUint8RgbArray();return`rgba(${t},${i},${s},${this.alpha})`}toUint8RgbArray(t){const[i,s,l]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(i*255),t[1]=Math.round(s*255),t[2]=Math.round(l*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[i,s,l,u]=this._components;return t[0]=i,t[1]=s,t[2]=l,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[i,s,l]=this._components;return t[0]=i,t[1]=s,t[2]=l,t}toNumber(){return this._int}toBgrNumber(){const[t,i,s]=this.toUint8RgbArray();return(s<<16)+(i<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[i,s,l,u]=nr._temp.setValue(t)._components;return this._components[0]*=i,this._components[1]*=s,this._components[2]*=l,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,i=!0){return i&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,i=!0){if(t===1)return(255<<24)+this._int;if(t===0)return i?0:this._int;let s=this._int>>16&255,l=this._int>>8&255,u=this._int&255;return i&&(s=s*t+.5|0,l=l*t+.5|0,u=u*t+.5|0),(t*255<<24)+(s<<16)+(l<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const i=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-i.length)+i}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let i,s,l,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const c=t;i=(c>>16&255)/255,s=(c>>8&255)/255,l=(c&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[i,s,l,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[i,s,l,u=255]=t,i/=255,s/=255,l/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const d=nr.HEX_PATTERN.exec(t);d&&(t=`#${d[2]}`)}const c=An(t);c.isValid()&&({r:i,g:s,b:l,a:u}=c.rgba,i/=255,s/=255,l/=255)}if(i!==void 0)this._components[0]=i,this._components[1]=s,this._components[2]=l,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,i,s]=this._components;this._int=(t*255<<16)+(i*255<<8)+(s*255|0)}_clamp(t,i=0,s=1){return typeof t=="number"?Math.min(Math.max(t,i),s):(t.forEach((l,u)=>{t[u]=Math.min(Math.max(l,i),s)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof nr||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Fs.shared=new Fs;Fs._temp=new Fs;Fs.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ie=Fs;const Cb={cullArea:null,cullable:!1,cullableChildren:!0};let Xc=0;const xg=500;function Pt(...a){Xc!==xg&&(Xc++,Xc===xg?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...a))}const yr={_registeredResources:new Set,register(a){this._registeredResources.add(a)},unregister(a){this._registeredResources.delete(a)},release(){this._registeredResources.forEach(a=>a.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(a){return this._registeredResources.has(a)},reset(){this._registeredResources.clear()}};class Eb{constructor(t,i){this._pool=[],this._count=0,this._index=0,this._classType=t,i&&this.prepopulate(i)}prepopulate(t){for(let i=0;i<t;i++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let i;return this._index>0?i=this._pool[--this._index]:(i=new this._classType,this._count++),i.init?.(t),i}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let t=0;t<this._index;t++)this._pool[t].destroy();this._pool.length=0,this._count=0,this._index=0}}class Rb{constructor(){this._poolsByClass=new Map}prepopulate(t,i){this.getPool(t).prepopulate(i)}get(t,i){return this.getPool(t).get(i)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Eb(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(i=>{const s=t[i._classType.name]?i._classType.name+i._classType.ID:i._classType.name;t[s]={free:i.totalFree,used:i.totalUsed,size:i.totalSize}}),t}clear(){this._poolsByClass.forEach(t=>t.clear()),this._poolsByClass.clear()}}const tn=new Rb;yr.register(tn);const Bb={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(a){typeof a=="boolean"&&a===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(a===!0?{}:a))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(a){pt("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(a)}};function zb(a,t,i){const s=a.length;let l;if(t>=s||i===0)return;i=t+i>s?s-t:i;const u=s-i;for(l=t;l<u;++l)a[l]=a[l+i];a.length=u}const Ob={allowChildren:!0,removeChildren(a=0,t){const i=t??this.children.length,s=i-a,l=[];if(s>0&&s<=i){for(let c=i-1;c>=a;c--){const d=this.children[c];d&&(l.push(d),d.parent=null)}zb(this.children,a,i);const u=this.renderGroup||this.parentRenderGroup;u&&u.removeChildren(l);for(let c=0;c<l.length;++c){const d=l[c];d.parentRenderLayer?.detach(d),this.emit("childRemoved",d,this,c),l[c].emit("removed",this)}return l.length>0&&this._didViewChangeTick++,l}else if(s===0&&this.children.length===0)return l;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(a){const t=this.getChildAt(a);return this.removeChild(t)},getChildAt(a){if(a<0||a>=this.children.length)throw new Error(`getChildAt: Index (${a}) does not exist.`);return this.children[a]},setChildIndex(a,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(a),this.addChildAt(a,t)},getChildIndex(a){const t=this.children.indexOf(a);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(a,t){this.allowChildren||pt(zt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:i}=this;if(t<0||t>i.length)throw new Error(`${a}addChildAt: The index ${t} supplied is out of bounds ${i.length}`);if(a.parent){const l=a.parent.children.indexOf(a);if(a.parent===this&&l===t)return a;l!==-1&&a.parent.children.splice(l,1)}t===i.length?i.push(a):i.splice(t,0,a),a.parent=this,a.didChange=!0,a._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(a),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",a,this,t),a.emit("added",this),a},swapChildren(a,t){if(a===t)return;const i=this.getChildIndex(a),s=this.getChildIndex(t);this.children[i]=t,this.children[s]=a;const l=this.renderGroup||this.parentRenderGroup;l&&(l.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...a){return a.length===1?this.reparentChildAt(a[0],this.children.length):(a.forEach(t=>this.reparentChildAt(t,this.children.length)),a[0])},reparentChildAt(a,t){if(a.parent===this)return this.setChildIndex(a,t),a;const i=a.worldTransform.clone();a.removeFromParent(),this.addChildAt(a,t);const s=this.worldTransform.clone();return s.invert(),i.prepend(s),a.setFromMatrix(i),a},replaceChild(a,t){a.updateLocalTransform(),this.addChildAt(t,this.getChildIndex(a)),t.setFromMatrix(a.localTransform),t.updateLocalTransform(),this.removeChild(a)}},kb={collectRenderables(a,t,i){this.parentRenderLayer&&this.parentRenderLayer!==i||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(a,t,i):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,a):this.collectRenderablesWithEffects(a,t,i))},collectRenderablesSimple(a,t,i){const s=this.children,l=s.length;for(let u=0;u<l;u++)s[u].collectRenderables(a,t,i)},collectRenderablesWithEffects(a,t,i){const{renderPipes:s}=t;for(let l=0;l<this.effects.length;l++){const u=this.effects[l];s[u.pipe].push(u,this,a)}this.collectRenderablesSimple(a,t,i);for(let l=this.effects.length-1;l>=0;l--){const u=this.effects[l];s[u.pipe].pop(u,this,a)}}};class vg{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class Db{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let i=0;i<this._tests.length;i++){const s=this._tests[i];if(s.test(t))return tn.get(s.maskClass,t)}return t}returnMaskEffect(t){tn.return(t)}}const ph=new Db;me.handleByList(st.MaskEffect,ph._effectClasses);const Nb={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const a=this.renderGroup||this.parentRenderGroup;a&&(a.structureDidChange=!0)},addEffect(a){this.effects.indexOf(a)===-1&&(this.effects.push(a),this.effects.sort((i,s)=>i.priority-s.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(a){const t=this.effects.indexOf(a);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(a){const t=this._maskEffect;t?.mask!==a&&(t&&(this.removeEffect(t),ph.returnMaskEffect(t),this._maskEffect=null),a!=null&&(this._maskEffect=ph.getMaskEffect(a),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(a){this._maskOptions={...this._maskOptions,...a},a.mask&&(this.mask=a.mask),this._markStructureAsChanged()},set filters(a){!Array.isArray(a)&&a&&(a=[a]);const t=this._filterEffect||(this._filterEffect=new vg);a=a;const i=a?.length>0,s=t.filters?.length>0,l=i!==s;a=Array.isArray(a)?a.slice(0):a,t.filters=Object.freeze(a),l&&(i?this.addEffect(t):(this.removeEffect(t),t.filters=a??null))},get filters(){return this._filterEffect?.filters},set filterArea(a){this._filterEffect||(this._filterEffect=new vg),this._filterEffect.filterArea=a},get filterArea(){return this._filterEffect?.filterArea}},Gb={label:null,get name(){return pt(zt,"Container.name property has been removed, use Container.label instead"),this.label},set name(a){pt(zt,"Container.name property has been removed, use Container.label instead"),this.label=a},getChildByName(a,t=!1){return this.getChildByLabel(a,t)},getChildByLabel(a,t=!1){const i=this.children;for(let s=0;s<i.length;s++){const l=i[s];if(l.label===a||a instanceof RegExp&&a.test(l.label))return l}if(t)for(let s=0;s<i.length;s++){const u=i[s].getChildByLabel(a,!0);if(u)return u}return null},getChildrenByLabel(a,t=!1,i=[]){const s=this.children;for(let l=0;l<s.length;l++){const u=s[l];(u.label===a||a instanceof RegExp&&a.test(u.label))&&i.push(u)}if(t)for(let l=0;l<s.length;l++)s[l].getChildrenByLabel(a,!0,i);return i}},ve=tn.getPool(bt),Fn=tn.getPool(cn),Lb=new bt,Ub={getFastGlobalBounds(a,t){t||(t=new cn),t.clear(),this._getGlobalBoundsRecursive(!!a,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const i=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(i.worldTransform),t},_getGlobalBoundsRecursive(a,t,i){let s=t;if(a&&this.parentRenderLayer&&this.parentRenderLayer!==i||this.localDisplayStatus!==7||!this.measurable)return;const l=!!this.effects.length;if((this.renderGroup||l)&&(s=Fn.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;s.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const u=this.children;for(let c=0;c<u.length;c++)u[c]._getGlobalBoundsRecursive(a,s,i)}if(l){let u=!1;const c=this.renderGroup||this.parentRenderGroup;for(let d=0;d<this.effects.length;d++)this.effects[d].addBounds&&(u||(u=!0,s.applyMatrix(c.worldTransform)),this.effects[d].addBounds(s,!0));u&&s.applyMatrix(c.worldTransform.copyTo(Lb).invert()),t.addBounds(s),Fn.return(s)}else this.renderGroup&&(t.addBounds(s,this.relativeGroupTransform),Fn.return(s))}};function Vy(a,t,i){i.clear();let s,l;return a.parent?t?s=a.parent.worldTransform:(l=ve.get().identity(),s=Oh(a,l)):s=bt.IDENTITY,Xy(a,i,s,t),l&&ve.return(l),i.isValid||i.set(0,0,0,0),i}function Xy(a,t,i,s){if(!a.visible||!a.measurable)return;let l;s?l=a.worldTransform:(a.updateLocalTransform(),l=ve.get(),l.appendFrom(a.localTransform,i));const u=t,c=!!a.effects.length;if(c&&(t=Fn.get().clear()),a.boundsArea)t.addRect(a.boundsArea,l);else{const d=a.bounds;d&&!d.isEmpty()&&(t.matrix=l,t.addBounds(d));for(let m=0;m<a.children.length;m++)Xy(a.children[m],t,l,s)}if(c){for(let d=0;d<a.effects.length;d++)a.effects[d].addBounds?.(t);u.addBounds(t,bt.IDENTITY),Fn.return(t)}s||ve.return(l)}function Oh(a,t){const i=a.parent;return i&&(Oh(i,t),i.updateLocalTransform(),t.append(i.localTransform)),t}function qy(a,t){if(a===16777215||!t)return t;if(t===16777215||!a)return a;const i=a>>16&255,s=a>>8&255,l=a&255,u=t>>16&255,c=t>>8&255,d=t&255,m=i*u/255|0,y=s*c/255|0,x=l*d/255|0;return(m<<16)+(y<<8)+x}const bg=16777215;function Sg(a,t){return a===bg?t:t===bg?a:qy(a,t)}function eo(a){return((a&255)<<16)+(a&65280)+(a>>16&255)}const Hb={getGlobalAlpha(a){if(a)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,i=this.parent;for(;i;)t*=i.alpha,i=i.parent;return t},getGlobalTransform(a=new bt,t){if(t)return a.copyFrom(this.worldTransform);this.updateLocalTransform();const i=Oh(this,ve.get().identity());return a.appendFrom(this.localTransform,i),ve.return(i),a},getGlobalTint(a){if(a)return this.renderGroup?eo(this.renderGroup.worldColor):this.parentRenderGroup?eo(Sg(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,i=this.parent;for(;i;)t=Sg(t,i.localColor),i=i.parent;return eo(t)}};function Fy(a,t,i){return t.clear(),i||(i=bt.IDENTITY),Iy(a,t,i,a,!0),t.isValid||t.set(0,0,0,0),t}function Iy(a,t,i,s,l){let u;if(l)u=ve.get(),u=i.copyTo(u);else{if(!a.visible||!a.measurable)return;a.updateLocalTransform();const m=a.localTransform;u=ve.get(),u.appendFrom(m,i)}const c=t,d=!!a.effects.length;if(d&&(t=Fn.get().clear()),a.boundsArea)t.addRect(a.boundsArea,u);else{a.renderPipeId&&(t.matrix=u,t.addBounds(a.bounds));const m=a.children;for(let y=0;y<m.length;y++)Iy(m[y],t,u,s,!1)}if(d){for(let m=0;m<a.effects.length;m++)a.effects[m].addLocalBounds?.(t,s);c.addBounds(t,bt.IDENTITY),Fn.return(t)}ve.return(u)}function Qy(a,t){const i=a.children;for(let s=0;s<i.length;s++){const l=i[s],u=l.uid,c=(l._didViewChangeTick&65535)<<16|l._didContainerChangeTick&65535,d=t.index;(t.data[d]!==u||t.data[d+1]!==c)&&(t.data[t.index]=u,t.data[t.index+1]=c,t.didChange=!0),t.index=d+2,l.children.length&&Qy(l,t)}return t.didChange}const jb=new bt,Yb={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(a,t){const i=Math.sign(this.scale.x)||1;t!==0?this.scale.x=a/t*i:this.scale.x=i},_setHeight(a,t){const i=Math.sign(this.scale.y)||1;t!==0?this.scale.y=a/t*i:this.scale.y=i},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new cn});const a=this._localBoundsCacheData;return a.index=1,a.didChange=!1,a.data[0]!==this._didViewChangeTick&&(a.didChange=!0,a.data[0]=this._didViewChangeTick),Qy(this,a),a.didChange&&Fy(this,a.localBounds,jb),a.localBounds},getBounds(a,t){return Vy(this,a,t||new cn)}},Pb={_onRender:null,set onRender(a){const t=this.renderGroup||this.parentRenderGroup;if(!a){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=a},get onRender(){return this._onRender}},Vb={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(a){this._zIndex!==a&&(this._zIndex=a,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Xb))}};function Xb(a,t){return a._zIndex-t._zIndex}const qb={getGlobalPosition(a=new ye,t=!1){return this.parent?this.parent.toGlobal(this._position,a,t):(a.x=this._position.x,a.y=this._position.y),a},toGlobal(a,t,i=!1){const s=this.getGlobalTransform(ve.get(),i);return t=s.apply(a,t),ve.return(s),t},toLocal(a,t,i,s){t&&(a=t.toGlobal(a,i,s));const l=this.getGlobalTransform(ve.get(),s);return i=l.applyInverse(a,i),ve.return(l),i}};class Zy{constructor(){this.uid=Zt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Fb=0;class Ib{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new qs(this.textureOptions)}createTexture(t,i,s){const l=new fn({...this.textureOptions,width:t,height:i,resolution:1,antialias:s,autoGarbageCollect:!1});return new wt({source:l,label:`texturePool_${Fb++}`})}getOptimalTexture(t,i,s=1,l){let u=Math.ceil(t*s-1e-6),c=Math.ceil(i*s-1e-6);u=Xs(u),c=Xs(c);const d=(u<<17)+(c<<1)+(l?1:0);this._texturePool[d]||(this._texturePool[d]=[]);let m=this._texturePool[d].pop();return m||(m=this.createTexture(u,c,l)),m.source._resolution=s,m.source.width=u/s,m.source.height=c/s,m.source.pixelWidth=u,m.source.pixelHeight=c,m.frame.x=0,m.frame.y=0,m.frame.width=t,m.frame.height=i,m.updateUvs(),this._poolKeyHash[m.uid]=d,m}getSameSizeTexture(t,i=!1){const s=t.source;return this.getOptimalTexture(t.width,t.height,s._resolution,i)}returnTexture(t,i=!1){const s=this._poolKeyHash[t.uid];i&&(t.source.style=this.textureStyle),this._texturePool[s].push(t)}clear(t){if(t=t!==!1,t)for(const i in this._texturePool){const s=this._texturePool[i];if(s)for(let l=0;l<s.length;l++)s[l].destroy(!0)}this._texturePool={}}}const Wy=new Ib;yr.register(Wy);class Qb{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new bt,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Zy,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const i=t.children;for(let s=0;s<i.length;s++){const l=i[s];l._updateFlags=15,this.addChild(l)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Wy.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const t=this._parentCacheAsTextureRenderGroup;t&&!t.textureNeedsUpdate&&t.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const i=this.childrenToUpdate[t];i.list.fill(null),i.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const i=this.renderGroupChildren.indexOf(t);i>-1&&this.renderGroupChildren.splice(i,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const i=t.children;for(let s=0;s<i.length;s++)this.addChild(i[s])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const i=t.children;for(let s=0;s<i.length;s++)this.removeChild(i[s])}removeChildren(t){for(let i=0;i<t.length;i++)this.removeChild(t[i])}onChildUpdate(t){let i=this.childrenToUpdate[t.relativeRenderGroupDepth];i||(i=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),i.list[i.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let i=0;i<this._onRenderContainers.length;i++)this._onRenderContainers[i]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const i=this.root.children;for(let s=0;s<i.length;s++)this._getChildren(i[s],t);return t}_getChildren(t,i=[]){if(i.push(t),t.renderGroup)return i;const s=t.children;for(let l=0;l<s.length;l++)this._getChildren(s[l],i);return i}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new bt),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new bt),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new bt),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function Zb(a,t,i={}){for(const s in t)!i[s]&&t[s]!==void 0&&(a[s]=t[s])}const qc=new pe(null),Pl=new pe(null),Fc=new pe(null,1,1),Vl=new pe(null),Ag=1,Wb=2,Ic=4;class je extends hn{constructor(t={}){super(),this.uid=Zt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new bt,this.relativeGroupTransform=new bt,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new pe(this,0,0),this._scale=Fc,this._pivot=Pl,this._origin=Vl,this._skew=qc,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],Zb(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(i=>this.addChild(i)),t.parent?.addChild(this)}static mixin(t){pt("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),me.mixin(je,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||pt(zt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let l=0;l<t.length;l++)this.addChild(t[l]);return t[0]}const i=t[0],s=this.renderGroup||this.parentRenderGroup;return i.parent===this?(this.children.splice(this.children.indexOf(i),1),this.children.push(i),s&&(s.structureDidChange=!0),i):(i.parent&&i.parent.removeChild(i),this.children.push(i),this.sortableChildren&&(this.sortDirty=!0),i.parent=this,i.didChange=!0,i._updateFlags=15,s&&s.addChild(i),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this),this._didViewChangeTick++,i._zIndex!==0&&i.depthOfChildModified(),i)}removeChild(...t){if(t.length>1){for(let l=0;l<t.length;l++)this.removeChild(t[l]);return t[0]}const i=t[0],s=this.children.indexOf(i);return s>-1&&(this._didViewChangeTick++,this.children.splice(s,1),this.renderGroup?this.renderGroup.removeChild(i):this.parentRenderGroup&&this.parentRenderGroup.removeChild(i),i.parentRenderLayer&&i.parentRenderLayer.detach(i),i.parent=null,this.emit("childRemoved",i,this,s),i.emit("removed",this)),i}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=tn.get(Qb,this),this.groupTransform=bt.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),tn.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new bt),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*ub}set angle(t){this.rotation=t*cb}get pivot(){return this._pivot===Pl&&(this._pivot=new pe(this,0,0)),this._pivot}set pivot(t){this._pivot===Pl&&(this._pivot=new pe(this,0,0),this._origin!==Vl&&Pt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===qc&&(this._skew=new pe(this,0,0)),this._skew}set skew(t){this._skew===qc&&(this._skew=new pe(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Fc&&(this._scale=new pe(this,1,1)),this._scale}set scale(t){this._scale===Fc&&(this._scale=new pe(this,0,0)),typeof t=="string"&&(t=parseFloat(t)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get origin(){return this._origin===Vl&&(this._origin=new pe(this,0,0)),this._origin}set origin(t){this._origin===Vl&&(this._origin=new pe(this,0,0),this._pivot!==Pl&&Pt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._origin.set(t):this._origin.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const i=this.getLocalBounds().width;this._setWidth(t,i)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const i=this.getLocalBounds().height;this._setHeight(t,i)}getSize(t){t||(t={});const i=this.getLocalBounds();return t.width=Math.abs(this.scale.x*i.width),t.height=Math.abs(this.scale.y*i.height),t}setSize(t,i){const s=this.getLocalBounds();typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,s.width),i!==void 0&&this._setHeight(i,s.height)}_updateSkew(){const t=this._rotation,i=this._skew;this._cx=Math.cos(t+i._y),this._sx=Math.sin(t+i._y),this._cy=-Math.sin(t-i._x),this._sy=Math.cos(t-i._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this.origin.set(typeof t.originX=="number"?t.originX:this.origin.x,typeof t.originY=="number"?t.originY:this.origin.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const i=this.localTransform,s=this._scale,l=this._pivot,u=this._origin,c=this._position,d=s._x,m=s._y,y=l._x,x=l._y,h=-u._x,g=-u._y;i.a=this._cx*d,i.b=this._sx*d,i.c=this._cy*m,i.d=this._sy*m,i.tx=c._x-(y*i.a+x*i.c)+(h*i.a+g*i.c)-h,i.ty=c._y-(y*i.b+x*i.d)+(h*i.b+g*i.d)-g}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=Ag,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const s=ie.shared.setValue(t??16777215).toBgrNumber();s!==this.localColor&&(this.localColor=s,this._updateFlags|=Ag,this._onUpdate())}get tint(){return eo(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Wb,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const i=t?2:0;(this.localDisplayStatus&2)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Ic,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const i=t?0:4;(this.localDisplayStatus&4)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Ic,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const i=t?1:0;(this.localDisplayStatus&1)!==i&&(this._updateFlags|=Ic,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;let i;if(this.children.length&&(i=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t?.children)&&i)for(let l=0;l<i.length;++l)i[l].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}me.mixin(je,Ob,Ub,qb,Pb,Yb,Nb,Gb,Vb,Cb,Bb,Hb,kb);class kh extends je{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new cn(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const i=this.bounds,{x:s,y:l}=t;return s>=i.minX&&s<=i.maxX&&l>=i.minY&&l<=i.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null;for(const i in this._gpuData)this._gpuData[i].destroy?.();this._gpuData=null}collectRenderablesSimple(t,i,s){const{renderPipes:l}=i;l.blendMode.pushBlendMode(this,this.groupBlendMode,t),l[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const c=this.children,d=c.length;for(let m=0;m<d;m++)c[m].collectRenderables(t,i,s);l.blendMode.popBlendMode(t)}}class wi extends kh{constructor(t=wt.EMPTY){t instanceof wt&&(t={texture:t});const{texture:i=wt.EMPTY,anchor:s,roundPixels:l,width:u,height:c,...d}=t;super({label:"Sprite",...d}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new pe({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:i.defaultAnchor&&(this.anchor=i.defaultAnchor),this.texture=i,this.allowChildren=!1,this.roundPixels=l??!1,u!==void 0&&(this.width=u),c!==void 0&&(this.height=c)}static from(t,i=!1){return t instanceof wt?new wi(t):new wi(wt.from(t,i))}set texture(t){t||(t=wt.EMPTY);const i=this._texture;i!==t&&(i&&i.dynamic&&i.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return yb(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return pt("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,i=this._texture,s=this._bounds,{width:l,height:u}=i.orig;s.minX=-t._x*l,s.maxX=s.minX+l,s.minY=-t._y*u,s.maxY=s.minY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(s)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,i){typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),i!==void 0&&this._setHeight(i,this._texture.orig.height)}}const Kb=new cn;function Ky(a,t,i){const s=Kb;a.measurable=!0,Vy(a,i,s),t.addBoundsMask(s),a.measurable=!1}function $y(a,t,i){const s=Fn.get();a.measurable=!0;const l=ve.get().identity(),u=Jy(a,i,l);Fy(a,s,u),a.measurable=!1,t.addBoundsMask(s),ve.return(l),Fn.return(s)}function Jy(a,t,i){return a?(a!==t&&(Jy(a.parent,t,i),a.updateLocalTransform(),i.append(a.localTransform)),i):(Pt("Mask bounds, renderable is not inside the root container"),i)}class t0{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof wi),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(t,i){this.inverse||Ky(this.mask,t,i)}addLocalBounds(t,i){$y(this.mask,t,i)}containsPoint(t,i){const s=this.mask;return i(s,t)}destroy(){this.reset()}static test(t){return t instanceof wi}}t0.extension=st.MaskEffect;class e0{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}e0.extension=st.MaskEffect;class n0{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(t,i){Ky(this.mask,t,i)}addLocalBounds(t,i){$y(this.mask,t,i)}containsPoint(t,i){const s=this.mask;return i(s,t)}destroy(){this.reset()}static test(t){return t instanceof je}}n0.extension=st.MaskEffect;const $b={createCanvas:(a,t)=>{const i=document.createElement("canvas");return i.width=a,i.height=t,i},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(a,t)=>fetch(a,t),parseXML:a=>new DOMParser().parseFromString(a,"text/xml")};let wg=$b;const Ut={get(){return wg},set(a){wg=a}};class i0 extends fn{constructor(t){t.resource||(t.resource=Ut.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,i=this.height,s=this._resolution){const l=super.resize(t,i,s);return l&&this.resizeCanvas(),l}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}i0.extension=st.TextureSource;class Ji extends fn{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Ji.extension=st.TextureSource;var mh=(a=>(a[a.INTERACTION=50]="INTERACTION",a[a.HIGH=25]="HIGH",a[a.NORMAL=0]="NORMAL",a[a.LOW=-25]="LOW",a[a.UTILITY=-50]="UTILITY",a))(mh||{});class Qc{constructor(t,i=null,s=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=i,this.priority=s,this._once=l}match(t,i=null){return this._fn===t&&this._context===i}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const i=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),i}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const i=this.next;return this.next=t?null:i,this.previous=null,i}}const s0=class He{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Qc(null,null,1/0),this.deltaMS=1/He.targetFPMS,this.elapsedMS=1/He.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,i,s=mh.NORMAL){return this._addListener(new Qc(t,i,s))}addOnce(t,i,s=mh.NORMAL){return this._addListener(new Qc(t,i,s,!0))}_addListener(t){let i=this._head.next,s=this._head;if(!i)t.connect(s);else{for(;i;){if(t.priority>i.priority){t.connect(s);break}s=i,i=i.next}t.previous||t.connect(s)}return this._startIfPossible(),this}remove(t,i){let s=this._head.next;for(;s;)s.match(t,i)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,i=this._head;for(;i=i.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let i;if(t>this.lastTime){if(i=this.elapsedMS=t-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*He.targetFPMS;const s=this._head;let l=s.next;for(;l;)l=l.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const i=Math.min(this.maxFPS,t),s=Math.min(Math.max(0,i)/1e3,He.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const i=Math.max(this.minFPS,t);this._minElapsedMS=1/(i/1e3)}}static get shared(){if(!He._shared){const t=He._shared=new He;t.autoStart=!0,t._protected=!0}return He._shared}static get system(){if(!He._system){const t=He._system=new He;t.autoStart=!0,t._protected=!0}return He._system}};s0.targetFPMS=.06;let Xl=s0,Zc;async function a0(){return Zc??(Zc=(async()=>{const t=Ut.get().createCanvas(1,1).getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const i=await new Promise(c=>{const d=document.createElement("video");d.onloadeddata=()=>c(d),d.onerror=()=>c(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!i)return"premultiply-alpha-on-upload";const s=t.createTexture();t.bindTexture(t.TEXTURE_2D,s);const l=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,l),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(l),t.deleteTexture(s),t.getExtension("WEBGL_lose_context")?.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Zc}const co=class r0 extends fn{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...r0.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Xl.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,i=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(i.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await a0(),this._load=new Promise((s,l)=>{this.isValid?s(this):(this._resolve=s,this._reject=l,i.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${i.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Xl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Xl.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Xl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};co.extension=st.TextureSource;co.defaultOptions={...fn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};co.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let lr=co;const un=(a,t,i=!1)=>(Array.isArray(a)||(a=[a]),t?a.map(s=>typeof s=="string"||i?t(s):s):a);class Jb{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const i=this._cache.get(t);return i||Pt(`[Assets] Asset id ${t} was not found in the Cache`),i}set(t,i){const s=un(t);let l;for(let m=0;m<this.parsers.length;m++){const y=this.parsers[m];if(y.test(i)){l=y.getCacheableAssets(s,i);break}}const u=new Map(Object.entries(l||{}));l||s.forEach(m=>{u.set(m,i)});const c=[...u.keys()],d={cacheKeys:c,keys:s};s.forEach(m=>{this._cacheMap.set(m,d)}),c.forEach(m=>{const y=l?l[m]:i;this._cache.has(m)&&this._cache.get(m)!==y&&Pt("[Cache] already has key:",m),this._cache.set(m,u.get(m))})}remove(t){if(!this._cacheMap.has(t)){Pt(`[Assets] Asset id ${t} was not found in the Cache`);return}const i=this._cacheMap.get(t);i.cacheKeys.forEach(l=>{this._cache.delete(l)}),i.keys.forEach(l=>{this._cacheMap.delete(l)})}get parsers(){return this._parsers}}const Yt=new Jb,gh=[];me.handleByList(st.TextureSource,gh);function l0(a={}){const t=a&&a.resource,i=t?a.resource:a,s=t?a:{resource:a};for(let l=0;l<gh.length;l++){const u=gh[l];if(u.test(i))return new u(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}function t1(a={},t=!1){const i=a&&a.resource,s=i?a.resource:a,l=i?a:{resource:a};if(!t&&Yt.has(s))return Yt.get(s);const u=new wt({source:l0(l)});return u.on("destroy",()=>{Yt.has(s)&&Yt.remove(s)}),t||Yt.set(s,u),u}function e1(a,t=!1){return typeof a=="string"?Yt.get(a):a instanceof fn?new wt({source:a}):t1(a,t)}wt.from=e1;fn.from=l0;me.add(t0,e0,n0,lr,Ji,i0,zh);var Ti=(a=>(a[a.Low=0]="Low",a[a.Normal=1]="Normal",a[a.High=2]="High",a))(Ti||{});function ln(a){if(typeof a!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(a)}`)}function Za(a){return a.split("?")[0].split("#")[0]}function n1(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i1(a,t,i){return a.replace(new RegExp(n1(t),"g"),i)}function s1(a,t){let i="",s=0,l=-1,u=0,c=-1;for(let d=0;d<=a.length;++d){if(d<a.length)c=a.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(l===d-1||u===1))if(l!==d-1&&u===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){const m=i.lastIndexOf("/");if(m!==i.length-1){m===-1?(i="",s=0):(i=i.slice(0,m),s=i.length-1-i.lastIndexOf("/")),l=d,u=0;continue}}else if(i.length===2||i.length===1){i="",s=0,l=d,u=0;continue}}}else i.length>0?i+=`/${a.slice(l+1,d)}`:i=a.slice(l+1,d),s=d-l-1;l=d,u=0}else c===46&&u!==-1?++u:u=-1}return i}const Ye={toPosix(a){return i1(a,"\\","/")},isUrl(a){return/^https?:/.test(this.toPosix(a))},isDataUrl(a){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(a)},isBlobUrl(a){return a.startsWith("blob:")},hasProtocol(a){return/^[^/:]+:/.test(this.toPosix(a))},getProtocol(a){ln(a),a=this.toPosix(a);const t=/^file:\/\/\//.exec(a);if(t)return t[0];const i=/^[^/:]+:\/{0,2}/.exec(a);return i?i[0]:""},toAbsolute(a,t,i){if(ln(a),this.isDataUrl(a)||this.isBlobUrl(a))return a;const s=Za(this.toPosix(t??Ut.get().getBaseUrl())),l=Za(this.toPosix(i??this.rootname(s)));return a=this.toPosix(a),a.startsWith("/")?Ye.join(l,a.slice(1)):this.isAbsolute(a)?a:this.join(s,a)},normalize(a){if(ln(a),a.length===0)return".";if(this.isDataUrl(a)||this.isBlobUrl(a))return a;a=this.toPosix(a);let t="";const i=a.startsWith("/");this.hasProtocol(a)&&(t=this.rootname(a),a=a.slice(t.length));const s=a.endsWith("/");return a=s1(a),a.length>0&&s&&(a+="/"),i?`/${a}`:t+a},isAbsolute(a){return ln(a),a=this.toPosix(a),this.hasProtocol(a)?!0:a.startsWith("/")},join(...a){if(a.length===0)return".";let t;for(let i=0;i<a.length;++i){const s=a[i];if(ln(s),s.length>0)if(t===void 0)t=s;else{const l=a[i-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?t+=`/../${s}`:t+=`/${s}`}}return t===void 0?".":this.normalize(t)},dirname(a){if(ln(a),a.length===0)return".";a=this.toPosix(a);let t=a.charCodeAt(0);const i=t===47;let s=-1,l=!0;const u=this.getProtocol(a),c=a;a=a.slice(u.length);for(let d=a.length-1;d>=1;--d)if(t=a.charCodeAt(d),t===47){if(!l){s=d;break}}else l=!1;return s===-1?i?"/":this.isUrl(c)?u+a:u:i&&s===1?"//":u+a.slice(0,s)},rootname(a){ln(a),a=this.toPosix(a);let t="";if(a.startsWith("/")?t="/":t=this.getProtocol(a),this.isUrl(a)){const i=a.indexOf("/",t.length);i!==-1?t=a.slice(0,i):t=a,t.endsWith("/")||(t+="/")}return t},basename(a,t){ln(a),t&&ln(t),a=Za(this.toPosix(a));let i=0,s=-1,l=!0,u;if(t!==void 0&&t.length>0&&t.length<=a.length){if(t.length===a.length&&t===a)return"";let c=t.length-1,d=-1;for(u=a.length-1;u>=0;--u){const m=a.charCodeAt(u);if(m===47){if(!l){i=u+1;break}}else d===-1&&(l=!1,d=u+1),c>=0&&(m===t.charCodeAt(c)?--c===-1&&(s=u):(c=-1,s=d))}return i===s?s=d:s===-1&&(s=a.length),a.slice(i,s)}for(u=a.length-1;u>=0;--u)if(a.charCodeAt(u)===47){if(!l){i=u+1;break}}else s===-1&&(l=!1,s=u+1);return s===-1?"":a.slice(i,s)},extname(a){ln(a),a=Za(this.toPosix(a));let t=-1,i=0,s=-1,l=!0,u=0;for(let c=a.length-1;c>=0;--c){const d=a.charCodeAt(c);if(d===47){if(!l){i=c+1;break}continue}s===-1&&(l=!1,s=c+1),d===46?t===-1?t=c:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||s===-1||u===0||u===1&&t===s-1&&t===i+1?"":a.slice(t,s)},parse(a){ln(a);const t={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return t;a=Za(this.toPosix(a));let i=a.charCodeAt(0);const s=this.isAbsolute(a);let l;t.root=this.rootname(a),s||this.hasProtocol(a)?l=1:l=0;let u=-1,c=0,d=-1,m=!0,y=a.length-1,x=0;for(;y>=l;--y){if(i=a.charCodeAt(y),i===47){if(!m){c=y+1;break}continue}d===-1&&(m=!1,d=y+1),i===46?u===-1?u=y:x!==1&&(x=1):u!==-1&&(x=-1)}return u===-1||d===-1||x===0||x===1&&u===d-1&&u===c+1?d!==-1&&(c===0&&s?t.base=t.name=a.slice(1,d):t.base=t.name=a.slice(c,d)):(c===0&&s?(t.name=a.slice(1,u),t.base=a.slice(1,d)):(t.name=a.slice(c,u),t.base=a.slice(c,d)),t.ext=a.slice(u,d)),t.dir=this.dirname(a),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function o0(a,t,i,s,l){const u=t[i];for(let c=0;c<u.length;c++){const d=u[c];i<t.length-1?o0(a.replace(s[i],d),t,i+1,s,l):l.push(a.replace(s[i],d))}}function a1(a){const t=/\{(.*?)\}/g,i=a.match(t),s=[];if(i){const l=[];i.forEach(u=>{const c=u.substring(1,u.length-1).split(",");l.push(c)}),o0(a,l,0,i,s)}else s.push(a);return s}const ao=a=>!Array.isArray(a);class Ws{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,i)=>`${t}${this._bundleIdConnector}${i}`,extractAssetIdFromBundle:(t,i)=>i.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(i=>{this._preferredOrder.push(i),i.priority||(i.priority=Object.keys(i.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const i=t;this._defaultSearchParams=Object.keys(i).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(i[s])}`).join("&")}}getAlias(t){const{alias:i,src:s}=t;return un(i||s,u=>typeof u=="string"?u:Array.isArray(u)?u.map(c=>c?.src??c):u?.src?u.src:u,!0)}addManifest(t){this._manifest&&Pt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(i=>{this.addBundle(i.name,i.assets)})}addBundle(t,i){const s=[];let l=i;Array.isArray(i)||(l=Object.entries(i).map(([u,c])=>typeof c=="string"||Array.isArray(c)?{alias:u,src:c}:{alias:u,...c})),l.forEach(u=>{const c=u.src,d=u.alias;let m;if(typeof d=="string"){const y=this._createBundleAssetId(t,d);s.push(y),m=[d,y]}else{const y=d.map(x=>this._createBundleAssetId(t,x));s.push(...y),m=[...d,...y]}this.add({...u,alias:m,src:c})}),this._bundles[t]=s}add(t){const i=[];Array.isArray(t)?i.push(...t):i.push(t);let s;s=u=>{this.hasKey(u)&&Pt(`[Resolver] already has key: ${u} overwriting`)},un(i).forEach(u=>{const{src:c}=u;let{data:d,format:m,loadParser:y,parser:x}=u;const h=un(c).map(A=>typeof A=="string"?a1(A):Array.isArray(A)?A:[A]),g=this.getAlias(u);Array.isArray(g)?g.forEach(s):s(g);const _=[],b=A=>({...this._parsers.find(w=>w.test(A))?.parse(A),src:A});h.forEach(A=>{A.forEach(S=>{let w={};if(typeof S!="object"?w=b(S):(d=S.data??d,m=S.format??m,(S.loadParser||S.parser)&&(y=S.loadParser??y,x=S.parser??x),w={...b(S.src),...S}),!g)throw new Error(`[Resolver] alias is undefined for this asset: ${w.src}`);w=this._buildResolvedAsset(w,{aliases:g,data:d,format:m,loadParser:y,parser:x,progressSize:u.progressSize}),_.push(w)})}),g.forEach(A=>{this._assetMap[A]=_})})}resolveBundle(t){const i=ao(t);t=un(t);const s={};return t.forEach(l=>{const u=this._bundles[l];if(u){const c=this.resolve(u),d={};for(const m in c){const y=c[m];d[this._extractAssetIdFromBundle(l,m)]=y}s[l]=d}}),i?s[t[0]]:s}resolveUrl(t){const i=this.resolve(t);if(typeof t!="string"){const s={};for(const l in i)s[l]=i[l].src;return s}return i.src}resolve(t){const i=ao(t);t=un(t);const s={};return t.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let u=this._assetMap[l];const c=this._getPreferredOrder(u);c?.priority.forEach(d=>{c.params[d].forEach(m=>{const y=u.filter(x=>x[d]?x[d]===m:!1);y.length&&(u=y)})}),this._resolverHash[l]=u[0]}else this._resolverHash[l]=this._buildResolvedAsset({alias:[l],src:l},{});s[l]=this._resolverHash[l]}),i?s[t[0]]:s}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let i=0;i<t.length;i++){const s=t[i],l=this._preferredOrder.find(u=>u.params.format.includes(s.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const i=/\?/.test(t)?"&":"?";return`${t}${i}${this._defaultSearchParams}`}_buildResolvedAsset(t,i){const{aliases:s,data:l,loadParser:u,parser:c,format:d,progressSize:m}=i;return(this._basePath||this._rootPath)&&(t.src=Ye.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=s??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...l||{},...t.data},t.loadParser=u??t.loadParser,t.parser=c??t.parser,t.format=d??t.format??r1(t.src),m!==void 0&&(t.progressSize=m),t}}Ws.RETINA_PREFIX=/@([0-9\.]+)x/;function r1(a){return a.split(".").pop().split("?").shift().split("#").shift()}const yh=(a,t)=>{const i=t.split("?")[1];return i&&(a+=`?${i}`),a},u0=class ir{constructor(t,i){this.linkedSheets=[];let s=t;t?.source instanceof fn&&(s={texture:t,data:i});const{texture:l,data:u,cachePrefix:c=""}=s;this.cachePrefix=c,this._texture=l instanceof wt?l:null,this.textureSource=l.source,this.textures={},this.animations={},this.data=u;const d=parseFloat(u.meta.scale);d?(this.resolution=d,l.source.resolution=this.resolution):this.resolution=l.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=ir.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let i=t;const s=ir.BATCH_SIZE;for(;i-t<s&&i<this._frameKeys.length;){const l=this._frameKeys[i],u=this._frames[l],c=u.frame;if(c){let d=null,m=null;const y=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,x=new Xt(0,0,Math.floor(y.w)/this.resolution,Math.floor(y.h)/this.resolution);u.rotated?d=new Xt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):d=new Xt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(m=new Xt(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[l]=new wt({source:this.textureSource,frame:d,orig:x,trim:m,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:l.toString()})}i++}}_processAnimations(){const t=this.data.animations||{};for(const i in t){this.animations[i]=[];for(let s=0;s<t[i].length;s++){const l=t[i][s];this.animations[i].push(this.textures[l])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*ir.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*ir.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};u0.BATCH_SIZE=1e3;let Tg=u0;const l1=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function c0(a,t,i){const s={};if(a.forEach(l=>{s[l]=t}),Object.keys(t.textures).forEach(l=>{s[`${t.cachePrefix}${l}`]=t.textures[l]}),!i){const l=Ye.dirname(a[0]);t.linkedSheets.forEach((u,c)=>{const d=c0([`${l}/${t.data.meta.related_multi_packs[c]}`],u,!0);Object.assign(s,d)})}return s}const o1={extension:st.Asset,cache:{test:a=>a instanceof Tg,getCacheableAssets:(a,t)=>c0(a,t,!1)},resolver:{extension:{type:st.ResolveParser,name:"resolveSpritesheet"},test:a=>{const i=a.split("?")[0].split("."),s=i.pop(),l=i.pop();return s==="json"&&l1.includes(l)},parse:a=>{const t=a.split(".");return{resolution:parseFloat(Ws.RETINA_PREFIX.exec(a)?.[1]??"1"),format:t[t.length-2],src:a}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:st.LoadParser,priority:Ti.Normal,name:"spritesheetLoader"},async testParse(a,t){return Ye.extname(t.src).toLowerCase()===".json"&&!!a.frames},async parse(a,t,i){const{texture:s,imageFilename:l,textureOptions:u,cachePrefix:c}=t?.data??{};let d=Ye.dirname(t.src);d&&d.lastIndexOf("/")!==d.length-1&&(d+="/");let m;if(s instanceof wt)m=s;else{const h=yh(d+(l??a.meta.image),t.src);m=(await i.load([{src:h,data:u}]))[h]}const y=new Tg({texture:m.source,data:a,cachePrefix:c});await y.parse();const x=a?.meta?.related_multi_packs;if(Array.isArray(x)){const h=[];for(const _ of x){if(typeof _!="string")continue;let b=d+_;t.data?.ignoreMultiPack||(b=yh(b,t.src),h.push(i.load({src:b,data:{textureOptions:u,ignoreMultiPack:!0}})))}const g=await Promise.all(h);y.linkedSheets=g,g.forEach(_=>{_.linkedSheets=[y].concat(y.linkedSheets.filter(b=>b!==_))})}return y},async unload(a,t,i){await i.unload(a.textureSource._sourceOrigin),a.destroy(!1)}}};me.add(o1);const Wc=Object.create(null),Mg=Object.create(null);function Dh(a,t){let i=Mg[a];return i===void 0&&(Wc[t]===void 0&&(Wc[t]=1),Mg[a]=i=Wc[t]++),i}let ql;function h0(){return(!ql||ql?.isContextLost())&&(ql=Ut.get().createCanvas().getContext("webgl",{})),ql}let Fl;function u1(){if(!Fl){Fl="mediump";const a=h0();a&&a.getShaderPrecisionFormat&&(Fl=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision?"highp":"mediump")}return Fl}function c1(a,t,i){return t?a:i?(a=a.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${a}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${a}
        `}function h1(a,t,i){const s=i?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(a.substring(0,9)!=="precision"){let l=i?t.requestedFragmentPrecision:t.requestedVertexPrecision;return l==="highp"&&s!=="highp"&&(l="mediump"),`precision ${l} float;
${a}`}else if(s!=="highp"&&a.substring(0,15)==="precision highp")return a.replace("precision highp","precision mediump");return a}function f1(a,t){return t?`#version 300 es
${a}`:a}const d1={},p1={};function m1(a,{name:t="pixi-program"},i=!0){t=t.replace(/\s+/g,"-"),t+=i?"-fragment":"-vertex";const s=i?d1:p1;return s[t]?(s[t]++,t+=`-${s[t]}`):s[t]=1,a.indexOf("#define SHADER_NAME")!==-1?a:`${`#define SHADER_NAME ${t}`}
${a}`}function g1(a,t){return t?a.replace("#version 300 es",""):a}const Kc={stripVersion:g1,ensurePrecision:h1,addProgramDefines:c1,setProgramName:m1,insertVersion:f1},Wa=Object.create(null),f0=class _h{constructor(t){t={..._h.defaultOptions,...t};const i=t.fragment.indexOf("#version 300 es")!==-1,s={stripVersion:i,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:u1()},setProgramName:{name:t.name},addProgramDefines:i,insertVersion:i};let l=t.fragment,u=t.vertex;Object.keys(Kc).forEach(c=>{const d=s[c];l=Kc[c](l,d,!0),u=Kc[c](u,d,!1)}),this.fragment=l,this.vertex=u,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Dh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Wa[this._cacheKey]=null}static from(t){const i=`${t.vertex}:${t.fragment}`;return Wa[i]||(Wa[i]=new _h(t),Wa[i]._cacheKey=i),Wa[i]}};f0.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let d0=f0;const Cg={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function y1(a){return Cg[a]??Cg.float32}const _1={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function x1({source:a,entryPoint:t}){const i={},s=a.indexOf(`fn ${t}`);if(s!==-1){const l=a.indexOf("->",s);if(l!==-1){const u=a.substring(s,l),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let d;for(;(d=c.exec(u))!==null;){const m=_1[d[3]]??"float32";i[d[2]]={location:parseInt(d[1],10),format:m,stride:y1(m).stride,offset:0,instance:!1,start:0}}}}return i}function $c(a){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,i=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,l=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,d=/(\w+)\s*:\s*([\w\<\>]+)/g,m=/struct\s+(\w+)/,y=a.match(t)?.map(h=>({group:parseInt(h.match(i)[1],10),binding:parseInt(h.match(s)[1],10),name:h.match(l)[2],isUniform:h.match(l)[1]==="<uniform>",type:h.match(u)[1]}));if(!y)return{groups:[],structs:[]};const x=a.match(c)?.map(h=>{const g=h.match(m)[1],_=h.match(d).reduce((b,A)=>{const[S,w]=A.split(":");return b[S.trim()]=w.trim(),b},{});return _?{name:g,members:_}:null}).filter(({name:h})=>y.some(g=>g.type===h))??[];return{groups:y,structs:x}}var sr=(a=>(a[a.VERTEX=1]="VERTEX",a[a.FRAGMENT=2]="FRAGMENT",a[a.COMPUTE=4]="COMPUTE",a))(sr||{});function v1({groups:a}){const t=[];for(let i=0;i<a.length;i++){const s=a[i];t[s.group]||(t[s.group]=[]),s.isUniform?t[s.group].push({binding:s.binding,visibility:sr.VERTEX|sr.FRAGMENT,buffer:{type:"uniform"}}):s.type==="sampler"?t[s.group].push({binding:s.binding,visibility:sr.FRAGMENT,sampler:{type:"filtering"}}):s.type==="texture_2d"&&t[s.group].push({binding:s.binding,visibility:sr.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function b1({groups:a}){const t=[];for(let i=0;i<a.length;i++){const s=a[i];t[s.group]||(t[s.group]={}),t[s.group][s.name]=s.binding}return t}function S1(a,t){const i=new Set,s=new Set,l=[...a.structs,...t.structs].filter(c=>i.has(c.name)?!1:(i.add(c.name),!0)),u=[...a.groups,...t.groups].filter(c=>{const d=`${c.name}-${c.binding}`;return s.has(d)?!1:(s.add(d),!0)});return{structs:l,groups:u}}const Ka=Object.create(null);class ho{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:i,vertex:s,layout:l,gpuLayout:u,name:c}=t;if(this.name=c,this.fragment=i,this.vertex=s,i.source===s.source){const d=$c(i.source);this.structsAndGroups=d}else{const d=$c(s.source),m=$c(i.source);this.structsAndGroups=S1(d,m)}this.layout=l??b1(this.structsAndGroups),this.gpuLayout=u??v1(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:i}=this,s=t.source+i.source+t.entryPoint+i.entryPoint;this._layoutKey=Dh(s,"program")}get attributeData(){return this._attributeData??(this._attributeData=x1(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,Ka[this._cacheKey]=null}static from(t){const i=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Ka[i]||(Ka[i]=new ho(t),Ka[i]._cacheKey=i),Ka[i]}}const p0=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],A1=p0.reduce((a,t)=>(a[t]=!0,a),{});function w1(a,t){switch(a){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const m0=class g0{constructor(t,i){this._touched=0,this.uid=Zt("uniform"),this._resourceType="uniformGroup",this._resourceId=Zt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,i={...g0.defaultOptions,...i},this.uniformStructures=t;const s={};for(const l in t){const u=t[l];if(u.name=l,u.size=u.size??1,!A1[u.type]){const c=u.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(c){const[,d,m]=c;throw new Error(`Uniform type ${u.type} is not supported. Use type: '${d}', size: ${m} instead.`)}throw new Error(`Uniform type ${u.type} is not supported. Supported uniform types are: ${p0.join(", ")}`)}u.value??(u.value=w1(u.type,u.size)),s[l]=u.value}this.uniforms=s,this._dirtyId=1,this.ubo=i.ubo,this.isStatic=i.isStatic,this._signature=Dh(Object.keys(s).map(l=>`${l}-${t[l].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};m0.defaultOptions={ubo:!1,isStatic:!1};let y0=m0;class no{constructor(t){this.resources=Object.create(null),this._dirty=!0;let i=0;for(const s in t){const l=t[s];this.setResource(l,i++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let i=0;for(const s in this.resources)t[i++]=this.resources[s]._resourceId;this._key=t.join("|")}setResource(t,i){const s=this.resources[i];t!==s&&(s&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[i]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const i=this.resources;for(const s in i)i[s]._touched=t}destroy(){const t=this.resources;for(const i in t)t[i]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const i=this.resources;for(const s in i)i[s]===t&&(i[s]=null)}else this._updateKey()}}var xh=(a=>(a[a.WEBGL=1]="WEBGL",a[a.WEBGPU=2]="WEBGPU",a[a.BOTH=3]="BOTH",a))(xh||{});class Nh extends hn{constructor(t){super(),this.uid=Zt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:i,glProgram:s,groups:l,resources:u,compatibleRenderers:c,groupMap:d}=t;this.gpuProgram=i,this.glProgram=s,c===void 0&&(c=0,i&&(c|=xh.WEBGPU),s&&(c|=xh.WEBGL)),this.compatibleRenderers=c;const m={};if(!u&&!l&&(u={}),u&&l)throw new Error("[Shader] Cannot have both resources and groups");if(!i&&l&&!d)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!i&&l&&d)for(const y in d)for(const x in d[y]){const h=d[y][x];m[h]={group:y,binding:x,name:h}}else if(i&&l&&!d){const y=i.structsAndGroups.groups;d={},y.forEach(x=>{d[x.group]=d[x.group]||{},d[x.group][x.binding]=x.name,m[x.name]=x})}else if(u){l={},d={},i&&i.structsAndGroups.groups.forEach(h=>{d[h.group]=d[h.group]||{},d[h.group][h.binding]=h.name,m[h.name]=h});let y=0;for(const x in u)m[x]||(l[99]||(l[99]=new no,this._ownedBindGroups.push(l[99])),m[x]={group:99,binding:y,name:x},d[99]=d[99]||{},d[99][y]=x,y++);for(const x in u){const h=x;let g=u[x];!g.source&&!g._resourceType&&(g=new y0(g));const _=m[h];_&&(l[_.group]||(l[_.group]=new no,this._ownedBindGroups.push(l[_.group])),l[_.group].setResource(g,_.binding))}}this.groups=l,this._uniformBindMap=d,this.resources=this._buildResourceAccessor(l,m)}addResource(t,i,s){var l,u;(l=this._uniformBindMap)[i]||(l[i]={}),(u=this._uniformBindMap[i])[s]||(u[s]=t),this.groups[i]||(this.groups[i]=new no,this._ownedBindGroups.push(this.groups[i]))}_buildResourceAccessor(t,i){const s={};for(const l in i){const u=i[l];Object.defineProperty(s,u.name,{get(){return t[u.group].getResource(u.binding)},set(c){t[u.group].setResource(c,u.binding)}})}return s}destroy(t=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(i=>{i.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(t){const{gpu:i,gl:s,...l}=t;let u,c;return i&&(u=ho.from(i)),s&&(c=d0.from(s)),new Nh({gpuProgram:u,glProgram:c,...l})}}const vh=[];me.handleByNamedList(st.Environment,vh);async function T1(a){if(!a)for(let t=0;t<vh.length;t++){const i=vh[t];if(i.value.test()){await i.value.load();return}}}let $a;function M1(){if(typeof $a=="boolean")return $a;try{$a=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{$a=!1}return $a}function Eg(a,t,i=2){const s=t&&t.length,l=s?t[0]*i:a.length;let u=_0(a,0,l,i,!0);const c=[];if(!u||u.next===u.prev)return c;let d,m,y;if(s&&(u=z1(a,t,u,i)),a.length>80*i){d=a[0],m=a[1];let x=d,h=m;for(let g=i;g<l;g+=i){const _=a[g],b=a[g+1];_<d&&(d=_),b<m&&(m=b),_>x&&(x=_),b>h&&(h=b)}y=Math.max(x-d,h-m),y=y!==0?32767/y:0}return hr(u,c,i,d,m,y,0),c}function _0(a,t,i,s,l){let u;if(l===P1(a,t,i,s)>0)for(let c=t;c<i;c+=s)u=Rg(c/s|0,a[c],a[c+1],u);else for(let c=i-s;c>=t;c-=s)u=Rg(c/s|0,a[c],a[c+1],u);return u&&Is(u,u.next)&&(dr(u),u=u.next),u}function ts(a,t){if(!a)return a;t||(t=a);let i=a,s;do if(s=!1,!i.steiner&&(Is(i,i.next)||qt(i.prev,i,i.next)===0)){if(dr(i),i=t=i.prev,i===i.next)break;s=!0}else i=i.next;while(s||i!==t);return t}function hr(a,t,i,s,l,u,c){if(!a)return;!c&&u&&G1(a,s,l,u);let d=a;for(;a.prev!==a.next;){const m=a.prev,y=a.next;if(u?E1(a,s,l,u):C1(a)){t.push(m.i,a.i,y.i),dr(a),a=y.next,d=y.next;continue}if(a=y,a===d){c?c===1?(a=R1(ts(a),t),hr(a,t,i,s,l,u,2)):c===2&&B1(a,t,i,s,l,u):hr(ts(a),t,i,s,l,u,1);break}}}function C1(a){const t=a.prev,i=a,s=a.next;if(qt(t,i,s)>=0)return!1;const l=t.x,u=i.x,c=s.x,d=t.y,m=i.y,y=s.y,x=Math.min(l,u,c),h=Math.min(d,m,y),g=Math.max(l,u,c),_=Math.max(d,m,y);let b=s.next;for(;b!==t;){if(b.x>=x&&b.x<=g&&b.y>=h&&b.y<=_&&ar(l,d,u,m,c,y,b.x,b.y)&&qt(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function E1(a,t,i,s){const l=a.prev,u=a,c=a.next;if(qt(l,u,c)>=0)return!1;const d=l.x,m=u.x,y=c.x,x=l.y,h=u.y,g=c.y,_=Math.min(d,m,y),b=Math.min(x,h,g),A=Math.max(d,m,y),S=Math.max(x,h,g),w=bh(_,b,t,i,s),M=bh(A,S,t,i,s);let C=a.prevZ,z=a.nextZ;for(;C&&C.z>=w&&z&&z.z<=M;){if(C.x>=_&&C.x<=A&&C.y>=b&&C.y<=S&&C!==l&&C!==c&&ar(d,x,m,h,y,g,C.x,C.y)&&qt(C.prev,C,C.next)>=0||(C=C.prevZ,z.x>=_&&z.x<=A&&z.y>=b&&z.y<=S&&z!==l&&z!==c&&ar(d,x,m,h,y,g,z.x,z.y)&&qt(z.prev,z,z.next)>=0))return!1;z=z.nextZ}for(;C&&C.z>=w;){if(C.x>=_&&C.x<=A&&C.y>=b&&C.y<=S&&C!==l&&C!==c&&ar(d,x,m,h,y,g,C.x,C.y)&&qt(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;z&&z.z<=M;){if(z.x>=_&&z.x<=A&&z.y>=b&&z.y<=S&&z!==l&&z!==c&&ar(d,x,m,h,y,g,z.x,z.y)&&qt(z.prev,z,z.next)>=0)return!1;z=z.nextZ}return!0}function R1(a,t){let i=a;do{const s=i.prev,l=i.next.next;!Is(s,l)&&v0(s,i,i.next,l)&&fr(s,l)&&fr(l,s)&&(t.push(s.i,i.i,l.i),dr(i),dr(i.next),i=a=l),i=i.next}while(i!==a);return ts(i)}function B1(a,t,i,s,l,u){let c=a;do{let d=c.next.next;for(;d!==c.prev;){if(c.i!==d.i&&H1(c,d)){let m=b0(c,d);c=ts(c,c.next),m=ts(m,m.next),hr(c,t,i,s,l,u,0),hr(m,t,i,s,l,u,0);return}d=d.next}c=c.next}while(c!==a)}function z1(a,t,i,s){const l=[];for(let u=0,c=t.length;u<c;u++){const d=t[u]*s,m=u<c-1?t[u+1]*s:a.length,y=_0(a,d,m,s,!1);y===y.next&&(y.steiner=!0),l.push(U1(y))}l.sort(O1);for(let u=0;u<l.length;u++)i=k1(l[u],i);return i}function O1(a,t){let i=a.x-t.x;if(i===0&&(i=a.y-t.y,i===0)){const s=(a.next.y-a.y)/(a.next.x-a.x),l=(t.next.y-t.y)/(t.next.x-t.x);i=s-l}return i}function k1(a,t){const i=D1(a,t);if(!i)return t;const s=b0(i,a);return ts(s,s.next),ts(i,i.next)}function D1(a,t){let i=t;const s=a.x,l=a.y;let u=-1/0,c;if(Is(a,i))return i;do{if(Is(a,i.next))return i.next;if(l<=i.y&&l>=i.next.y&&i.next.y!==i.y){const h=i.x+(l-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(h<=s&&h>u&&(u=h,c=i.x<i.next.x?i:i.next,h===s))return c}i=i.next}while(i!==t);if(!c)return null;const d=c,m=c.x,y=c.y;let x=1/0;i=c;do{if(s>=i.x&&i.x>=m&&s!==i.x&&x0(l<y?s:u,l,m,y,l<y?u:s,l,i.x,i.y)){const h=Math.abs(l-i.y)/(s-i.x);fr(i,a)&&(h<x||h===x&&(i.x>c.x||i.x===c.x&&N1(c,i)))&&(c=i,x=h)}i=i.next}while(i!==d);return c}function N1(a,t){return qt(a.prev,a,t.prev)<0&&qt(t.next,a,a.next)<0}function G1(a,t,i,s){let l=a;do l.z===0&&(l.z=bh(l.x,l.y,t,i,s)),l.prevZ=l.prev,l.nextZ=l.next,l=l.next;while(l!==a);l.prevZ.nextZ=null,l.prevZ=null,L1(l)}function L1(a){let t,i=1;do{let s=a,l;a=null;let u=null;for(t=0;s;){t++;let c=s,d=0;for(let y=0;y<i&&(d++,c=c.nextZ,!!c);y++);let m=i;for(;d>0||m>0&&c;)d!==0&&(m===0||!c||s.z<=c.z)?(l=s,s=s.nextZ,d--):(l=c,c=c.nextZ,m--),u?u.nextZ=l:a=l,l.prevZ=u,u=l;s=c}u.nextZ=null,i*=2}while(t>1);return a}function bh(a,t,i,s,l){return a=(a-i)*l|0,t=(t-s)*l|0,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,a|t<<1}function U1(a){let t=a,i=a;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==a);return i}function x0(a,t,i,s,l,u,c,d){return(l-c)*(t-d)>=(a-c)*(u-d)&&(a-c)*(s-d)>=(i-c)*(t-d)&&(i-c)*(u-d)>=(l-c)*(s-d)}function ar(a,t,i,s,l,u,c,d){return!(a===c&&t===d)&&x0(a,t,i,s,l,u,c,d)}function H1(a,t){return a.next.i!==t.i&&a.prev.i!==t.i&&!j1(a,t)&&(fr(a,t)&&fr(t,a)&&Y1(a,t)&&(qt(a.prev,a,t.prev)||qt(a,t.prev,t))||Is(a,t)&&qt(a.prev,a,a.next)>0&&qt(t.prev,t,t.next)>0)}function qt(a,t,i){return(t.y-a.y)*(i.x-t.x)-(t.x-a.x)*(i.y-t.y)}function Is(a,t){return a.x===t.x&&a.y===t.y}function v0(a,t,i,s){const l=Ql(qt(a,t,i)),u=Ql(qt(a,t,s)),c=Ql(qt(i,s,a)),d=Ql(qt(i,s,t));return!!(l!==u&&c!==d||l===0&&Il(a,i,t)||u===0&&Il(a,s,t)||c===0&&Il(i,a,s)||d===0&&Il(i,t,s))}function Il(a,t,i){return t.x<=Math.max(a.x,i.x)&&t.x>=Math.min(a.x,i.x)&&t.y<=Math.max(a.y,i.y)&&t.y>=Math.min(a.y,i.y)}function Ql(a){return a>0?1:a<0?-1:0}function j1(a,t){let i=a;do{if(i.i!==a.i&&i.next.i!==a.i&&i.i!==t.i&&i.next.i!==t.i&&v0(i,i.next,a,t))return!0;i=i.next}while(i!==a);return!1}function fr(a,t){return qt(a.prev,a,a.next)<0?qt(a,t,a.next)>=0&&qt(a,a.prev,t)>=0:qt(a,t,a.prev)<0||qt(a,a.next,t)<0}function Y1(a,t){let i=a,s=!1;const l=(a.x+t.x)/2,u=(a.y+t.y)/2;do i.y>u!=i.next.y>u&&i.next.y!==i.y&&l<(i.next.x-i.x)*(u-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next;while(i!==a);return s}function b0(a,t){const i=Sh(a.i,a.x,a.y),s=Sh(t.i,t.x,t.y),l=a.next,u=t.prev;return a.next=t,t.prev=a,i.next=l,l.prev=i,s.next=i,i.prev=s,u.next=s,s.prev=u,s}function Rg(a,t,i,s){const l=Sh(a,t,i);return s?(l.next=s.next,l.prev=s,s.next.prev=l,s.next=l):(l.prev=l,l.next=l),l}function dr(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Sh(a,t,i){return{i:a,x:t,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function P1(a,t,i,s){let l=0;for(let u=t,c=i-s;u<i;u+=s)l+=(a[c]-a[u])*(a[u+1]+a[c+1]),c=u;return l}const V1=Eg.default||Eg;var S0=(a=>(a[a.NONE=0]="NONE",a[a.COLOR=16384]="COLOR",a[a.STENCIL=1024]="STENCIL",a[a.DEPTH=256]="DEPTH",a[a.COLOR_DEPTH=16640]="COLOR_DEPTH",a[a.COLOR_STENCIL=17408]="COLOR_STENCIL",a[a.DEPTH_STENCIL=1280]="DEPTH_STENCIL",a[a.ALL=17664]="ALL",a))(S0||{});class X1{constructor(t){this.items=[],this._name=t}emit(t,i,s,l,u,c,d,m){const{name:y,items:x}=this;for(let h=0,g=x.length;h<g;h++)x[h][y](t,i,s,l,u,c,d,m);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const i=this.items.indexOf(t);return i!==-1&&this.items.splice(i,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const q1=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],A0=class w0 extends hn{constructor(t){super(),this.uid=Zt("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const i=[...q1,...this.config.runners??[]];this._addRunners(...i),this._unsafeEvalCheck()}async init(t={}){const i=t.skipExtensionImports===!0?!0:t.manageImports===!1;await T1(i),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const s in this._systemsHash)t={...this._systemsHash[s].constructor.defaultOptions,...t};t={...w0.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let s=0;s<this.runners.init.items.length;s++)await this.runners.init.items[s].init(t);this._initOptions=t}render(t,i){let s=t;if(s instanceof je&&(s={container:s},i&&(pt(zt,"passing a second argument is deprecated, please use render options instead"),s.target=i.renderTexture)),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor??(s.clearColor=this.background.colorRgba),s.clear??(s.clear=this.background.clearBeforeRender)),s.clearColor){const l=Array.isArray(s.clearColor)&&s.clearColor.length===4;s.clearColor=l?s.clearColor:ie.shared.setValue(s.clearColor).toArray()}s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),s.container.visible&&(s.container.enableRenderGroup(),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s))}resize(t,i,s){const l=this.view.resolution;this.view.resize(t,i,s),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),s!==void 0&&s!==l&&this.runners.resolutionChange.emit(s)}clear(t={}){const i=this;t.target||(t.target=i.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=S0.ALL);const{clear:s,clearColor:l,target:u}=t;ie.shared.setValue(l??this.background.colorRgba),i.renderTarget.clear(u,s,ie.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(i=>{this.runners[i]=new X1(i)})}_addSystems(t){let i;for(i in t){const s=t[i];this._addSystem(s.value,s.name)}}_addSystem(t,i){const s=new t(this);if(this[i])throw new Error(`Whoops! The name "${i}" is already in use`);this[i]=s,this._systemsHash[i]=s;for(const l in this.runners)this.runners[l].add(s);return this}_addPipes(t,i){const s=i.reduce((l,u)=>(l[u.name]=u.value,l),{});t.forEach(l=>{const u=l.value,c=l.name,d=s[c];this.renderPipes[c]=new u(this,d?new d:null),this.runners.destroy.add(this.renderPipes[c])})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),(t===!0||typeof t=="object"&&t.releaseGlobalResources)&&yr.release(),Object.values(this.runners).forEach(i=>{i.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!M1())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};A0.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let T0=A0,Zl;function F1(a){return Zl!==void 0||(Zl=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:a??T0.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Ut.get().getWebGLRenderingContext())return!1;let s=Ut.get().createCanvas().getContext("webgl",t);const l=!!s?.getContextAttributes()?.stencil;if(s){const u=s.getExtension("WEBGL_lose_context");u&&u.loseContext()}return s=null,l}catch{return!1}})()),Zl}let Wl;async function I1(a={}){return Wl!==void 0||(Wl=await(async()=>{const t=Ut.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(a)).requestDevice(),!0}catch{return!1}})()),Wl}const Bg=["webgl","webgpu","canvas"];async function Q1(a){let t=[];a.preference?(t.push(a.preference),Bg.forEach(u=>{u!==a.preference&&t.push(u)})):t=Bg.slice();let i,s={};for(let u=0;u<t.length;u++){const c=t[u];if(c==="webgpu"&&await I1()){const{WebGPURenderer:d}=await so(async()=>{const{WebGPURenderer:m}=await import("./WebGPURenderer-CWlFqKzN.js");return{WebGPURenderer:m}},__vite__mapDeps([3,2,4]));i=d,s={...a,...a.webgpu};break}else if(c==="webgl"&&F1(a.failIfMajorPerformanceCaveat??T0.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:d}=await so(async()=>{const{WebGLRenderer:m}=await import("./WebGLRenderer-CHNWgI1B.js");return{WebGLRenderer:m}},__vite__mapDeps([5,2,4]));i=d,s={...a,...a.webgl};break}else if(c==="canvas")throw s={...a},new Error("CanvasRenderer is not yet implemented")}if(delete s.webgpu,delete s.webgl,!i)throw new Error("No available renderer for the current environment");const l=new i;return await l.init(s),l}const M0="8.14.3";class C0{static init(){globalThis.__PIXI_APP_INIT__?.(this,M0)}static destroy(){}}C0.extension=st.Application;class Z1{constructor(t){this._renderer=t}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,M0)}destroy(){this._renderer=null}}Z1.extension={type:[st.WebGLSystem,st.WebGPUSystem],name:"initHook",priority:-10};const E0=class Ah{constructor(...t){this.stage=new je,t[0]!==void 0&&pt(zt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.stage||(this.stage=new je),this.renderer=await Q1(t),Ah._plugins.forEach(i=>{i.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return pt(zt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,i=!1){const s=Ah._plugins.slice(0);s.reverse(),s.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(t),this.renderer=null}};E0._plugins=[];let R0=E0;me.handleByList(st.Application,R0._plugins);me.add(C0);class B0 extends hn{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return pt(zt,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return pt(zt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return pt(zt,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return pt(zt,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return pt(zt,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners();for(const i in this.chars)this.chars[i].texture?.destroy();this.chars=null,t&&(this.pages.forEach(i=>i.texture.destroy(!0)),this.pages=null)}}class W1{constructor(t=0,i=0,s=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=t,this.resetTtl=s,this.size=0,this.ttl=i}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(t){if(this.has(t)){const i=this.items[t];delete this.items[t],this.size--,i.prev!==null&&(i.prev.next=i.next),i.next!==null&&(i.next.prev=i.prev),this.first===i&&(this.first=i.next),this.last===i&&(this.last=i.prev)}return this}entries(t=this.keys()){return t.map(i=>[i,this.get(i)])}evict(t=!1){if(t||this.size>0){const i=this.first;delete this.items[i.key],--this.size===0?(this.first=null,this.last=null):(this.first=i.next,this.first.prev=null)}return this}expiresAt(t){let i;return this.has(t)&&(i=this.items[t].expiry),i}get(t){const i=this.items[t];if(i!==void 0){if(this.ttl>0&&i.expiry<=Date.now()){this.delete(t);return}return this.moveToEnd(i),i.value}}has(t){return t in this.items}moveToEnd(t){this.last!==t&&(t.prev!==null&&(t.prev.next=t.next),t.next!==null&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),t.prev=this.last,t.next=null,this.last!==null&&(this.last.next=t),this.last=t,this.first===null&&(this.first=t))}keys(){const t=[];let i=this.first;for(;i!==null;)t.push(i.key),i=i.next;return t}setWithEvicted(t,i,s=this.resetTtl){let l=null;if(this.has(t))this.set(t,i,!0,s);else{this.max>0&&this.size===this.max&&(l={...this.first},this.evict(!0));let u=this.items[t]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:i};++this.size===1?this.first=u:this.last.next=u,this.last=u}return l}set(t,i,s=!1,l=this.resetTtl){let u=this.items[t];return s||u!==void 0?(u.value=i,s===!1&&l&&(u.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(u)):(this.max>0&&this.size===this.max&&this.evict(!0),u=this.items[t]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:i},++this.size===1?this.first=u:this.last.next=u,this.last=u),this}values(t=this.keys()){return t.map(i=>this.get(i))}}function z0(a=1e3,t=0,i=!1){if(isNaN(a)||a<0)throw new TypeError("Invalid max value");if(isNaN(t)||t<0)throw new TypeError("Invalid ttl value");if(typeof i!="boolean")throw new TypeError("Invalid resetTtl value");return new W1(a,t,i)}const K1=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function ro(a){const t=typeof a.fontSize=="number"?`${a.fontSize}px`:a.fontSize;let i=a.fontFamily;Array.isArray(a.fontFamily)||(i=a.fontFamily.split(","));for(let s=i.length-1;s>=0;s--){let l=i[s].trim();!/([\"\'])[^\'\"]+\1/.test(l)&&!K1.includes(l)&&(l=`"${l}"`),i[s]=l}return`${a.fontStyle} ${a.fontVariant} ${a.fontWeight} ${t} ${i.join(",")}`}const Jc={willReadFrequently:!0},dn=class nt{static get experimentalLetterSpacingSupported(){let t=nt._experimentalLetterSpacingSupported;if(t===void 0){const i=Ut.get().getCanvasRenderingContext2D().prototype;t=nt._experimentalLetterSpacingSupported="letterSpacing"in i||"textLetterSpacing"in i}return t}constructor(t,i,s,l,u,c,d,m,y){this.text=t,this.style=i,this.width=s,this.height=l,this.lines=u,this.lineWidths=c,this.lineHeight=d,this.maxLineWidth=m,this.fontProperties=y}static measureText(t=" ",i,s=nt._canvas,l=i.wordWrap){const u=`${t}-${i.styleKey}-wordWrap-${l}`;if(nt._measurementCache.has(u))return nt._measurementCache.get(u);const c=ro(i),d=nt.measureFont(c);d.fontSize===0&&(d.fontSize=i.fontSize,d.ascent=i.fontSize);const m=nt.__context;m.font=c;const x=(l?nt._wordWrap(t,i,s):t).split(/(?:\r\n|\r|\n)/),h=new Array(x.length);let g=0;for(let M=0;M<x.length;M++){const C=nt._measureText(x[M],i.letterSpacing,m);h[M]=C,g=Math.max(g,C)}const _=i._stroke?.width||0;let b=g+_;i.dropShadow&&(b+=i.dropShadow.distance);const A=i.lineHeight||d.fontSize;let S=Math.max(A,d.fontSize+_)+(x.length-1)*(A+i.leading);i.dropShadow&&(S+=i.dropShadow.distance);const w=new nt(t,i,b,S,x,h,A+i.leading,g,d);return nt._measurementCache.set(u,w),w}static _measureText(t,i,s){let l=!1;nt.experimentalLetterSpacingSupported&&(nt.experimentalLetterSpacing?(s.letterSpacing=`${i}px`,s.textLetterSpacing=`${i}px`,l=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));const u=s.measureText(t);let c=u.width;const d=-u.actualBoundingBoxLeft;let y=u.actualBoundingBoxRight-d;if(c>0)if(l)c-=i,y-=i;else{const x=(nt.graphemeSegmenter(t).length-1)*i;c+=x,y+=x}return Math.max(c,y)}static _wordWrap(t,i,s=nt._canvas){const l=s.getContext("2d",Jc);let u=0,c="",d="";const m=Object.create(null),{letterSpacing:y,whiteSpace:x}=i,h=nt._collapseSpaces(x),g=nt._collapseNewlines(x);let _=!h;const b=i.wordWrapWidth+y,A=nt._tokenize(t);for(let S=0;S<A.length;S++){let w=A[S];if(nt._isNewline(w)){if(!g){d+=nt._addLine(c),_=!h,c="",u=0;continue}w=" "}if(h){const C=nt.isBreakingSpace(w),z=nt.isBreakingSpace(c[c.length-1]);if(C&&z)continue}const M=nt._getFromCache(w,y,m,l);if(M>b)if(c!==""&&(d+=nt._addLine(c),c="",u=0),nt.canBreakWords(w,i.breakWords)){const C=nt.wordWrapSplit(w);for(let z=0;z<C.length;z++){let I=C[z],j=I,L=1;for(;C[z+L];){const F=C[z+L];if(!nt.canBreakChars(j,F,w,z,i.breakWords))I+=F;else break;j=F,L++}z+=L-1;const Z=nt._getFromCache(I,y,m,l);Z+u>b&&(d+=nt._addLine(c),_=!1,c="",u=0),c+=I,u+=Z}}else{c.length>0&&(d+=nt._addLine(c),c="",u=0);const C=S===A.length-1;d+=nt._addLine(w,!C),_=!1,c="",u=0}else M+u>b&&(_=!1,d+=nt._addLine(c),c="",u=0),(c.length>0||!nt.isBreakingSpace(w)||_)&&(c+=w,u+=M)}return d+=nt._addLine(c,!1),d}static _addLine(t,i=!0){return t=nt._trimRight(t),t=i?`${t}
`:t,t}static _getFromCache(t,i,s,l){let u=s[t];return typeof u!="number"&&(u=nt._measureText(t,i,l)+i,s[t]=u),u}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let i=t.length-1;i>=0;i--){const s=t[i];if(!nt.isBreakingSpace(s))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:nt._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,i){return typeof t!="string"?!1:nt._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const i=[];let s="";if(typeof t!="string")return i;for(let l=0;l<t.length;l++){const u=t[l],c=t[l+1];if(nt.isBreakingSpace(u,c)||nt._isNewline(u)){s!==""&&(i.push(s),s=""),u==="\r"&&c===`
`?(i.push(`\r
`),l++):i.push(u);continue}s+=u}return s!==""&&i.push(s),i}static canBreakWords(t,i){return i}static canBreakChars(t,i,s,l,u){return!0}static wordWrapSplit(t){return nt.graphemeSegmenter(t)}static measureFont(t){if(nt._fonts[t])return nt._fonts[t];const i=nt._context;i.font=t;const s=i.measureText(nt.METRICS_STRING+nt.BASELINE_SYMBOL),l={ascent:s.actualBoundingBoxAscent,descent:s.actualBoundingBoxDescent,fontSize:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent};return nt._fonts[t]=l,l}static clearMetrics(t=""){t?delete nt._fonts[t]:nt._fonts={}}static get _canvas(){if(!nt.__canvas){let t;try{const i=new OffscreenCanvas(0,0);if(i.getContext("2d",Jc)?.measureText)return nt.__canvas=i,i;t=Ut.get().createCanvas()}catch{t=Ut.get().createCanvas()}t.width=t.height=10,nt.__canvas=t}return nt.__canvas}static get _context(){return nt.__context||(nt.__context=nt._canvas.getContext("2d",Jc)),nt.__context}};dn.METRICS_STRING="|q";dn.BASELINE_SYMBOL="M";dn.BASELINE_MULTIPLIER=1.4;dn.HEIGHT_MULTIPLIER=2;dn.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const a=new Intl.Segmenter;return t=>{const i=a.segment(t),s=[];let l=0;for(const u of i)s[l++]=u.segment;return s}}return a=>[...a]})();dn.experimentalLetterSpacing=!1;dn._fonts={};dn._newlines=[10,13];dn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];dn._measurementCache=z0(1e3);let Tn=dn;const zg=[{offset:0,color:"white"},{offset:1,color:"black"}],Gh=class wh{constructor(...t){this.uid=Zt("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let i=$1(t);i={...i.type==="radial"?wh.defaultRadialOptions:wh.defaultLinearOptions,...Ny(i)},this._textureSize=i.textureSize,this._wrapMode=i.wrapMode,i.type==="radial"?(this.center=i.center,this.outerCenter=i.outerCenter??this.center,this.innerRadius=i.innerRadius,this.outerRadius=i.outerRadius,this.scale=i.scale,this.rotation=i.rotation):(this.start=i.start,this.end=i.end),this.textureSpace=i.textureSpace,this.type=i.type,i.colorStops.forEach(l=>{this.addColorStop(l.offset,l.color)})}addColorStop(t,i){return this.colorStops.push({offset:t,color:ie.shared.setValue(i).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:i}=this.start,{x:s,y:l}=this.end,u=s-t,c=l-i;const d=u<0||c<0;if(this._wrapMode==="clamp-to-edge"){if(u<0){const S=t;t=s,s=S,u*=-1}if(c<0){const S=i;i=l,l=S,c*=-1}}const m=this.colorStops.length?this.colorStops:zg,y=this._textureSize,{canvas:x,context:h}=kg(y,1),g=d?h.createLinearGradient(this._textureSize,0,0,0):h.createLinearGradient(0,0,this._textureSize,0);Og(g,m),h.fillStyle=g,h.fillRect(0,0,y,1),this.texture=new wt({source:new Ji({resource:x,addressMode:this._wrapMode})});const _=Math.sqrt(u*u+c*c),b=Math.atan2(c,u),A=new bt;A.scale(_/y,1),A.rotate(b),A.translate(t,i),this.textureSpace==="local"&&A.scale(y,y),this.transform=A}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:zg,i=this._textureSize,{canvas:s,context:l}=kg(i,i),{x:u,y:c}=this.center,{x:d,y:m}=this.outerCenter,y=this.innerRadius,x=this.outerRadius,h=d-x,g=m-x,_=i/(x*2),b=(u-h)*_,A=(c-g)*_,S=l.createRadialGradient(b,A,y*_,(d-h)*_,(m-g)*_,x*_);Og(S,t),l.fillStyle=t[t.length-1].color,l.fillRect(0,0,i,i),l.fillStyle=S,l.translate(b,A),l.rotate(this.rotation),l.scale(1,this.scale),l.translate(-b,-A),l.fillRect(0,0,i,i),this.texture=new wt({source:new Ji({resource:s,addressMode:this._wrapMode})});const w=new bt;w.scale(1/_,1/_),w.translate(h,g),this.textureSpace==="local"&&w.scale(i,i),this.transform=w}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};Gh.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};Gh.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Qn=Gh;function Og(a,t){for(let i=0;i<t.length;i++){const s=t[i];a.addColorStop(s.offset,s.color)}}function kg(a,t){const i=Ut.get().createCanvas(a,t),s=i.getContext("2d");return{canvas:i,context:s}}function $1(a){let t=a[0]??{};return(typeof t=="number"||a[1])&&(pt("8.5.2","use options object instead"),t={type:"linear",start:{x:a[0],y:a[1]},end:{x:a[2],y:a[3]},textureSpace:a[4],textureSize:a[5]??Qn.defaultLinearOptions.textureSize}),t}const Dg={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class fo{constructor(t,i){this.uid=Zt("fillPattern"),this._tick=0,this.transform=new bt,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),i&&(t.source.style.addressModeU=Dg[i].addressModeU,t.source.style.addressModeV=Dg[i].addressModeV)}setTransform(t){const i=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/i.frame.width,1/i.frame.height),this._tick++}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture=t,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var th,Ng;function J1(){if(Ng)return th;Ng=1,th=i;var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function i(u){var c=[];return u.replace(t,function(d,m,y){var x=m.toLowerCase();for(y=l(y),x=="m"&&y.length>2&&(c.push([m].concat(y.splice(0,2))),x="l",m=m=="m"?"l":"L");;){if(y.length==a[x])return y.unshift(m),c.push(y);if(y.length<a[x])throw new Error("malformed path data");c.push([m].concat(y.splice(0,a[x])))}}),c}var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(u){var c=u.match(s);return c?c.map(Number):[]}return th}var tS=J1();const eS=by(tS);function nS(a,t){const i=eS(a),s=[];let l=null,u=0,c=0;for(let d=0;d<i.length;d++){const m=i[d],y=m[0],x=m;switch(y){case"M":u=x[1],c=x[2],t.moveTo(u,c);break;case"m":u+=x[1],c+=x[2],t.moveTo(u,c);break;case"H":u=x[1],t.lineTo(u,c);break;case"h":u+=x[1],t.lineTo(u,c);break;case"V":c=x[1],t.lineTo(u,c);break;case"v":c+=x[1],t.lineTo(u,c);break;case"L":u=x[1],c=x[2],t.lineTo(u,c);break;case"l":u+=x[1],c+=x[2],t.lineTo(u,c);break;case"C":u=x[5],c=x[6],t.bezierCurveTo(x[1],x[2],x[3],x[4],u,c);break;case"c":t.bezierCurveTo(u+x[1],c+x[2],u+x[3],c+x[4],u+x[5],c+x[6]),u+=x[5],c+=x[6];break;case"S":u=x[3],c=x[4],t.bezierCurveToShort(x[1],x[2],u,c);break;case"s":t.bezierCurveToShort(u+x[1],c+x[2],u+x[3],c+x[4]),u+=x[3],c+=x[4];break;case"Q":u=x[3],c=x[4],t.quadraticCurveTo(x[1],x[2],u,c);break;case"q":t.quadraticCurveTo(u+x[1],c+x[2],u+x[3],c+x[4]),u+=x[3],c+=x[4];break;case"T":u=x[1],c=x[2],t.quadraticCurveToShort(u,c);break;case"t":u+=x[1],c+=x[2],t.quadraticCurveToShort(u,c);break;case"A":u=x[6],c=x[7],t.arcToSvg(x[1],x[2],x[3],x[4],x[5],u,c);break;case"a":u+=x[6],c+=x[7],t.arcToSvg(x[1],x[2],x[3],x[4],x[5],u,c);break;case"Z":case"z":t.closePath(),s.length>0&&(l=s.pop(),l?(u=l.startX,c=l.startY):(u=0,c=0)),l=null;break;default:Pt(`Unknown SVG path command: ${y}`)}y!=="Z"&&y!=="z"&&l===null&&(l={startX:u,startY:c},s.push(l))}return t}class Lh{constructor(t=0,i=0,s=0){this.type="circle",this.x=t,this.y=i,this.radius=s}clone(){return new Lh(this.x,this.y,this.radius)}contains(t,i){if(this.radius<=0)return!1;const s=this.radius*this.radius;let l=this.x-t,u=this.y-i;return l*=l,u*=u,l+u<=s}strokeContains(t,i,s,l=.5){if(this.radius===0)return!1;const u=this.x-t,c=this.y-i,d=this.radius,m=(1-l)*s,y=Math.sqrt(u*u+c*c);return y<=d+m&&y>d-(s-m)}getBounds(t){return t||(t=new Xt),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Uh{constructor(t=0,i=0,s=0,l=0){this.type="ellipse",this.x=t,this.y=i,this.halfWidth=s,this.halfHeight=l}clone(){return new Uh(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,i){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let s=(t-this.x)/this.halfWidth,l=(i-this.y)/this.halfHeight;return s*=s,l*=l,s+l<=1}strokeContains(t,i,s,l=.5){const{halfWidth:u,halfHeight:c}=this;if(u<=0||c<=0)return!1;const d=s*(1-l),m=s-d,y=u-m,x=c-m,h=u+d,g=c+d,_=t-this.x,b=i-this.y,A=_*_/(y*y)+b*b/(x*x),S=_*_/(h*h)+b*b/(g*g);return A>1&&S<=1}getBounds(t){return t||(t=new Xt),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function iS(a,t,i,s,l,u){const c=a-i,d=t-s,m=l-i,y=u-s,x=c*m+d*y,h=m*m+y*y;let g=-1;h!==0&&(g=x/h);let _,b;g<0?(_=i,b=s):g>1?(_=l,b=u):(_=i+g*m,b=s+g*y);const A=a-_,S=t-b;return A*A+S*S}let sS,aS;class or{constructor(...t){this.type="polygon";let i=Array.isArray(t[0])?t[0]:t;if(typeof i[0]!="number"){const s=[];for(let l=0,u=i.length;l<u;l++)s.push(i[l].x,i[l].y);i=s}this.points=i,this.closePath=!0}isClockwise(){let t=0;const i=this.points,s=i.length;for(let l=0;l<s;l+=2){const u=i[l],c=i[l+1],d=i[(l+2)%s],m=i[(l+3)%s];t+=(d-u)*(m+c)}return t<0}containsPolygon(t){const i=this.getBounds(sS),s=t.getBounds(aS);if(!i.containsRect(s))return!1;const l=t.points;for(let u=0;u<l.length;u+=2){const c=l[u],d=l[u+1];if(!this.contains(c,d))return!1}return!0}clone(){const t=this.points.slice(),i=new or(t);return i.closePath=this.closePath,i}contains(t,i){let s=!1;const l=this.points.length/2;for(let u=0,c=l-1;u<l;c=u++){const d=this.points[u*2],m=this.points[u*2+1],y=this.points[c*2],x=this.points[c*2+1];m>i!=x>i&&t<(y-d)*((i-m)/(x-m))+d&&(s=!s)}return s}strokeContains(t,i,s,l=.5){const u=s*s,c=u*(1-l),d=u-c,{points:m}=this,y=m.length-(this.closePath?0:2);for(let x=0;x<y;x+=2){const h=m[x],g=m[x+1],_=m[(x+2)%m.length],b=m[(x+3)%m.length],A=iS(t,i,h,g,_,b),S=Math.sign((_-h)*(i-g)-(b-g)*(t-h));if(A<=(S<0?d:c))return!0}return!1}getBounds(t){t||(t=new Xt);const i=this.points;let s=1/0,l=-1/0,u=1/0,c=-1/0;for(let d=0,m=i.length;d<m;d+=2){const y=i[d],x=i[d+1];s=y<s?y:s,l=y>l?y:l,u=x<u?x:u,c=x>c?x:c}return t.x=s,t.width=l-s,t.y=u,t.height=c-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,i)=>`${t}, ${i}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return pt("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return pt("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const Kl=(a,t,i,s,l,u,c)=>{const d=a-i,m=t-s,y=Math.sqrt(d*d+m*m);return y>=l-u&&y<=l+c};class Hh{constructor(t=0,i=0,s=0,l=0,u=20){this.type="roundedRectangle",this.x=t,this.y=i,this.width=s,this.height=l,this.radius=u}getBounds(t){return t||(t=new Xt),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new Hh(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){const s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(i>=this.y+s&&i<=this.y+this.height-s||t>=this.x+s&&t<=this.x+this.width-s)return!0;let l=t-(this.x+s),u=i-(this.y+s);const c=s*s;if(l*l+u*u<=c||(l=t-(this.x+this.width-s),l*l+u*u<=c)||(u=i-(this.y+this.height-s),l*l+u*u<=c)||(l=t-(this.x+s),l*l+u*u<=c))return!0}return!1}strokeContains(t,i,s,l=.5){const{x:u,y:c,width:d,height:m,radius:y}=this,x=s*(1-l),h=s-x,g=u+y,_=c+y,b=d-y*2,A=m-y*2,S=u+d,w=c+m;return(t>=u-x&&t<=u+h||t>=S-h&&t<=S+x)&&i>=_&&i<=_+A||(i>=c-x&&i<=c+h||i>=w-h&&i<=w+x)&&t>=g&&t<=g+b?!0:t<g&&i<_&&Kl(t,i,g,_,y,h,x)||t>S-y&&i<_&&Kl(t,i,S-y,_,y,h,x)||t>S-y&&i>w-y&&Kl(t,i,S-y,w-y,y,h,x)||t<g&&i>w-y&&Kl(t,i,g,w-y,y,h,x)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const O0={};function rS(a,t,i){let s=2166136261;for(let l=0;l<t;l++)s^=a[l].uid,s=Math.imul(s,16777619),s>>>=0;return O0[s]||lS(a,t,s,i)}function lS(a,t,i,s){const l={};let u=0;for(let d=0;d<s;d++){const m=d<t?a[d]:wt.EMPTY.source;l[u++]=m.source,l[u++]=m.style}const c=new no(l);return O0[i]=c,c}class Gg{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function Lg(a,t){const i=a.byteLength/8|0,s=new Float64Array(a,0,i);new Float64Array(t,0,i).set(s);const u=a.byteLength-i*8;if(u>0){const c=new Uint8Array(a,i*8,u);new Uint8Array(t,i*8,u).set(c)}}const oS={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var uS=(a=>(a[a.DISABLED=0]="DISABLED",a[a.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",a[a.MASK_ACTIVE=2]="MASK_ACTIVE",a[a.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",a[a.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",a[a.NONE=5]="NONE",a))(uS||{});function Ug(a,t){return t.alphaMode==="no-premultiply-alpha"&&oS[a]||a}const cS=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function hS(a){let t="";for(let i=0;i<a;++i)i>0&&(t+=`
else `),i<a-1&&(t+=`if(test == ${i}.0){}`);return t}function fS(a,t){if(a===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const s=cS.replace(/%forloop%/gi,hS(a));if(t.shaderSource(i,s),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))a=a/2|0;else break}}finally{t.deleteShader(i)}return a}let Hs=null;function dS(){if(Hs)return Hs;const a=h0();return Hs=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),Hs=fS(Hs,a),a.getExtension("WEBGL_lose_context")?.loseContext(),Hs}class pS{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const i=this.textures[t];this.textures[t]=null,this.ids[i.uid]=null}this.count=0}}class mS{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new pS,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const ur=[];let lo=0;yr.register({clear:()=>{if(ur.length>0)for(const a of ur)a&&a.destroy();ur.length=0,lo=0}});function Hg(){return lo>0?ur[--lo]:new mS}function jg(a){ur[lo++]=a}let Ja=0;const k0=class D0{constructor(t){this.uid=Zt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...D0.defaultOptions,...t},t.maxTextures||(pt("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=dS());const{maxTextures:i,attributesInitialSize:s,indicesInitialSize:l}=t;this.attributeBuffer=new Gg(s*4),this.indexBuffer=new Uint16Array(l),this.maxTextures=i}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)jg(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,i){const s=t._batch.textures.ids[i._source.uid];return!s&&s!==0?!1:(t._textureId=s,t.texture=i,!0)}updateElement(t){this.dirty=!0;const i=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId)}break(t){const i=this._elements;if(!i[this.elementStart])return;let s=Hg(),l=s.textures;l.clear();const u=i[this.elementStart];let c=Ug(u.blendMode,u.texture._source),d=u.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const m=this.attributeBuffer.float32View,y=this.attributeBuffer.uint32View,x=this.indexBuffer;let h=this._batchIndexSize,g=this._batchIndexStart,_="startBatch";const b=this.maxTextures;for(let A=this.elementStart;A<this.elementSize;++A){const S=i[A];i[A]=null;const M=S.texture._source,C=Ug(S.blendMode,M),z=c!==C||d!==S.topology;if(M._batchTick===Ja&&!z){S._textureId=M._textureBindLocation,h+=S.indexSize,S.packAsQuad?(this.packQuadAttributes(S,m,y,S._attributeStart,S._textureId),this.packQuadIndex(x,S._indexStart,S._attributeStart/this.vertexSize)):(this.packAttributes(S,m,y,S._attributeStart,S._textureId),this.packIndex(S,x,S._indexStart,S._attributeStart/this.vertexSize)),S._batch=s;continue}M._batchTick=Ja,(l.count>=b||z)&&(this._finishBatch(s,g,h-g,l,c,d,t,_),_="renderBatch",g=h,c=C,d=S.topology,s=Hg(),l=s.textures,l.clear(),++Ja),S._textureId=M._textureBindLocation=l.count,l.ids[M.uid]=l.count,l.textures[l.count++]=M,S._batch=s,h+=S.indexSize,S.packAsQuad?(this.packQuadAttributes(S,m,y,S._attributeStart,S._textureId),this.packQuadIndex(x,S._indexStart,S._attributeStart/this.vertexSize)):(this.packAttributes(S,m,y,S._attributeStart,S._textureId),this.packIndex(S,x,S._indexStart,S._attributeStart/this.vertexSize))}l.count>0&&(this._finishBatch(s,g,h-g,l,c,d,t,_),g=h,++Ja),this.elementStart=this.elementSize,this._batchIndexStart=g,this._batchIndexSize=h}_finishBatch(t,i,s,l,u,c,d,m){t.gpuBindGroup=null,t.bindGroup=null,t.action=m,t.batcher=this,t.textures=l,t.blendMode=u,t.topology=c,t.start=i,t.size=s,++Ja,this.batches[this.batchIndex++]=t,d.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const i=Math.max(t,this.attributeBuffer.size*2),s=new Gg(i);Lg(this.attributeBuffer.rawBinaryData,s.rawBinaryData),this.attributeBuffer=s}_resizeIndexBuffer(t){const i=this.indexBuffer;let s=Math.max(t,i.length*1.5);s+=s%2;const l=s>65535?new Uint32Array(s):new Uint16Array(s);if(l.BYTES_PER_ELEMENT!==i.BYTES_PER_ELEMENT)for(let u=0;u<i.length;u++)l[u]=i[u];else Lg(i.buffer,l.buffer);this.indexBuffer=l}packQuadIndex(t,i,s){t[i]=s+0,t[i+1]=s+1,t[i+2]=s+2,t[i+3]=s+0,t[i+4]=s+2,t[i+5]=s+3}packIndex(t,i,s,l){const u=t.indices,c=t.indexSize,d=t.indexOffset,m=t.attributeOffset;for(let y=0;y<c;y++)i[s++]=l+u[y+d]-m}destroy(t={}){if(this.batches!==null){for(let i=0;i<this.batches.length;i++)jg(this.batches[i]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,t.shader&&(this.shader?.destroy(),this.shader=null);for(let i=0;i<this._elements.length;i++)this._elements[i]&&(this._elements[i]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};k0.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let gS=k0;var Ee=(a=>(a[a.MAP_READ=1]="MAP_READ",a[a.MAP_WRITE=2]="MAP_WRITE",a[a.COPY_SRC=4]="COPY_SRC",a[a.COPY_DST=8]="COPY_DST",a[a.INDEX=16]="INDEX",a[a.VERTEX=32]="VERTEX",a[a.UNIFORM=64]="UNIFORM",a[a.STORAGE=128]="STORAGE",a[a.INDIRECT=256]="INDIRECT",a[a.QUERY_RESOLVE=512]="QUERY_RESOLVE",a[a.STATIC=1024]="STATIC",a))(Ee||{});class pr extends hn{constructor(t){let{data:i,size:s}=t;const{usage:l,label:u,shrinkToFit:c}=t;super(),this.uid=Zt("buffer"),this._resourceType="buffer",this._resourceId=Zt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,i instanceof Array&&(i=new Float32Array(i)),this._data=i,s??(s=i?.byteLength);const d=!!i;this.descriptor={size:s,usage:l,mappedAtCreation:d,label:u},this.shrinkToFit=c??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Ee.STATIC)}set static(t){t?this.descriptor.usage|=Ee.STATIC:this.descriptor.usage&=~Ee.STATIC}setDataWithSize(t,i,s){if(this._updateID++,this._updateSize=i*t.BYTES_PER_ELEMENT,this._data===t){s&&this.emit("update",this);return}const l=this._data;if(this._data=t,this._dataInt32=null,!l||l.length!==t.length){!this.shrinkToFit&&l&&t.byteLength<l.byteLength?s&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Zt("resource"),this.emit("change",this));return}s&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function N0(a,t){if(!(a instanceof pr)){let i=t?Ee.INDEX:Ee.VERTEX;a instanceof Array&&(t?(a=new Uint32Array(a),i=Ee.INDEX|Ee.COPY_DST):(a=new Float32Array(a),i=Ee.VERTEX|Ee.COPY_DST)),a=new pr({data:a,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:i})}return a}function yS(a,t,i){const s=a.getAttribute(t);if(!s)return i.minX=0,i.minY=0,i.maxX=0,i.maxY=0,i;const l=s.buffer.data;let u=1/0,c=1/0,d=-1/0,m=-1/0;const y=l.BYTES_PER_ELEMENT,x=(s.offset||0)/y,h=(s.stride||8)/y;for(let g=x;g<l.length;g+=h){const _=l[g],b=l[g+1];_>d&&(d=_),b>m&&(m=b),_<u&&(u=_),b<c&&(c=b)}return i.minX=u,i.minY=c,i.maxX=d,i.maxY=m,i}function _S(a){return(a instanceof pr||Array.isArray(a)||a.BYTES_PER_ELEMENT)&&(a={buffer:a}),a.buffer=N0(a.buffer,!1),a}class xS extends hn{constructor(t={}){super(),this.uid=Zt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new cn,this._boundsDirty=!0;const{attributes:i,indexBuffer:s,topology:l}=t;if(this.buffers=[],this.attributes={},i)for(const u in i)this.addAttribute(u,i[u]);this.instanceCount=t.instanceCount??1,s&&this.addIndex(s),this.topology=l||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const i=this.attributes[t];return i.buffer.data.length/(i.stride/4||i.size)}return 0}addAttribute(t,i){const s=_S(i);this.buffers.indexOf(s.buffer)===-1&&(this.buffers.push(s.buffer),s.buffer.on("update",this.onBufferUpdate,this),s.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=s}addIndex(t){this.indexBuffer=N0(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,yS(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(i=>i.destroy()),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const vS=new Float32Array(1),bS=new Uint32Array(1);class SS extends xS{constructor(){const i=new pr({data:vS,label:"attribute-batch-buffer",usage:Ee.VERTEX|Ee.COPY_DST,shrinkToFit:!1}),s=new pr({data:bS,label:"index-batch-buffer",usage:Ee.INDEX|Ee.COPY_DST,shrinkToFit:!1}),l=24;super({attributes:{aPosition:{buffer:i,format:"float32x2",stride:l,offset:0},aUV:{buffer:i,format:"float32x2",stride:l,offset:8},aColor:{buffer:i,format:"unorm8x4",stride:l,offset:16},aTextureIdAndRound:{buffer:i,format:"uint16x2",stride:l,offset:20}},indexBuffer:s})}}function Yg(a,t,i){if(a)for(const s in a){const l=s.toLocaleLowerCase(),u=t[l];if(u){let c=a[s];s==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),i&&u.push(`//----${i}----//`),u.push(c)}else Pt(`${s} placement hook does not exist in shader`)}}const AS=/\{\{(.*?)\}\}/g;function Pg(a){const t={};return(a.match(AS)?.map(s=>s.replace(/[{()}]/g,""))??[]).forEach(s=>{t[s]=[]}),t}function Vg(a,t){let i;const s=/@in\s+([^;]+);/g;for(;(i=s.exec(a))!==null;)t.push(i[1])}function Xg(a,t,i=!1){const s=[];Vg(t,s),a.forEach(d=>{d.header&&Vg(d.header,s)});const l=s;i&&l.sort();const u=l.map((d,m)=>`       @location(${m}) ${d},`).join(`
`);let c=t.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${u}
`),c}function qg(a,t){let i;const s=/@out\s+([^;]+);/g;for(;(i=s.exec(a))!==null;)t.push(i[1])}function wS(a){const i=/\b(\w+)\s*:/g.exec(a);return i?i[1]:""}function TS(a){const t=/@.*?\s+/g;return a.replace(t,"")}function MS(a,t){const i=[];qg(t,i),a.forEach(m=>{m.header&&qg(m.header,i)});let s=0;const l=i.sort().map(m=>m.indexOf("builtin")>-1?m:`@location(${s++}) ${m}`).join(`,
`),u=i.sort().map(m=>`       var ${TS(m)};`).join(`
`),c=`return VSOutput(
            ${i.sort().map(m=>` ${wS(m)}`).join(`,
`)});`;let d=t.replace(/@out\s+[^;]+;\s*/g,"");return d=d.replace("{{struct}}",`
${l}
`),d=d.replace("{{start}}",`
${u}
`),d=d.replace("{{return}}",`
${c}
`),d}function Fg(a,t){let i=a;for(const s in t){const l=t[s];l.join(`
`).length?i=i.replace(`{{${s}}}`,`//-----${s} START-----//
${l.join(`
`)}
//----${s} FINISH----//`):i=i.replace(`{{${s}}}`,"")}return i}const Ai=Object.create(null),eh=new Map;let CS=0;function ES({template:a,bits:t}){const i=G0(a,t);if(Ai[i])return Ai[i];const{vertex:s,fragment:l}=BS(a,t);return Ai[i]=L0(s,l,t),Ai[i]}function RS({template:a,bits:t}){const i=G0(a,t);return Ai[i]||(Ai[i]=L0(a.vertex,a.fragment,t)),Ai[i]}function BS(a,t){const i=t.map(c=>c.vertex).filter(c=>!!c),s=t.map(c=>c.fragment).filter(c=>!!c);let l=Xg(i,a.vertex,!0);l=MS(i,l);const u=Xg(s,a.fragment,!0);return{vertex:l,fragment:u}}function G0(a,t){return t.map(i=>(eh.has(i)||eh.set(i,CS++),eh.get(i))).sort((i,s)=>i-s).join("-")+a.vertex+a.fragment}function L0(a,t,i){const s=Pg(a),l=Pg(t);return i.forEach(u=>{Yg(u.vertex,s,u.name),Yg(u.fragment,l,u.name)}),{vertex:Fg(a,s),fragment:Fg(t,l)}}const zS=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,OS=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,kS=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,DS=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,NS={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},GS={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function LS({bits:a,name:t}){const i=ES({template:{fragment:OS,vertex:zS},bits:[NS,...a]});return ho.from({name:t,vertex:{source:i.vertex,entryPoint:"main"},fragment:{source:i.fragment,entryPoint:"main"}})}function US({bits:a,name:t}){return new d0({name:t,...RS({template:{vertex:kS,fragment:DS},bits:[GS,...a]})})}const HS={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},jS={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},nh={};function YS(a){const t=[];if(a===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let i=0;for(let s=0;s<a;s++)t.push(`@group(1) @binding(${i++}) var textureSource${s+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${i++}) var textureSampler${s+1}: sampler;`)}return t.join(`
`)}function PS(a){const t=[];if(a===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let i=0;i<a;i++)i===a-1?t.push("  default:{"):t.push(`  case ${i}:{`),t.push(`      outColor = textureSampleGrad(textureSource${i+1}, textureSampler${i+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function VS(a){return nh[a]||(nh[a]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${YS(a)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${PS(a)}
            `}}),nh[a]}const ih={};function XS(a){const t=[];for(let i=0;i<a;i++)i>0&&t.push("else"),i<a-1&&t.push(`if(vTextureId < ${i}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${i}], vUV);`),t.push("}");return t.join(`
`)}function qS(a){return ih[a]||(ih[a]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${a}];

            `,main:`

                ${XS(a)}
            `}}),ih[a]}const FS={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},IS={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Ig={};function QS(a){let t=Ig[a];if(t)return t;const i=new Int32Array(a);for(let s=0;s<a;s++)i[s]=s;return t=Ig[a]=new y0({uTextures:{value:i,type:"i32",size:a}},{isStatic:!0}),t}class Qg extends Nh{constructor(t){const i=US({name:"batch",bits:[jS,qS(t),IS]}),s=LS({name:"batch",bits:[HS,VS(t),FS]});super({glProgram:i,gpuProgram:s,resources:{batchSamplers:QS(t)}}),this.maxTextures=t}}let tr=null;const U0=class H0 extends gS{constructor(t){super(t),this.geometry=new SS,this.name=H0.extension.name,this.vertexSize=6,tr??(tr=new Qg(t.maxTextures)),this.shader=tr}packAttributes(t,i,s,l,u){const c=u<<16|t.roundPixels&65535,d=t.transform,m=d.a,y=d.b,x=d.c,h=d.d,g=d.tx,_=d.ty,{positions:b,uvs:A}=t,S=t.color,w=t.attributeOffset,M=w+t.attributeSize;for(let C=w;C<M;C++){const z=C*2,I=b[z],j=b[z+1];i[l++]=m*I+x*j+g,i[l++]=h*j+y*I+_,i[l++]=A[z],i[l++]=A[z+1],s[l++]=S,s[l++]=c}}packQuadAttributes(t,i,s,l,u){const c=t.texture,d=t.transform,m=d.a,y=d.b,x=d.c,h=d.d,g=d.tx,_=d.ty,b=t.bounds,A=b.maxX,S=b.minX,w=b.maxY,M=b.minY,C=c.uvs,z=t.color,I=u<<16|t.roundPixels&65535;i[l+0]=m*S+x*M+g,i[l+1]=h*M+y*S+_,i[l+2]=C.x0,i[l+3]=C.y0,s[l+4]=z,s[l+5]=I,i[l+6]=m*A+x*M+g,i[l+7]=h*M+y*A+_,i[l+8]=C.x1,i[l+9]=C.y1,s[l+10]=z,s[l+11]=I,i[l+12]=m*A+x*w+g,i[l+13]=h*w+y*A+_,i[l+14]=C.x2,i[l+15]=C.y2,s[l+16]=z,s[l+17]=I,i[l+18]=m*S+x*w+g,i[l+19]=h*w+y*S+_,i[l+20]=C.x3,i[l+21]=C.y3,s[l+22]=z,s[l+23]=I}_updateMaxTextures(t){this.shader.maxTextures!==t&&(tr=new Qg(t),this.shader=tr)}destroy(){this.shader=null,super.destroy()}};U0.extension={type:[st.Batcher],name:"default"};let ZS=U0;function WS(a,t,i,s,l,u,c,d=null){let m=0;i*=t,l*=u;const y=d.a,x=d.b,h=d.c,g=d.d,_=d.tx,b=d.ty;for(;m<c;){const A=a[i],S=a[i+1];s[l]=y*A+h*S+_,s[l+1]=x*A+g*S+b,l+=u,i+=t,m++}}function KS(a,t,i,s){let l=0;for(t*=i;l<s;)a[t]=0,a[t+1]=0,t+=i,l++}function j0(a,t,i,s,l){const u=t.a,c=t.b,d=t.c,m=t.d,y=t.tx,x=t.ty;i||(i=0),s||(s=2),l||(l=a.length/s-i);let h=i*s;for(let g=0;g<l;g++){const _=a[h],b=a[h+1];a[h]=u*_+d*b+y,a[h+1]=c*_+m*b+x,h+=s}}const $S=new bt;class Y0{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,i=t>>16|t&65280|(t&255)<<16,s=this.renderable;return s?qy(i,s.groupColor)+(this.alpha*s.groupAlpha*255<<24):i+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||$S}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const mr={extension:{type:st.ShapeBuilder,name:"circle"},build(a,t){let i,s,l,u,c,d;if(a.type==="circle"){const z=a;if(c=d=z.radius,c<=0)return!1;i=z.x,s=z.y,l=u=0}else if(a.type==="ellipse"){const z=a;if(c=z.halfWidth,d=z.halfHeight,c<=0||d<=0)return!1;i=z.x,s=z.y,l=u=0}else{const z=a,I=z.width/2,j=z.height/2;i=z.x+I,s=z.y+j,c=d=Math.max(0,Math.min(z.radius,Math.min(I,j))),l=I-c,u=j-d}if(l<0||u<0)return!1;const m=Math.ceil(2.3*Math.sqrt(c+d)),y=m*8+(l?4:0)+(u?4:0);if(y===0)return!1;if(m===0)return t[0]=t[6]=i+l,t[1]=t[3]=s+u,t[2]=t[4]=i-l,t[5]=t[7]=s-u,!0;let x=0,h=m*4+(l?2:0)+2,g=h,_=y,b=l+c,A=u,S=i+b,w=i-b,M=s+A;if(t[x++]=S,t[x++]=M,t[--h]=M,t[--h]=w,u){const z=s-A;t[g++]=w,t[g++]=z,t[--_]=z,t[--_]=S}for(let z=1;z<m;z++){const I=Math.PI/2*(z/m),j=l+Math.cos(I)*c,L=u+Math.sin(I)*d,Z=i+j,F=i-j,W=s+L,K=s-L;t[x++]=Z,t[x++]=W,t[--h]=W,t[--h]=F,t[g++]=F,t[g++]=K,t[--_]=K,t[--_]=Z}b=l,A=u+d,S=i+b,w=i-b,M=s+A;const C=s-A;return t[x++]=S,t[x++]=M,t[--_]=C,t[--_]=S,l&&(t[x++]=w,t[x++]=M,t[--_]=C,t[--_]=w),!0},triangulate(a,t,i,s,l,u){if(a.length===0)return;let c=0,d=0;for(let x=0;x<a.length;x+=2)c+=a[x],d+=a[x+1];c/=a.length/2,d/=a.length/2;let m=s;t[m*i]=c,t[m*i+1]=d;const y=m++;for(let x=0;x<a.length;x+=2)t[m*i]=a[x],t[m*i+1]=a[x+1],x>0&&(l[u++]=m,l[u++]=y,l[u++]=m-1),m++;l[u++]=y+1,l[u++]=y,l[u++]=m-1}},JS={...mr,extension:{...mr.extension,name:"ellipse"}},tA={...mr,extension:{...mr.extension,name:"roundedRectangle"}},P0=1e-4,Zg=1e-4;function eA(a){const t=a.length;if(t<6)return 1;let i=0;for(let s=0,l=a[t-2],u=a[t-1];s<t;s+=2){const c=a[s],d=a[s+1];i+=(c-l)*(d+u),l=c,u=d}return i<0?-1:1}function Wg(a,t,i,s,l,u,c,d){const m=a-i*l,y=t-s*l,x=a+i*u,h=t+s*u;let g,_;c?(g=s,_=-i):(g=-s,_=i);const b=m+g,A=y+_,S=x+g,w=h+_;return d.push(b,A),d.push(S,w),2}function qi(a,t,i,s,l,u,c,d){const m=i-a,y=s-t;let x=Math.atan2(m,y),h=Math.atan2(l-a,u-t);d&&x<h?x+=Math.PI*2:!d&&x>h&&(h+=Math.PI*2);let g=x;const _=h-x,b=Math.abs(_),A=Math.sqrt(m*m+y*y),S=(15*b*Math.sqrt(A)/Math.PI>>0)+1,w=_/S;if(g+=w,d){c.push(a,t),c.push(i,s);for(let M=1,C=g;M<S;M++,C+=w)c.push(a,t),c.push(a+Math.sin(C)*A,t+Math.cos(C)*A);c.push(a,t),c.push(l,u)}else{c.push(i,s),c.push(a,t);for(let M=1,C=g;M<S;M++,C+=w)c.push(a+Math.sin(C)*A,t+Math.cos(C)*A),c.push(a,t);c.push(l,u),c.push(a,t)}return S*2}function nA(a,t,i,s,l,u){const c=P0;if(a.length===0)return;const d=t;let m=d.alignment;if(t.alignment!==.5){let et=eA(a);m=(m-.5)*et+.5}const y=new ye(a[0],a[1]),x=new ye(a[a.length-2],a[a.length-1]),h=s,g=Math.abs(y.x-x.x)<c&&Math.abs(y.y-x.y)<c;if(h){a=a.slice(),g&&(a.pop(),a.pop(),x.set(a[a.length-2],a[a.length-1]));const et=(y.x+x.x)*.5,_t=(x.y+y.y)*.5;a.unshift(et,_t),a.push(et,_t)}const _=l,b=a.length/2;let A=a.length;const S=_.length/2,w=d.width/2,M=w*w,C=d.miterLimit*d.miterLimit;let z=a[0],I=a[1],j=a[2],L=a[3],Z=0,F=0,W=-(I-L),K=z-j,ut=0,mt=0,dt=Math.sqrt(W*W+K*K);W/=dt,K/=dt,W*=w,K*=w;const $t=m,O=(1-$t)*2,P=$t*2;h||(d.cap==="round"?A+=qi(z-W*(O-P)*.5,I-K*(O-P)*.5,z-W*O,I-K*O,z+W*P,I+K*P,_,!0)+2:d.cap==="square"&&(A+=Wg(z,I,W,K,O,P,!0,_))),_.push(z-W*O,I-K*O),_.push(z+W*P,I+K*P);for(let et=1;et<b-1;++et){z=a[(et-1)*2],I=a[(et-1)*2+1],j=a[et*2],L=a[et*2+1],Z=a[(et+1)*2],F=a[(et+1)*2+1],W=-(I-L),K=z-j,dt=Math.sqrt(W*W+K*K),W/=dt,K/=dt,W*=w,K*=w,ut=-(L-F),mt=j-Z,dt=Math.sqrt(ut*ut+mt*mt),ut/=dt,mt/=dt,ut*=w,mt*=w;const _t=j-z,B=I-L,X=j-Z,Q=F-L,$=_t*X+B*Q,lt=B*X-Q*_t,ct=lt<0;if(Math.abs(lt)<.001*Math.abs($)){_.push(j-W*O,L-K*O),_.push(j+W*P,L+K*P),$>=0&&(d.join==="round"?A+=qi(j,L,j-W*O,L-K*O,j-ut*O,L-mt*O,_,!1)+4:A+=2,_.push(j-ut*P,L-mt*P),_.push(j+ut*O,L+mt*O));continue}const Tt=(-W+z)*(-K+L)-(-W+j)*(-K+I),ae=(-ut+Z)*(-mt+L)-(-ut+j)*(-mt+F),Lt=(_t*ae-X*Tt)/lt,pn=(Q*Tt-B*ae)/lt,Wn=(Lt-j)*(Lt-j)+(pn-L)*(pn-L),en=j+(Lt-j)*O,mn=L+(pn-L)*O,_e=j-(Lt-j)*P,nn=L-(pn-L)*P,Js=Math.min(_t*_t+B*B,X*X+Q*Q),_r=ct?O:P,xr=Js+_r*_r*M;Wn<=xr?d.join==="bevel"||Wn/M>C?(ct?(_.push(en,mn),_.push(j+W*P,L+K*P),_.push(en,mn),_.push(j+ut*P,L+mt*P)):(_.push(j-W*O,L-K*O),_.push(_e,nn),_.push(j-ut*O,L-mt*O),_.push(_e,nn)),A+=2):d.join==="round"?ct?(_.push(en,mn),_.push(j+W*P,L+K*P),A+=qi(j,L,j+W*P,L+K*P,j+ut*P,L+mt*P,_,!0)+4,_.push(en,mn),_.push(j+ut*P,L+mt*P)):(_.push(j-W*O,L-K*O),_.push(_e,nn),A+=qi(j,L,j-W*O,L-K*O,j-ut*O,L-mt*O,_,!1)+4,_.push(j-ut*O,L-mt*O),_.push(_e,nn)):(_.push(en,mn),_.push(_e,nn)):(_.push(j-W*O,L-K*O),_.push(j+W*P,L+K*P),d.join==="round"?ct?A+=qi(j,L,j+W*P,L+K*P,j+ut*P,L+mt*P,_,!0)+2:A+=qi(j,L,j-W*O,L-K*O,j-ut*O,L-mt*O,_,!1)+2:d.join==="miter"&&Wn/M<=C&&(ct?(_.push(_e,nn),_.push(_e,nn)):(_.push(en,mn),_.push(en,mn)),A+=2),_.push(j-ut*O,L-mt*O),_.push(j+ut*P,L+mt*P),A+=2)}z=a[(b-2)*2],I=a[(b-2)*2+1],j=a[(b-1)*2],L=a[(b-1)*2+1],W=-(I-L),K=z-j,dt=Math.sqrt(W*W+K*K),W/=dt,K/=dt,W*=w,K*=w,_.push(j-W*O,L-K*O),_.push(j+W*P,L+K*P),h||(d.cap==="round"?A+=qi(j-W*(O-P)*.5,L-K*(O-P)*.5,j-W*O,L-K*O,j+W*P,L+K*P,_,!1)+2:d.cap==="square"&&(A+=Wg(j,L,W,K,O,P,!1,_)));const at=Zg*Zg;for(let et=S;et<A+S-2;++et)z=_[et*2],I=_[et*2+1],j=_[(et+1)*2],L=_[(et+1)*2+1],Z=_[(et+2)*2],F=_[(et+2)*2+1],!(Math.abs(z*(L-F)+j*(F-I)+Z*(I-L))<at)&&u.push(et,et+1,et+2)}function iA(a,t,i,s){const l=P0;if(a.length===0)return;const u=a[0],c=a[1],d=a[a.length-2],m=a[a.length-1],y=t||Math.abs(u-d)<l&&Math.abs(c-m)<l,x=i,h=a.length/2,g=x.length/2;for(let _=0;_<h;_++)x.push(a[_*2]),x.push(a[_*2+1]);for(let _=0;_<h-1;_++)s.push(g+_,g+_+1);y&&s.push(g+h-1,g)}function V0(a,t,i,s,l,u,c){const d=V1(a,t,2);if(!d)return;for(let y=0;y<d.length;y+=3)u[c++]=d[y]+l,u[c++]=d[y+1]+l,u[c++]=d[y+2]+l;let m=l*s;for(let y=0;y<a.length;y+=2)i[m]=a[y],i[m+1]=a[y+1],m+=s}const sA=[],aA={extension:{type:st.ShapeBuilder,name:"polygon"},build(a,t){for(let i=0;i<a.points.length;i++)t[i]=a.points[i];return!0},triangulate(a,t,i,s,l,u){V0(a,sA,t,i,s,l,u)}},rA={extension:{type:st.ShapeBuilder,name:"rectangle"},build(a,t){const i=a,s=i.x,l=i.y,u=i.width,c=i.height;return u>0&&c>0?(t[0]=s,t[1]=l,t[2]=s+u,t[3]=l,t[4]=s+u,t[5]=l+c,t[6]=s,t[7]=l+c,!0):!1},triangulate(a,t,i,s,l,u){let c=0;s*=i,t[s+c]=a[0],t[s+c+1]=a[1],c+=i,t[s+c]=a[2],t[s+c+1]=a[3],c+=i,t[s+c]=a[6],t[s+c+1]=a[7],c+=i,t[s+c]=a[4],t[s+c+1]=a[5],c+=i;const d=s/i;l[u++]=d,l[u++]=d+1,l[u++]=d+2,l[u++]=d+1,l[u++]=d+3,l[u++]=d+2}},lA={extension:{type:st.ShapeBuilder,name:"triangle"},build(a,t){return t[0]=a.x,t[1]=a.y,t[2]=a.x2,t[3]=a.y2,t[4]=a.x3,t[5]=a.y3,!0},triangulate(a,t,i,s,l,u){let c=0;s*=i,t[s+c]=a[0],t[s+c+1]=a[1],c+=i,t[s+c]=a[2],t[s+c+1]=a[3],c+=i,t[s+c]=a[4],t[s+c+1]=a[5];const d=s/i;l[u++]=d,l[u++]=d+1,l[u++]=d+2}},oA=new bt,uA=new Xt;function cA(a,t,i,s){const l=t.matrix?a.copyFrom(t.matrix).invert():a.identity();if(t.textureSpace==="local"){const c=i.getBounds(uA);t.width&&c.pad(t.width);const{x:d,y:m}=c,y=1/c.width,x=1/c.height,h=-d*y,g=-m*x,_=l.a,b=l.b,A=l.c,S=l.d;l.a*=y,l.b*=y,l.c*=x,l.d*=x,l.tx=h*_+g*A+l.tx,l.ty=h*b+g*S+l.ty}else l.translate(t.texture.frame.x,t.texture.frame.y),l.scale(1/t.texture.source.width,1/t.texture.source.height);const u=t.texture.source.style;return!(t.fill instanceof Qn)&&u.addressMode==="clamp-to-edge"&&(u.addressMode="repeat",u.update()),s&&l.append(oA.copyFrom(s).invert()),l}const po={};me.handleByMap(st.ShapeBuilder,po);me.add(rA,aA,lA,mr,JS,tA);const hA=new Xt,fA=new bt;function dA(a,t){const{geometryData:i,batches:s}=t;s.length=0,i.indices.length=0,i.vertices.length=0,i.uvs.length=0;for(let l=0;l<a.instructions.length;l++){const u=a.instructions[l];if(u.action==="texture")pA(u.data,s,i);else if(u.action==="fill"||u.action==="stroke"){const c=u.action==="stroke",d=u.data.path.shapePath,m=u.data.style,y=u.data.hole;c&&y&&Kg(y.shapePath,m,!0,s,i),y&&(d.shapePrimitives[d.shapePrimitives.length-1].holes=y.shapePath.shapePrimitives),Kg(d,m,c,s,i)}}}function pA(a,t,i){const s=[],l=po.rectangle,u=hA;u.x=a.dx,u.y=a.dy,u.width=a.dw,u.height=a.dh;const c=a.transform;if(!l.build(u,s))return;const{vertices:d,uvs:m,indices:y}=i,x=y.length,h=d.length/2;c&&j0(s,c),l.triangulate(s,d,2,h,y,x);const g=a.image,_=g.uvs;m.push(_.x0,_.y0,_.x1,_.y1,_.x3,_.y3,_.x2,_.y2);const b=tn.get(Y0);b.indexOffset=x,b.indexSize=y.length-x,b.attributeOffset=h,b.attributeSize=d.length/2-h,b.baseColor=a.style,b.alpha=a.alpha,b.texture=g,b.geometryData=i,t.push(b)}function Kg(a,t,i,s,l){const{vertices:u,uvs:c,indices:d}=l;a.shapePrimitives.forEach(({shape:m,transform:y,holes:x})=>{const h=[],g=po[m.type];if(!g.build(m,h))return;const _=d.length,b=u.length/2;let A="triangle-list";if(y&&j0(h,y),i){const C=m.closePath??!0,z=t;z.pixelLine?(iA(h,C,u,d),A="line-list"):nA(h,z,!1,C,u,d)}else if(x){const C=[],z=h.slice();mA(x).forEach(j=>{C.push(z.length/2),z.push(...j)}),V0(z,C,u,2,b,d,_)}else g.triangulate(h,u,2,b,d,_);const S=c.length/2,w=t.texture;if(w!==wt.WHITE){const C=cA(fA,t,m,y);WS(u,2,b,c,S,2,u.length/2-b,C)}else KS(c,S,2,u.length/2-b);const M=tn.get(Y0);M.indexOffset=_,M.indexSize=d.length-_,M.attributeOffset=b,M.attributeSize=u.length/2-b,M.baseColor=t.color,M.alpha=t.alpha,M.texture=w,M.geometryData=l,M.topology=A,s.push(M)})}function mA(a){const t=[];for(let i=0;i<a.length;i++){const s=a[i].shape,l=[];po[s.type].build(s,l)&&t.push(l)}return t}class gA{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class yA{constructor(){this.instructions=new Zy}init(t){const i=t.maxTextures;this.batcher?this.batcher._updateMaxTextures(i):this.batcher=new ZS({maxTextures:i}),this.instructions.reset()}get geometry(){return pt(pb,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const jh=class Th{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){Th.defaultOptions.bezierSmoothness=t?.bezierSmoothness??Th.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let i=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){i?this._cleanGraphicsContextData(t):i=this._initContext(t),dA(t,i);const s=t.batchMode;t.customShader||s==="no-batch"?i.isBatchable=!1:s==="auto"?i.isBatchable=i.geometryData.vertices.length<400:i.isBatchable=!0,t.dirty=!1}return i}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const i=tn.get(yA,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:s,geometryData:l}=this._gpuContextHash[t.uid],u=l.vertices.length,c=l.indices.length;for(let x=0;x<s.length;x++)s[x].applyTransform=!1;const d=i.batcher;d.ensureAttributeBuffer(u),d.ensureIndexBuffer(c),d.begin();for(let x=0;x<s.length;x++){const h=s[x];d.add(h)}d.finish(i.instructions);const m=d.geometry;m.indexBuffer.setDataWithSize(d.indexBuffer,d.indexSize,!0),m.buffers[0].setDataWithSize(d.attributeBuffer.float32View,d.attributeSize,!0);const y=d.batches;for(let x=0;x<y.length;x++){const h=y[x];h.bindGroup=rS(h.textures.textures,h.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[t.uid]=i,i}_initContext(t){const i=new gA;return i.context=t,this._gpuContextHash[t.uid]=i,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const i=this._gpuContextHash[t.uid];i.isBatchable||this._graphicsDataContextHash[t.uid]&&(tn.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),i.batches&&i.batches.forEach(s=>{tn.return(s)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};jh.extension={type:[st.WebGLSystem,st.WebGPUSystem,st.CanvasSystem],name:"graphicsContext"};jh.defaultOptions={bezierSmoothness:.5};let X0=jh;const _A=8,$l=11920929e-14,xA=1;function q0(a,t,i,s,l,u,c,d,m,y){const h=Math.min(.99,Math.max(0,y??X0.defaultOptions.bezierSmoothness));let g=(xA-h)/1;return g*=g,vA(t,i,s,l,u,c,d,m,a,g),a}function vA(a,t,i,s,l,u,c,d,m,y){Mh(a,t,i,s,l,u,c,d,m,y,0),m.push(c,d)}function Mh(a,t,i,s,l,u,c,d,m,y,x){if(x>_A)return;const h=(a+i)/2,g=(t+s)/2,_=(i+l)/2,b=(s+u)/2,A=(l+c)/2,S=(u+d)/2,w=(h+_)/2,M=(g+b)/2,C=(_+A)/2,z=(b+S)/2,I=(w+C)/2,j=(M+z)/2;if(x>0){let L=c-a,Z=d-t;const F=Math.abs((i-c)*Z-(s-d)*L),W=Math.abs((l-c)*Z-(u-d)*L);if(F>$l&&W>$l){if((F+W)*(F+W)<=y*(L*L+Z*Z)){m.push(I,j);return}}else if(F>$l){if(F*F<=y*(L*L+Z*Z)){m.push(I,j);return}}else if(W>$l){if(W*W<=y*(L*L+Z*Z)){m.push(I,j);return}}else if(L=I-(a+c)/2,Z=j-(t+d)/2,L*L+Z*Z<=y){m.push(I,j);return}}Mh(a,t,h,g,w,M,I,j,m,y,x+1),Mh(I,j,C,z,A,S,c,d,m,y,x+1)}const bA=8,SA=11920929e-14,AA=1;function wA(a,t,i,s,l,u,c,d){const y=Math.min(.99,Math.max(0,d??X0.defaultOptions.bezierSmoothness));let x=(AA-y)/1;return x*=x,TA(t,i,s,l,u,c,a,x),a}function TA(a,t,i,s,l,u,c,d){Ch(c,a,t,i,s,l,u,d,0),c.push(l,u)}function Ch(a,t,i,s,l,u,c,d,m){if(m>bA)return;const y=(t+s)/2,x=(i+l)/2,h=(s+u)/2,g=(l+c)/2,_=(y+h)/2,b=(x+g)/2;let A=u-t,S=c-i;const w=Math.abs((s-u)*S-(l-c)*A);if(w>SA){if(w*w<=d*(A*A+S*S)){a.push(_,b);return}}else if(A=_-(t+u)/2,S=b-(i+c)/2,A*A+S*S<=d){a.push(_,b);return}Ch(a,t,i,y,x,_,b,d,m+1),Ch(a,_,b,h,g,u,c,d,m+1)}function F0(a,t,i,s,l,u,c,d){let m=Math.abs(l-u);(!c&&l>u||c&&u>l)&&(m=2*Math.PI-m),d||(d=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(m/Math.PI)))),d=Math.max(d,3);let y=m/d,x=l;y*=c?-1:1;for(let h=0;h<d+1;h++){const g=Math.cos(x),_=Math.sin(x),b=t+g*s,A=i+_*s;a.push(b,A),x+=y}}function MA(a,t,i,s,l,u){const c=a[a.length-2],m=a[a.length-1]-i,y=c-t,x=l-i,h=s-t,g=Math.abs(m*h-y*x);if(g<1e-8||u===0){(a[a.length-2]!==t||a[a.length-1]!==i)&&a.push(t,i);return}const _=m*m+y*y,b=x*x+h*h,A=m*x+y*h,S=u*Math.sqrt(_)/g,w=u*Math.sqrt(b)/g,M=S*A/_,C=w*A/b,z=S*h+w*y,I=S*x+w*m,j=y*(w+M),L=m*(w+M),Z=h*(S+C),F=x*(S+C),W=Math.atan2(L-I,j-z),K=Math.atan2(F-I,Z-z);F0(a,z+t,I+i,u,W,K,y*x>h*m)}const cr=Math.PI*2,sh={centerX:0,centerY:0,ang1:0,ang2:0},ah=({x:a,y:t},i,s,l,u,c,d,m)=>{a*=i,t*=s;const y=l*a-u*t,x=u*a+l*t;return m.x=y+c,m.y=x+d,m};function CA(a,t){const i=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),s=t===1.5707963267948966?.551915024494:i,l=Math.cos(a),u=Math.sin(a),c=Math.cos(a+t),d=Math.sin(a+t);return[{x:l-u*s,y:u+l*s},{x:c+d*s,y:d-c*s},{x:c,y:d}]}const $g=(a,t,i,s)=>{const l=a*s-t*i<0?-1:1;let u=a*i+t*s;return u>1&&(u=1),u<-1&&(u=-1),l*Math.acos(u)},EA=(a,t,i,s,l,u,c,d,m,y,x,h,g)=>{const _=Math.pow(l,2),b=Math.pow(u,2),A=Math.pow(x,2),S=Math.pow(h,2);let w=_*b-_*S-b*A;w<0&&(w=0),w/=_*S+b*A,w=Math.sqrt(w)*(c===d?-1:1);const M=w*l/u*h,C=w*-u/l*x,z=y*M-m*C+(a+i)/2,I=m*M+y*C+(t+s)/2,j=(x-M)/l,L=(h-C)/u,Z=(-x-M)/l,F=(-h-C)/u,W=$g(1,0,j,L);let K=$g(j,L,Z,F);d===0&&K>0&&(K-=cr),d===1&&K<0&&(K+=cr),g.centerX=z,g.centerY=I,g.ang1=W,g.ang2=K};function RA(a,t,i,s,l,u,c,d=0,m=0,y=0){if(u===0||c===0)return;const x=Math.sin(d*cr/360),h=Math.cos(d*cr/360),g=h*(t-s)/2+x*(i-l)/2,_=-x*(t-s)/2+h*(i-l)/2;if(g===0&&_===0)return;u=Math.abs(u),c=Math.abs(c);const b=Math.pow(g,2)/Math.pow(u,2)+Math.pow(_,2)/Math.pow(c,2);b>1&&(u*=Math.sqrt(b),c*=Math.sqrt(b)),EA(t,i,s,l,u,c,m,y,x,h,g,_,sh);let{ang1:A,ang2:S}=sh;const{centerX:w,centerY:M}=sh;let C=Math.abs(S)/(cr/4);Math.abs(1-C)<1e-7&&(C=1);const z=Math.max(Math.ceil(C),1);S/=z;let I=a[a.length-2],j=a[a.length-1];const L={x:0,y:0};for(let Z=0;Z<z;Z++){const F=CA(A,S),{x:W,y:K}=ah(F[0],u,c,h,x,w,M,L),{x:ut,y:mt}=ah(F[1],u,c,h,x,w,M,L),{x:dt,y:$t}=ah(F[2],u,c,h,x,w,M,L);q0(a,I,j,W,K,ut,mt,dt,$t),I=dt,j=$t,A+=S}}function BA(a,t,i){const s=(c,d)=>{const m=d.x-c.x,y=d.y-c.y,x=Math.sqrt(m*m+y*y),h=m/x,g=y/x;return{len:x,nx:h,ny:g}},l=(c,d)=>{c===0?a.moveTo(d.x,d.y):a.lineTo(d.x,d.y)};let u=t[t.length-1];for(let c=0;c<t.length;c++){const d=t[c%t.length],m=d.radius??i;if(m<=0){l(c,d),u=d;continue}const y=t[(c+1)%t.length],x=s(d,u),h=s(d,y);if(x.len<1e-4||h.len<1e-4){l(c,d),u=d;continue}let g=Math.asin(x.nx*h.ny-x.ny*h.nx),_=1,b=!1;x.nx*h.nx-x.ny*-h.ny<0?g<0?g=Math.PI+g:(g=Math.PI-g,_=-1,b=!0):g>0&&(_=-1,b=!0);const A=g/2;let S,w=Math.abs(Math.cos(A)*m/Math.sin(A));w>Math.min(x.len/2,h.len/2)?(w=Math.min(x.len/2,h.len/2),S=Math.abs(w*Math.sin(A)/Math.cos(A))):S=m;const M=d.x+h.nx*w+-h.ny*S*_,C=d.y+h.ny*w+h.nx*S*_,z=Math.atan2(x.ny,x.nx)+Math.PI/2*_,I=Math.atan2(h.ny,h.nx)-Math.PI/2*_;c===0&&a.moveTo(M+Math.cos(z)*S,C+Math.sin(z)*S),a.arc(M,C,S,z,I,b),u=d}}function zA(a,t,i,s){const l=(d,m)=>Math.sqrt((d.x-m.x)**2+(d.y-m.y)**2),u=(d,m,y)=>({x:d.x+(m.x-d.x)*y,y:d.y+(m.y-d.y)*y}),c=t.length;for(let d=0;d<c;d++){const m=t[(d+1)%c],y=m.radius??i;if(y<=0){d===0?a.moveTo(m.x,m.y):a.lineTo(m.x,m.y);continue}const x=t[d],h=t[(d+2)%c],g=l(x,m);let _;if(g<1e-4)_=m;else{const S=Math.min(g/2,y);_=u(m,x,S/g)}const b=l(h,m);let A;if(b<1e-4)A=m;else{const S=Math.min(b/2,y);A=u(m,h,S/b)}d===0?a.moveTo(_.x,_.y):a.lineTo(_.x,_.y),a.quadraticCurveTo(m.x,m.y,A.x,A.y,s)}}const OA=new Xt;class kA{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new cn,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,i){return this.startPoly(t,i),this}lineTo(t,i){this._ensurePoly();const s=this._currentPoly.points,l=s[s.length-2],u=s[s.length-1];return(l!==t||u!==i)&&s.push(t,i),this}arc(t,i,s,l,u,c){this._ensurePoly(!1);const d=this._currentPoly.points;return F0(d,t,i,s,l,u,c),this}arcTo(t,i,s,l,u){this._ensurePoly();const c=this._currentPoly.points;return MA(c,t,i,s,l,u),this}arcToSvg(t,i,s,l,u,c,d){const m=this._currentPoly.points;return RA(m,this._currentPoly.lastX,this._currentPoly.lastY,c,d,t,i,s,l,u),this}bezierCurveTo(t,i,s,l,u,c,d){this._ensurePoly();const m=this._currentPoly;return q0(this._currentPoly.points,m.lastX,m.lastY,t,i,s,l,u,c,d),this}quadraticCurveTo(t,i,s,l,u){this._ensurePoly();const c=this._currentPoly;return wA(this._currentPoly.points,c.lastX,c.lastY,t,i,s,l,u),this}closePath(){return this.endPoly(!0),this}addPath(t,i){this.endPoly(),i&&!i.isIdentity()&&(t=t.clone(!0),t.transform(i));const s=this.shapePrimitives,l=s.length;for(let u=0;u<t.instructions.length;u++){const c=t.instructions[u];this[c.action](...c.data)}if(t.checkForHoles&&s.length-l>1){let u=null;for(let c=l;c<s.length;c++){const d=s[c];if(d.shape.type==="polygon"){const m=d.shape,y=u?.shape;y&&y.containsPolygon(m)?(u.holes||(u.holes=[]),u.holes.push(d),s.copyWithin(c,c+1),s.length--,c--):u=d}}}return this}finish(t=!1){this.endPoly(t)}rect(t,i,s,l,u){return this.drawShape(new Xt(t,i,s,l),u),this}circle(t,i,s,l){return this.drawShape(new Lh(t,i,s),l),this}poly(t,i,s){const l=new or(t);return l.closePath=i,this.drawShape(l,s),this}regularPoly(t,i,s,l,u=0,c){l=Math.max(l|0,3);const d=-1*Math.PI/2+u,m=Math.PI*2/l,y=[];for(let x=0;x<l;x++){const h=d-x*m;y.push(t+s*Math.cos(h),i+s*Math.sin(h))}return this.poly(y,!0,c),this}roundPoly(t,i,s,l,u,c=0,d){if(l=Math.max(l|0,3),u<=0)return this.regularPoly(t,i,s,l,c);const m=s*Math.sin(Math.PI/l)-.001;u=Math.min(u,m);const y=-1*Math.PI/2+c,x=Math.PI*2/l,h=(l-2)*Math.PI/l/2;for(let g=0;g<l;g++){const _=g*x+y,b=t+s*Math.cos(_),A=i+s*Math.sin(_),S=_+Math.PI+h,w=_-Math.PI-h,M=b+u*Math.cos(S),C=A+u*Math.sin(S),z=b+u*Math.cos(w),I=A+u*Math.sin(w);g===0?this.moveTo(M,C):this.lineTo(M,C),this.quadraticCurveTo(b,A,z,I,d)}return this.closePath()}roundShape(t,i,s=!1,l){return t.length<3?this:(s?zA(this,t,i,l):BA(this,t,i),this.closePath())}filletRect(t,i,s,l,u){if(u===0)return this.rect(t,i,s,l);const c=Math.min(s,l)/2,d=Math.min(c,Math.max(-c,u)),m=t+s,y=i+l,x=d<0?-d:0,h=Math.abs(d);return this.moveTo(t,i+h).arcTo(t+x,i+x,t+h,i,h).lineTo(m-h,i).arcTo(m-x,i+x,m,i+h,h).lineTo(m,y-h).arcTo(m-x,y-x,t+s-h,y,h).lineTo(t+h,y).arcTo(t+x,y-x,t,y-h,h).closePath()}chamferRect(t,i,s,l,u,c){if(u<=0)return this.rect(t,i,s,l);const d=Math.min(u,Math.min(s,l)/2),m=t+s,y=i+l,x=[t+d,i,m-d,i,m,i+d,m,y-d,m-d,y,t+d,y,t,y-d,t,i+d];for(let h=x.length-1;h>=2;h-=2)x[h]===x[h-2]&&x[h-1]===x[h-3]&&x.splice(h-1,2);return this.poly(x,!0,c)}ellipse(t,i,s,l,u){return this.drawShape(new Uh(t,i,s,l),u),this}roundRect(t,i,s,l,u,c){return this.drawShape(new Hh(t,i,s,l,u),c),this}drawShape(t,i){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:i}),this}startPoly(t,i){let s=this._currentPoly;return s&&this.endPoly(),s=new or,s.points.push(t,i),this._currentPoly=s,this}endPoly(t=!1){const i=this._currentPoly;return i&&i.points.length>2&&(i.closePath=t,this.shapePrimitives.push({shape:i})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new or,t)){const i=this.shapePrimitives[this.shapePrimitives.length-1];if(i){let s=i.shape.x,l=i.shape.y;if(i.transform&&!i.transform.isIdentity()){const u=i.transform,c=s;s=u.a*s+u.c*l+u.tx,l=u.b*c+u.d*l+u.ty}this._currentPoly.points.push(s,l)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let i=0;i<t.instructions.length;i++){const s=t.instructions[i];this[s.action](...s.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const i=this.shapePrimitives;for(let s=0;s<i.length;s++){const l=i[s],u=l.shape.getBounds(OA);l.transform?t.addRect(u,l.transform):t.addRect(u)}return t}}class In{constructor(t,i=!1){this.instructions=[],this.uid=Zt("graphicsPath"),this._dirty=!0,this.checkForHoles=i,typeof t=="string"?nS(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new kA(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,i){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,i]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,i,s,l,u){const c=this.instructions[this.instructions.length-1],d=this.getLastPoint(ye.shared);let m=0,y=0;if(!c||c.action!=="bezierCurveTo")m=d.x,y=d.y;else{m=c.data[2],y=c.data[3];const x=d.x,h=d.y;m=x+(x-m),y=h+(h-y)}return this.instructions.push({action:"bezierCurveTo",data:[m,y,t,i,s,l,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,i,s){const l=this.instructions[this.instructions.length-1],u=this.getLastPoint(ye.shared);let c=0,d=0;if(!l||l.action!=="quadraticCurveTo")c=u.x,d=u.y;else{c=l.data[0],d=l.data[1];const m=u.x,y=u.y;c=m+(m-c),d=y+(y-d)}return this.instructions.push({action:"quadraticCurveTo",data:[c,d,t,i,s]}),this._dirty=!0,this}rect(t,i,s,l,u){return this.instructions.push({action:"rect",data:[t,i,s,l,u]}),this._dirty=!0,this}circle(t,i,s,l){return this.instructions.push({action:"circle",data:[t,i,s,l]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,i,s,l,u,c,d){u||(u=l/2);const m=-1*Math.PI/2+c,y=s*2,x=Math.PI*2/y,h=[];for(let g=0;g<y;g++){const _=g%2?u:l,b=g*x+m;h.push(t+_*Math.cos(b),i+_*Math.sin(b))}return this.poly(h,!0,d),this}clone(t=!1){const i=new In;if(i.checkForHoles=this.checkForHoles,!t)i.instructions=this.instructions.slice();else for(let s=0;s<this.instructions.length;s++){const l=this.instructions[s];i.instructions.push({action:l.action,data:l.data.slice()})}return i}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const i=t.a,s=t.b,l=t.c,u=t.d,c=t.tx,d=t.ty;let m=0,y=0,x=0,h=0,g=0,_=0,b=0,A=0;for(let S=0;S<this.instructions.length;S++){const w=this.instructions[S],M=w.data;switch(w.action){case"moveTo":case"lineTo":m=M[0],y=M[1],M[0]=i*m+l*y+c,M[1]=s*m+u*y+d;break;case"bezierCurveTo":x=M[0],h=M[1],g=M[2],_=M[3],m=M[4],y=M[5],M[0]=i*x+l*h+c,M[1]=s*x+u*h+d,M[2]=i*g+l*_+c,M[3]=s*g+u*_+d,M[4]=i*m+l*y+c,M[5]=s*m+u*y+d;break;case"quadraticCurveTo":x=M[0],h=M[1],m=M[2],y=M[3],M[0]=i*x+l*h+c,M[1]=s*x+u*h+d,M[2]=i*m+l*y+c,M[3]=s*m+u*y+d;break;case"arcToSvg":m=M[5],y=M[6],b=M[0],A=M[1],M[0]=i*b+l*A,M[1]=s*b+u*A,M[5]=i*m+l*y+c,M[6]=s*m+u*y+d;break;case"circle":M[4]=er(M[3],t);break;case"rect":M[4]=er(M[4],t);break;case"ellipse":M[8]=er(M[8],t);break;case"roundRect":M[5]=er(M[5],t);break;case"addPath":M[0].transform(t);break;case"poly":M[2]=er(M[2],t);break;default:Pt("unknown transform action",w.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let i=this.instructions.length-1,s=this.instructions[i];if(!s)return t.x=0,t.y=0,t;for(;s.action==="closePath";){if(i--,i<0)return t.x=0,t.y=0,t;s=this.instructions[i]}switch(s.action){case"moveTo":case"lineTo":t.x=s.data[0],t.y=s.data[1];break;case"quadraticCurveTo":t.x=s.data[2],t.y=s.data[3];break;case"bezierCurveTo":t.x=s.data[4],t.y=s.data[5];break;case"arc":case"arcToSvg":t.x=s.data[5],t.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(t);break}return t}}function er(a,t){return a?a.prepend(t):t.clone()}function Qt(a,t,i){const s=a.getAttribute(t);return s?Number(s):i}function DA(a,t){const i=a.querySelectorAll("defs");for(let s=0;s<i.length;s++){const l=i[s];for(let u=0;u<l.children.length;u++){const c=l.children[u];switch(c.nodeName.toLowerCase()){case"lineargradient":t.defs[c.id]=NA(c);break;case"radialgradient":t.defs[c.id]=GA();break}}}}function NA(a){const t=Qt(a,"x1",0),i=Qt(a,"y1",0),s=Qt(a,"x2",1),l=Qt(a,"y2",0),u=a.getAttribute("gradientUnits")||"objectBoundingBox",c=new Qn(t,i,s,l,u==="objectBoundingBox"?"local":"global");for(let d=0;d<a.children.length;d++){const m=a.children[d],y=Qt(m,"offset",0),x=ie.shared.setValue(m.getAttribute("stop-color")).toNumber();c.addColorStop(y,x)}return c}function GA(a){return Pt("[SVG Parser] Radial gradients are not yet supported"),new Qn(0,0,1,0)}function Jg(a){const t=a.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const ty={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function I0(a,t){const i=a.getAttribute("style"),s={},l={},u={strokeStyle:s,fillStyle:l,useFill:!1,useStroke:!1};for(const c in ty){const d=a.getAttribute(c);d&&ey(t,u,c,d.trim())}if(i){const c=i.split(";");for(let d=0;d<c.length;d++){const m=c[d].trim(),[y,x]=m.split(":");ty[y]&&ey(t,u,y,x.trim())}}return{strokeStyle:u.useStroke?s:null,fillStyle:u.useFill?l:null,useFill:u.useFill,useStroke:u.useStroke}}function ey(a,t,i,s){switch(i){case"stroke":if(s!=="none"){if(s.startsWith("url(")){const l=Jg(s);t.strokeStyle.fill=a.defs[l]}else t.strokeStyle.color=ie.shared.setValue(s).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(s);break;case"fill":if(s!=="none"){if(s.startsWith("url(")){const l=Jg(s);t.fillStyle.fill=a.defs[l]}else t.fillStyle.color=ie.shared.setValue(s).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(s);break;case"stroke-opacity":t.strokeStyle.alpha=Number(s);break;case"opacity":t.fillStyle.alpha=Number(s),t.strokeStyle.alpha=Number(s);break}}function LA(a){if(a.length<=2)return!0;const t=a.map(d=>d.area).sort((d,m)=>m-d),[i,s]=t,l=t[t.length-1],u=i/s,c=s/l;return!(u>3&&c<2)}function UA(a){return a.split(/(?=[Mm])/).filter(s=>s.trim().length>0)}function HA(a){const t=a.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!t||t.length<4)return 0;const i=t.map(Number),s=[],l=[];for(let x=0;x<i.length;x+=2)x+1<i.length&&(s.push(i[x]),l.push(i[x+1]));if(s.length===0||l.length===0)return 0;const u=Math.min(...s),c=Math.max(...s),d=Math.min(...l),m=Math.max(...l);return(c-u)*(m-d)}function ny(a,t){const i=new In(a,!1);for(const s of i.instructions)t.instructions.push(s)}function jA(a,t){if(typeof a=="string"){const c=document.createElement("div");c.innerHTML=a.trim(),a=c.querySelector("svg")}const i={context:t,defs:{},path:new In};DA(a,i);const s=a.children,{fillStyle:l,strokeStyle:u}=I0(a,i);for(let c=0;c<s.length;c++){const d=s[c];d.nodeName.toLowerCase()!=="defs"&&Q0(d,i,l,u)}return t}function Q0(a,t,i,s){const l=a.children,{fillStyle:u,strokeStyle:c}=I0(a,t);u&&i?i={...i,...u}:u&&(i=u),c&&s?s={...s,...c}:c&&(s=c);const d=!i&&!s;d&&(i={color:0});let m,y,x,h,g,_,b,A,S,w,M,C,z,I,j,L,Z;switch(a.nodeName.toLowerCase()){case"path":{I=a.getAttribute("d");const F=a.getAttribute("fill-rule"),W=UA(I),K=F==="evenodd",ut=W.length>1;if(K&&ut){const dt=W.map(O=>({path:O,area:HA(O)}));if(dt.sort((O,P)=>P.area-O.area),W.length>3||!LA(dt))for(let O=0;O<dt.length;O++){const P=dt[O],at=O===0;t.context.beginPath();const et=new In(void 0,!0);ny(P.path,et),t.context.path(et),at?(i&&t.context.fill(i),s&&t.context.stroke(s)):t.context.cut()}else for(let O=0;O<dt.length;O++){const P=dt[O],at=O%2===1;t.context.beginPath();const et=new In(void 0,!0);ny(P.path,et),t.context.path(et),at?t.context.cut():(i&&t.context.fill(i),s&&t.context.stroke(s))}}else{const dt=F?F==="evenodd":!0;j=new In(I,dt),t.context.path(j),i&&t.context.fill(i),s&&t.context.stroke(s)}break}case"circle":b=Qt(a,"cx",0),A=Qt(a,"cy",0),S=Qt(a,"r",0),t.context.ellipse(b,A,S,S),i&&t.context.fill(i),s&&t.context.stroke(s);break;case"rect":m=Qt(a,"x",0),y=Qt(a,"y",0),L=Qt(a,"width",0),Z=Qt(a,"height",0),w=Qt(a,"rx",0),M=Qt(a,"ry",0),w||M?t.context.roundRect(m,y,L,Z,w||M):t.context.rect(m,y,L,Z),i&&t.context.fill(i),s&&t.context.stroke(s);break;case"ellipse":b=Qt(a,"cx",0),A=Qt(a,"cy",0),w=Qt(a,"rx",0),M=Qt(a,"ry",0),t.context.beginPath(),t.context.ellipse(b,A,w,M),i&&t.context.fill(i),s&&t.context.stroke(s);break;case"line":x=Qt(a,"x1",0),h=Qt(a,"y1",0),g=Qt(a,"x2",0),_=Qt(a,"y2",0),t.context.beginPath(),t.context.moveTo(x,h),t.context.lineTo(g,_),s&&t.context.stroke(s);break;case"polygon":z=a.getAttribute("points"),C=z.match(/\d+/g).map(F=>parseInt(F,10)),t.context.poly(C,!0),i&&t.context.fill(i),s&&t.context.stroke(s);break;case"polyline":z=a.getAttribute("points"),C=z.match(/\d+/g).map(F=>parseInt(F,10)),t.context.poly(C,!1),s&&t.context.stroke(s);break;case"g":case"svg":break;default:{Pt(`[SVG parser] <${a.nodeName}> elements unsupported`);break}}d&&(i=null);for(let F=0;F<l.length;F++)Q0(l[F],t,i,s)}function YA(a){return ie.isColorLike(a)}function iy(a){return a instanceof fo}function sy(a){return a instanceof Qn}function PA(a){return a instanceof wt}function VA(a,t,i){const s=ie.shared.setValue(t??0);return a.color=s.toNumber(),a.alpha=s.alpha===1?i.alpha:s.alpha,a.texture=wt.WHITE,{...i,...a}}function XA(a,t,i){return a.texture=t,{...i,...a}}function ay(a,t,i){return a.fill=t,a.color=16777215,a.texture=t.texture,a.matrix=t.transform,{...i,...a}}function ry(a,t,i){return t.buildGradient(),a.fill=t,a.color=16777215,a.texture=t.texture,a.matrix=t.transform,a.textureSpace=t.textureSpace,{...i,...a}}function qA(a,t){const i={...t,...a},s=ie.shared.setValue(i.color);return i.alpha*=s.alpha,i.color=s.toNumber(),i}function Ki(a,t){if(a==null)return null;const i={},s=a;return YA(a)?VA(i,a,t):PA(a)?XA(i,a,t):iy(a)?ay(i,a,t):sy(a)?ry(i,a,t):s.fill&&iy(s.fill)?ay(s,s.fill,t):s.fill&&sy(s.fill)?ry(s,s.fill,t):qA(s,t)}function oo(a,t){const{width:i,alignment:s,miterLimit:l,cap:u,join:c,pixelLine:d,...m}=t,y=Ki(a,m);return y?{width:i,alignment:s,miterLimit:l,cap:u,join:c,pixelLine:d,...y}:null}const FA=new ye,ly=new bt,Yh=class wn extends hn{constructor(){super(...arguments),this.uid=Zt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new In,this._transform=new bt,this._fillStyle={...wn.defaultFillStyle},this._strokeStyle={...wn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new cn,this._boundsDirty=!0}clone(){const t=new wn;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Ki(t,wn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=oo(t,wn.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Ki(t,wn.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Ki(t,wn.defaultStrokeStyle),this}texture(t,i,s,l,u,c){return this.instructions.push({action:"texture",data:{image:t,dx:s||0,dy:l||0,dw:u||t.frame.width,dh:c||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:i?ie.shared.setValue(i).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new In,this}fill(t,i){let s;const l=this.instructions[this.instructions.length-1];return this._tick===0&&l?.action==="stroke"?s=l.data.path:s=this._activePath.clone(),s?(t!=null&&(i!==void 0&&typeof t=="number"&&(pt(zt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:i}),this._fillStyle=Ki(t,wn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:i}=this._activePath.getLastPoint(ye.shared);this._activePath.clear(),this._activePath.moveTo(t,i)}stroke(t){let i;const s=this.instructions[this.instructions.length-1];return this._tick===0&&s?.action==="fill"?i=s.data.path:i=this._activePath.clone(),i?(t!=null&&(this._strokeStyle=oo(t,wn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const i=this.instructions[this.instructions.length-1-t],s=this._activePath.clone();if(i&&(i.action==="stroke"||i.action==="fill"))if(i.data.hole)i.data.hole.addPath(s);else{i.data.hole=s;break}}return this._initNextPathLocation(),this}arc(t,i,s,l,u,c){this._tick++;const d=this._transform;return this._activePath.arc(d.a*t+d.c*i+d.tx,d.b*t+d.d*i+d.ty,s,l,u,c),this}arcTo(t,i,s,l,u){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*t+c.c*i+c.tx,c.b*t+c.d*i+c.ty,c.a*s+c.c*l+c.tx,c.b*s+c.d*l+c.ty,u),this}arcToSvg(t,i,s,l,u,c,d){this._tick++;const m=this._transform;return this._activePath.arcToSvg(t,i,s,l,u,m.a*c+m.c*d+m.tx,m.b*c+m.d*d+m.ty),this}bezierCurveTo(t,i,s,l,u,c,d){this._tick++;const m=this._transform;return this._activePath.bezierCurveTo(m.a*t+m.c*i+m.tx,m.b*t+m.d*i+m.ty,m.a*s+m.c*l+m.tx,m.b*s+m.d*l+m.ty,m.a*u+m.c*c+m.tx,m.b*u+m.d*c+m.ty,d),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,i,s,l){return this._tick++,this._activePath.ellipse(t,i,s,l,this._transform.clone()),this}circle(t,i,s){return this._tick++,this._activePath.circle(t,i,s,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,i){this._tick++;const s=this._transform;return this._activePath.lineTo(s.a*t+s.c*i+s.tx,s.b*t+s.d*i+s.ty),this}moveTo(t,i){this._tick++;const s=this._transform,l=this._activePath.instructions,u=s.a*t+s.c*i+s.tx,c=s.b*t+s.d*i+s.ty;return l.length===1&&l[0].action==="moveTo"?(l[0].data[0]=u,l[0].data[1]=c,this):(this._activePath.moveTo(u,c),this)}quadraticCurveTo(t,i,s,l,u){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*t+c.c*i+c.tx,c.b*t+c.d*i+c.ty,c.a*s+c.c*l+c.tx,c.b*s+c.d*l+c.ty,u),this}rect(t,i,s,l){return this._tick++,this._activePath.rect(t,i,s,l,this._transform.clone()),this}roundRect(t,i,s,l,u){return this._tick++,this._activePath.roundRect(t,i,s,l,u,this._transform.clone()),this}poly(t,i){return this._tick++,this._activePath.poly(t,i,this._transform.clone()),this}regularPoly(t,i,s,l,u=0,c){return this._tick++,this._activePath.regularPoly(t,i,s,l,u,c),this}roundPoly(t,i,s,l,u,c){return this._tick++,this._activePath.roundPoly(t,i,s,l,u,c),this}roundShape(t,i,s,l){return this._tick++,this._activePath.roundShape(t,i,s,l),this}filletRect(t,i,s,l,u){return this._tick++,this._activePath.filletRect(t,i,s,l,u),this}chamferRect(t,i,s,l,u,c){return this._tick++,this._activePath.chamferRect(t,i,s,l,u,c),this}star(t,i,s,l,u=0,c=0){return this._tick++,this._activePath.star(t,i,s,l,u,c,this._transform.clone()),this}svg(t){return this._tick++,jA(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,i=t){return this._transform.scale(t,i),this}setTransform(t,i,s,l,u,c){return t instanceof bt?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,i,s,l,u,c),this)}transform(t,i,s,l,u,c){return t instanceof bt?(this._transform.append(t),this):(ly.set(t,i,s,l,u,c),this._transform.append(ly),this)}translate(t,i=t){return this._transform.translate(t,i),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const t=this._bounds;t.clear();for(let i=0;i<this.instructions.length;i++){const s=this.instructions[i],l=s.action;if(l==="fill"){const u=s.data;t.addBounds(u.path.bounds)}else if(l==="texture"){const u=s.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(l==="stroke"){const u=s.data,c=u.style.alignment,d=u.style.width*(1-c),m=u.path.bounds;t.addFrame(m.minX-d,m.minY-d,m.maxX+d,m.maxY+d)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const i=this.instructions;let s=!1;for(let l=0;l<i.length;l++){const u=i[l],c=u.data,d=c.path;if(!u.action||!d)continue;const m=c.style,y=d.shapePath.shapePrimitives;for(let x=0;x<y.length;x++){const h=y[x].shape;if(!m||!h)continue;const g=y[x].transform,_=g?g.applyInverse(t,FA):t;if(u.action==="fill")s=h.contains(_.x,_.y);else{const A=m;s=h.strokeContains(_.x,_.y,A.width,A.alignment)}const b=c.hole;if(b){const A=b.shapePath?.shapePrimitives;if(A)for(let S=0;S<A.length;S++)A[S].shape.contains(_.x,_.y)&&(s=!1)}if(s)return!0}}return s}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(s)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(s))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Yh.defaultFillStyle={color:16777215,alpha:1,texture:wt.WHITE,matrix:null,fill:null,textureSpace:"local"};Yh.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:wt.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let $e=Yh;const Ph=class js extends hn{constructor(t={}){super(),this.uid=Zt("textStyle"),this._tick=0,IA(t);const i={...js.defaultTextStyle,...t};for(const s in i){const l=s;this[l]=i[s]}this.update(),this._tick=0}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.update())}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...js.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...js.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily!==t&&(this._fontFamily=t,this.update())}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.update())}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.update())}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.update())}get filters(){return this._filters}set filters(t){this._filters!==t&&(this._filters=Object.freeze(t),this.update())}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.update())}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...$e.defaultFillStyle,...t},()=>{this._fill=Ki({...this._originalFill},$e.defaultFillStyle)})),this._fill=Ki(t===0?"black":t,$e.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...$e.defaultStrokeStyle,...t},()=>{this._stroke=oo({...this._originalStroke},$e.defaultStrokeStyle)})),this._stroke=oo(t,$e.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const t=js.defaultTextStyle;for(const i in t)this[i]=t[i]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new js({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let i=0;i<this._filters.length;i++)t+=this._filters[i].padding;return Math.max(this._padding,t)}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const s=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(s),this._originalFill?.texture&&this._originalFill.texture.destroy(s),this._stroke?.texture&&this._stroke.texture.destroy(s),this._originalStroke?.texture&&this._originalStroke.texture.destroy(s)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,i){return new Proxy(t,{set:(s,l,u)=>(s[l]===u||(s[l]=u,i?.(l,u),this.update()),!0)})}_isFillStyle(t){return(t??null)!==null&&!(ie.isColorLike(t)||t instanceof Qn||t instanceof fo)}};Ph.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Ph.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Qs=Ph;function IA(a){const t=a;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const i=Qs.defaultDropShadow;a.dropShadow={alpha:t.dropShadowAlpha??i.alpha,angle:t.dropShadowAngle??i.angle,blur:t.dropShadowBlur??i.blur,color:t.dropShadowColor??i.color,distance:t.dropShadowDistance??i.distance}}if(t.strokeThickness!==void 0){pt(zt,"strokeThickness is now a part of stroke");const i=t.stroke;let s={};if(ie.isColorLike(i))s.color=i;else if(i instanceof Qn||i instanceof fo)s.fill=i;else if(Object.hasOwnProperty.call(i,"color")||Object.hasOwnProperty.call(i,"fill"))s=i;else throw new Error("Invalid stroke value.");a.stroke={...s,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){if(pt(zt,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(t.fill)||t.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");t.fill.length!==t.fillGradientStops.length&&Pt("The number of fill colors must match the number of fill gradient stops.");const i=new Qn({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),s=t.fillGradientStops.slice(),l=t.fill.map(u=>ie.shared.setValue(u).toNumber());s.forEach((u,c)=>{i.addColorStop(u,l[c])}),a.fill={fill:i}}}class QA{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,i){const s=Ut.get().createCanvas();s.width=t,s.height=i;const l=s.getContext("2d");return{canvas:s,context:l}}getOptimalCanvasAndContext(t,i,s=1){t=Math.ceil(t*s-1e-6),i=Math.ceil(i*s-1e-6),t=Xs(t),i=Xs(i);const l=(t<<17)+(i<<1);this._canvasPool[l]||(this._canvasPool[l]=[]);let u=this._canvasPool[l].pop();return u||(u=this._createCanvasAndContext(t,i)),u}returnCanvasAndContext(t){const i=t.canvas,{width:s,height:l}=i,u=(s<<17)+(l<<1);t.context.resetTransform(),t.context.clearRect(0,0,s,l),this._canvasPool[u].push(t)}clear(){this._canvasPool={}}}const gr=new QA;yr.register(gr);const oy=1e5;function uo(a,t,i,s=0){if(a.texture===wt.WHITE&&!a.fill)return ie.shared.setValue(a.color).setAlpha(a.alpha??1).toHexa();if(a.fill){if(a.fill instanceof fo){const l=a.fill,u=t.createPattern(l.texture.source.resource,"repeat"),c=l.transform.copyTo(bt.shared);return c.scale(l.texture.frame.width,l.texture.frame.height),u.setTransform(c),u}else if(a.fill instanceof Qn){const l=a.fill,u=l.type==="linear",c=l.textureSpace==="local";let d=1,m=1;c&&i&&(d=i.width+s,m=i.height+s);let y,x=!1;if(u){const{start:h,end:g}=l;y=t.createLinearGradient(h.x*d,h.y*m,g.x*d,g.y*m),x=Math.abs(g.x-h.x)<Math.abs((g.y-h.y)*.1)}else{const{center:h,innerRadius:g,outerCenter:_,outerRadius:b}=l;y=t.createRadialGradient(h.x*d,h.y*m,g*d,_.x*d,_.y*m,b*d)}if(x&&c&&i){const h=i.lineHeight/m;for(let g=0;g<i.lines.length;g++){const _=(g*i.lineHeight+s/2)/m;l.colorStops.forEach(b=>{const A=_+b.offset*h;y.addColorStop(Math.floor(A*oy)/oy,ie.shared.setValue(b.color).toHex())})}}else l.colorStops.forEach(h=>{y.addColorStop(h.offset,ie.shared.setValue(h.color).toHex())});return y}}else{const l=t.createPattern(a.texture.source.resource,"repeat"),u=a.matrix.copyTo(bt.shared);return u.scale(a.texture.frame.width,a.texture.frame.height),l.setTransform(u),l}return Pt("FillStyle not recognised",a),"red"}const Z0=class W0 extends B0{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const i={...W0.defaultOptions,...t};this._textureSize=i.textureSize,this._mipmap=i.mipmap;const s=i.style.clone();i.overrideFill&&(s._fill.color=16777215,s._fill.alpha=1,s._fill.texture=wt.WHITE,s._fill.fill=null),this.applyFillAsTint=i.overrideFill;const l=s.fontSize;s.fontSize=this.baseMeasurementFontSize;const u=ro(s);i.overrideSize?s._stroke&&(s._stroke.width*=this.baseRenderedFontSize/l):s.fontSize=this.baseRenderedFontSize=l,this._style=s,this._skipKerning=i.skipKerning??!1,this.resolution=i.resolution??1,this._padding=i.padding??4,i.textureStyle&&(this._textureStyle=i.textureStyle instanceof qs?i.textureStyle:new qs(i.textureStyle)),this.fontMetrics=Tn.measureFont(u),this.lineHeight=s.lineHeight||this.fontMetrics.fontSize||s.fontSize}ensureCharacters(t){const i=Tn.graphemeSegmenter(t).filter(S=>!this._currentChars.includes(S)).filter((S,w,M)=>M.indexOf(S)===w);if(!i.length)return;this._currentChars=[...this._currentChars,...i];let s;this._currentPageIndex===-1?s=this._nextPage():s=this.pages[this._currentPageIndex];let{canvas:l,context:u}=s.canvasAndContext,c=s.texture.source;const d=this._style;let m=this._currentX,y=this._currentY,x=this._currentMaxCharHeight;const h=this.baseRenderedFontSize/this.baseMeasurementFontSize,g=this._padding*h;let _=!1;const b=l.width/this.resolution,A=l.height/this.resolution;for(let S=0;S<i.length;S++){const w=i[S],M=Tn.measureText(w,d,l,!1);M.lineHeight=M.height;const C=M.width*h,z=Math.ceil((d.fontStyle==="italic"?2:1)*C),I=M.height*h,j=z+g*2,L=I+g*2;if(_=!1,w!==`
`&&w!=="\r"&&w!=="	"&&w!==" "&&(_=!0,x=Math.ceil(Math.max(L,x))),m+j>b&&(y+=x,x=L,m=0,y+x>A)){c.update();const F=this._nextPage();l=F.canvasAndContext.canvas,u=F.canvasAndContext.context,c=F.texture.source,m=0,y=0,x=0}const Z=C/h-(d.dropShadow?.distance??0)-(d._stroke?.width??0);if(this.chars[w]={id:w.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:Z,kerning:{}},_){this._drawGlyph(u,M,m+g,y+g,h,d);const F=c.width*h,W=c.height*h,K=new Xt(m/F*c.width,y/W*c.height,j/F*c.width,L/W*c.height);this.chars[w].texture=new wt({source:c,frame:K}),m+=Math.ceil(j)}}c.update(),this._currentX=m,this._currentY=y,this._currentMaxCharHeight=x,this._skipKerning&&this._applyKerning(i,u)}get pageTextures(){return pt(zt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,i){const s=this._measureCache;for(let l=0;l<t.length;l++){const u=t[l];for(let c=0;c<this._currentChars.length;c++){const d=this._currentChars[c];let m=s[u];m||(m=s[u]=i.measureText(u).width);let y=s[d];y||(y=s[d]=i.measureText(d).width);let x=i.measureText(u+d).width,h=x-(m+y);h&&(this.chars[u].kerning[d]=h),x=i.measureText(u+d).width,h=x-(m+y),h&&(this.chars[d].kerning[u]=h)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,i=gr.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(i.context,this._style,t);const s=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),l=new wt({source:new Ji({resource:i.canvas,resolution:s,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(l.source.style=this._textureStyle);const u={canvasAndContext:i,texture:l};return this.pages[this._currentPageIndex]=u,u}_setupContext(t,i,s){i.fontSize=this.baseRenderedFontSize,t.scale(s,s),t.font=ro(i),i.fontSize=this.baseMeasurementFontSize,t.textBaseline=i.textBaseline;const l=i._stroke,u=l?.width??0;if(l&&(t.lineWidth=u,t.lineJoin=l.join,t.miterLimit=l.miterLimit,t.strokeStyle=uo(l,t)),i._fill&&(t.fillStyle=uo(i._fill,t)),i.dropShadow){const c=i.dropShadow,d=ie.shared.setValue(c.color).toArray(),m=c.blur*s,y=c.distance*s;t.shadowColor=`rgba(${d[0]*255},${d[1]*255},${d[2]*255},${c.alpha})`,t.shadowBlur=m,t.shadowOffsetX=Math.cos(c.angle)*y,t.shadowOffsetY=Math.sin(c.angle)*y}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,i,s,l,u,c){const d=i.text,m=i.fontProperties,x=(c._stroke?.width??0)*u,h=s+x/2,g=l-x/2,_=m.descent*u,b=i.lineHeight*u;let A=!1;c.stroke&&x&&(A=!0,t.strokeText(d,h,g+b-_));const{shadowBlur:S,shadowOffsetX:w,shadowOffsetY:M}=t;c._fill&&(A&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),t.fillText(d,h,g+b-_)),A&&(t.shadowBlur=S,t.shadowOffsetX=w,t.shadowOffsetY=M)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:i,texture:s}=this.pages[t];gr.returnCanvasAndContext(i),s.destroy(!0)}this.pages=null}};Z0.defaultOptions={textureSize:512,style:new Qs,mipmap:!0};let uy=Z0;function ZA(a,t,i,s){const l={width:0,height:0,offsetY:0,scale:t.fontSize/i.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};l.offsetY=i.baseLineOffset;let u=l.lines[0],c=null,d=!0;const m={width:0,start:0,index:0,positions:[],chars:[]},y=i.baseMeasurementFontSize/t.fontSize,x=t.letterSpacing*y,h=t.wordWrapWidth*y,g=t.lineHeight?t.lineHeight*y:i.lineHeight,_=t.wordWrap&&t.breakWords,b=w=>{const M=u.width;for(let C=0;C<m.index;C++){const z=w.positions[C];u.chars.push(w.chars[C]),u.charPositions.push(z+M)}u.width+=w.width,d=!1,m.width=0,m.index=0,m.chars.length=0},A=()=>{let w=u.chars.length-1;if(s){let M=u.chars[w];for(;M===" ";)u.width-=i.chars[M].xAdvance,M=u.chars[--w]}l.width=Math.max(l.width,u.width),u={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},d=!0,l.lines.push(u),l.height+=g},S=w=>w-x>h;for(let w=0;w<a.length+1;w++){let M;const C=w===a.length;C||(M=a[w]);const z=i.chars[M]||i.chars[" "];if(/(?:\s)/.test(M)||M==="\r"||M===`
`||C){if(!d&&t.wordWrap&&S(u.width+m.width)?(A(),b(m),C||u.charPositions.push(0)):(m.start=u.width,b(m),C||u.charPositions.push(0)),M==="\r"||M===`
`)A();else if(!C){const Z=z.xAdvance+(z.kerning[c]||0)+x;u.width+=Z,u.spaceWidth=Z,u.spacesIndex.push(u.charPositions.length),u.chars.push(M)}}else{const L=z.kerning[c]||0,Z=z.xAdvance+L+x;_&&S(u.width+m.width+Z)&&(b(m),A()),m.positions[m.index++]=m.width+L,m.chars.push(M),m.width+=Z}c=M}return A(),t.align==="center"?WA(l):t.align==="right"?KA(l):t.align==="justify"&&$A(l),l}function WA(a){for(let t=0;t<a.lines.length;t++){const i=a.lines[t],s=a.width/2-i.width/2;for(let l=0;l<i.charPositions.length;l++)i.charPositions[l]+=s}}function KA(a){for(let t=0;t<a.lines.length;t++){const i=a.lines[t],s=a.width-i.width;for(let l=0;l<i.charPositions.length;l++)i.charPositions[l]+=s}}function $A(a){const t=a.width;for(let i=0;i<a.lines.length;i++){const s=a.lines[i];let l=0,u=s.spacesIndex[l++],c=0;const d=s.spacesIndex.length,y=(t-s.width)/d;for(let x=0;x<s.charPositions.length;x++)x===u&&(u=s.spacesIndex[l++],c+=y),s.charPositions[x]+=c}}function JA(a){if(a==="")return[];typeof a=="string"&&(a=[a]);const t=[];for(let i=0,s=a.length;i<s;i++){const l=a[i];if(Array.isArray(l)){if(l.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${l.length}.`);if(l[0].length===0||l[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const u=l[0].charCodeAt(0),c=l[1].charCodeAt(0);if(c<u)throw new Error("[BitmapFont]: Invalid character range.");for(let d=u,m=c;d<=m;d++)t.push(String.fromCharCode(d))}else t.push(...Array.from(l))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}let Jl=0;class tw{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null},this.measureCache=z0(1e3)}getFont(t,i){let s=`${i.fontFamily}-bitmap`,l=!0;if(i._fill.fill&&!i._stroke?(s+=i._fill.fill.styleKey,l=!1):(i._stroke||i.dropShadow)&&(s=`${i.styleKey}-bitmap`,l=!1),!Yt.has(s)){const c=Object.create(i);c.lineHeight=0;const d=new uy({style:c,overrideFill:l,overrideSize:!0,...this.defaultOptions});Jl++,Jl>50&&Pt("BitmapText",`You have dynamically created ${Jl} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),d.once("destroy",()=>{Jl--,Yt.remove(s)}),Yt.set(s,d)}const u=Yt.get(s);return u.ensureCharacters?.(t),u}getLayout(t,i,s=!0){const l=this.getFont(t,i),u=`${t}-${i.styleKey}-${s}`;if(this.measureCache.has(u))return this.measureCache.get(u);const c=Tn.graphemeSegmenter(t),d=ZA(c,i,l,s);return this.measureCache.set(u,d),d}measureText(t,i,s=!0){return this.getLayout(t,i,s)}install(...t){let i=t[0];typeof i=="string"&&(i={name:i,style:t[1],chars:t[2]?.chars,resolution:t[2]?.resolution,padding:t[2]?.padding,skipKerning:t[2]?.skipKerning},pt(zt,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const s=i?.name;if(!s)throw new Error("[BitmapFontManager] Property `name` is required.");i={...this.defaultOptions,...i};const l=i.style,u=l instanceof Qs?l:new Qs(l),c=i.dynamicFill??this._canUseTintForStyle(u),d=new uy({style:u,overrideFill:c,skipKerning:i.skipKerning,padding:i.padding,resolution:i.resolution,overrideSize:!1,textureStyle:i.textureStyle}),m=JA(i.chars);return d.ensureCharacters(m.join("")),Yt.set(`${s}-bitmap`,d),d.once("destroy",()=>Yt.remove(`${s}-bitmap`)),d}uninstall(t){const i=`${t}-bitmap`,s=Yt.get(i);s&&s.destroy()}_canUseTintForStyle(t){return!t._stroke&&(!t.dropShadow||t.dropShadow.color===0)&&!t._fill.fill&&t._fill.color===16777215}}const cy=new tw;class K0 extends B0{constructor(t,i){super();const{textures:s,data:l}=t;Object.keys(l.pages).forEach(u=>{const c=l.pages[parseInt(u,10)],d=s[c.id];this.pages.push({texture:d})}),Object.keys(l.chars).forEach(u=>{const c=l.chars[u],{frame:d,source:m,rotate:y}=s[c.page],x=Nt.transformRectCoords(c,d,y,new Xt),h=new wt({frame:x,orig:new Xt(0,0,c.width,c.height),source:m,rotate:y});this.chars[u]={id:u.codePointAt(0),xOffset:c.xOffset,yOffset:c.yOffset,xAdvance:c.xAdvance,kerning:c.kerning??{},texture:h}}),this.baseRenderedFontSize=l.fontSize,this.baseMeasurementFontSize=l.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:l.fontSize},this.baseLineOffset=l.baseLineOffset,this.lineHeight=l.lineHeight,this.fontFamily=l.fontFamily,this.distanceField=l.distanceField??{type:"none",range:0},this.url=i}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:i}=this.pages[t];i.destroy(!0)}this.pages=null}static install(t){cy.install(t)}static uninstall(t){cy.uninstall(t)}}const rh={test(a){return typeof a=="string"&&a.startsWith("info face=")},parse(a){const t=a.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const h in t){const g=t[h].match(/^[a-z]+/gm)[0],_=t[h].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),b={};for(const A in _){const S=_[A].split("="),w=S[0],M=S[1].replace(/"/gm,""),C=parseFloat(M),z=isNaN(C)?M:C;b[w]=z}i[g].push(b)}const s={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[l]=i.info,[u]=i.common,[c]=i.distanceField??[];c&&(s.distanceField={range:parseInt(c.distanceRange,10),type:c.fieldType}),s.fontSize=parseInt(l.size,10),s.fontFamily=l.face,s.lineHeight=parseInt(u.lineHeight,10);const d=i.page;for(let h=0;h<d.length;h++)s.pages.push({id:parseInt(d[h].id,10)||0,file:d[h].file});const m={};s.baseLineOffset=s.lineHeight-parseInt(u.base,10);const y=i.char;for(let h=0;h<y.length;h++){const g=y[h],_=parseInt(g.id,10);let b=g.letter??g.char??String.fromCharCode(_);b==="space"&&(b=" "),m[_]=b,s.chars[b]={id:_,page:parseInt(g.page,10)||0,x:parseInt(g.x,10),y:parseInt(g.y,10),width:parseInt(g.width,10),height:parseInt(g.height,10),xOffset:parseInt(g.xoffset,10),yOffset:parseInt(g.yoffset,10),xAdvance:parseInt(g.xadvance,10),kerning:{}}}const x=i.kerning||[];for(let h=0;h<x.length;h++){const g=parseInt(x[h].first,10),_=parseInt(x[h].second,10),b=parseInt(x[h].amount,10);s.chars[m[_]].kerning[m[g]]=b}return s}},hy={test(a){const t=a;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(a){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},i=a.getElementsByTagName("info")[0],s=a.getElementsByTagName("common")[0],l=a.getElementsByTagName("distanceField")[0];l&&(t.distanceField={type:l.getAttribute("fieldType"),range:parseInt(l.getAttribute("distanceRange"),10)});const u=a.getElementsByTagName("page"),c=a.getElementsByTagName("char"),d=a.getElementsByTagName("kerning");t.fontSize=parseInt(i.getAttribute("size"),10),t.fontFamily=i.getAttribute("face"),t.lineHeight=parseInt(s.getAttribute("lineHeight"),10);for(let y=0;y<u.length;y++)t.pages.push({id:parseInt(u[y].getAttribute("id"),10)||0,file:u[y].getAttribute("file")});const m={};t.baseLineOffset=t.lineHeight-parseInt(s.getAttribute("base"),10);for(let y=0;y<c.length;y++){const x=c[y],h=parseInt(x.getAttribute("id"),10);let g=x.getAttribute("letter")??x.getAttribute("char")??String.fromCharCode(h);g==="space"&&(g=" "),m[h]=g,t.chars[g]={id:h,page:parseInt(x.getAttribute("page"),10)||0,x:parseInt(x.getAttribute("x"),10),y:parseInt(x.getAttribute("y"),10),width:parseInt(x.getAttribute("width"),10),height:parseInt(x.getAttribute("height"),10),xOffset:parseInt(x.getAttribute("xoffset"),10),yOffset:parseInt(x.getAttribute("yoffset"),10),xAdvance:parseInt(x.getAttribute("xadvance"),10),kerning:{}}}for(let y=0;y<d.length;y++){const x=parseInt(d[y].getAttribute("first"),10),h=parseInt(d[y].getAttribute("second"),10),g=parseInt(d[y].getAttribute("amount"),10);t.chars[m[h]].kerning[m[x]]=g}return t}},fy={test(a){return typeof a=="string"&&a.match(/<font(\s|>)/)?hy.test(Ut.get().parseXML(a)):!1},parse(a){return hy.parse(Ut.get().parseXML(a))}},ew=[".xml",".fnt"],nw={extension:{type:st.CacheParser,name:"cacheBitmapFont"},test:a=>a instanceof K0,getCacheableAssets(a,t){const i={};return a.forEach(s=>{i[s]=t,i[`${s}-bitmap`]=t}),i[`${t.fontFamily}-bitmap`]=t,i}},iw={extension:{type:st.LoadParser,priority:Ti.Normal},name:"loadBitmapFont",id:"bitmap-font",test(a){return ew.includes(Ye.extname(a).toLowerCase())},async testParse(a){return rh.test(a)||fy.test(a)},async parse(a,t,i){const s=rh.test(a)?rh.parse(a):fy.parse(a),{src:l}=t,{pages:u}=s,c=[],d=s.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let h=0;h<u.length;++h){const g=u[h].file;let _=Ye.join(Ye.dirname(l),g);_=yh(_,l),c.push({src:_,data:d})}const m=await i.load(c),y=c.map(h=>m[h.src]);return new K0({data:s,textures:y},l)},async load(a,t){return await(await Ut.get().fetch(a)).text()},async unload(a,t,i){await Promise.all(a.pages.map(s=>i.unload(s.texture.source._sourceOrigin))),a.destroy()}};class sw{constructor(t,i=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=i}add(t){t.forEach(i=>{this._assetList.push(i)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],i=Math.min(this._assetList.length,this._maxConcurrent);for(let s=0;s<i;s++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const aw={extension:{type:st.CacheParser,name:"cacheTextureArray"},test:a=>Array.isArray(a)&&a.every(t=>t instanceof wt),getCacheableAssets:(a,t)=>{const i={};return a.forEach(s=>{t.forEach((l,u)=>{i[s+(u===0?"":u+1)]=l})}),i}};async function $0(a){if("Image"in globalThis)return new Promise(t=>{const i=new Image;i.onload=()=>{t(!0)},i.onerror=()=>{t(!1)},i.src=a});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(a)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const rw={extension:{type:st.DetectionParser,priority:1},test:async()=>$0("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async a=>[...a,"avif"],remove:async a=>a.filter(t=>t!=="avif")},dy=["png","jpg","jpeg"],lw={extension:{type:st.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async a=>[...a,...dy],remove:async a=>a.filter(t=>!dy.includes(t))},ow="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function mo(a){return ow?!1:document.createElement("video").canPlayType(a)!==""}const uw={extension:{type:st.DetectionParser,priority:0},test:async()=>mo("video/mp4"),add:async a=>[...a,"mp4","m4v"],remove:async a=>a.filter(t=>t!=="mp4"&&t!=="m4v")},cw={extension:{type:st.DetectionParser,priority:0},test:async()=>mo("video/ogg"),add:async a=>[...a,"ogv"],remove:async a=>a.filter(t=>t!=="ogv")},hw={extension:{type:st.DetectionParser,priority:0},test:async()=>mo("video/webm"),add:async a=>[...a,"webm"],remove:async a=>a.filter(t=>t!=="webm")},fw={extension:{type:st.DetectionParser,priority:0},test:async()=>$0("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async a=>[...a,"webp"],remove:async a=>a.filter(t=>t!=="webp")},J0=class io{constructor(){this.loadOptions={...io.defaultOptions},this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,i,s)=>(this._parsersValidated=!1,t[i]=s,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,i){const s={promise:null,parser:null};return s.promise=(async()=>{let l=null,u=null;if((i.parser||i.loadParser)&&(u=this._parserHash[i.parser||i.loadParser],i.loadParser&&Pt(`[Assets] "loadParser" is deprecated, use "parser" instead for ${t}`),u||Pt(`[Assets] specified load parser "${i.parser||i.loadParser}" not found while loading ${t}`)),!u){for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.load&&d.test?.(t,i,this)){u=d;break}}if(!u)return Pt(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}l=await u.load(t,i,this),s.parser=u;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];d.parse&&d.parse&&await d.testParse?.(l,i,this)&&(l=await d.parse(l,i,this)||l,s.parser=d)}return l})(),s}async load(t,i){this._parsersValidated||this._validateParsers();const s=typeof i=="function"?{...io.defaultOptions,...this.loadOptions,onProgress:i}:{...io.defaultOptions,...this.loadOptions,...i||{}},{onProgress:l,onError:u,strategy:c,retryCount:d,retryDelay:m}=s;let y=0;const x={},h=ao(t),g=un(t,A=>({alias:[A],src:A,data:{}})),_=g.reduce((A,S)=>A+(S.progressSize||1),0),b=g.map(async A=>{const S=Ye.toAbsolute(A.src);x[A.src]||(await this._loadAssetWithRetry(S,A,{onProgress:l,onError:u,strategy:c,retryCount:d,retryDelay:m},x),y+=A.progressSize||1,l&&l(y/_))});return await Promise.all(b),h?x[g[0].src]:x}async unload(t){const s=un(t,l=>({alias:[l],src:l})).map(async l=>{const u=Ye.toAbsolute(l.src),c=this.promiseCache[u];if(c){const d=await c.promise;delete this.promiseCache[u],await c.parser?.unload?.(d,l,this)}});await Promise.all(s)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name||t.id).reduce((t,i)=>(!i.name&&!i.id?Pt("[Assets] parser should have an id"):(t[i.name]||t[i.id])&&Pt(`[Assets] parser id conflict "${i.id}"`),t[i.name]=i,i.id&&(t[i.id]=i),t),{})}async _loadAssetWithRetry(t,i,s,l){let u=0;const{onError:c,strategy:d,retryCount:m,retryDelay:y}=s,x=h=>new Promise(g=>setTimeout(g,h));for(;;)try{this.promiseCache[t]||(this.promiseCache[t]=this._getLoadPromiseAndParser(t,i)),l[i.src]=await this.promiseCache[t].promise;return}catch(h){delete this.promiseCache[t],delete l[i.src],u++;const g=d!=="retry"||u>m;if(d==="retry"&&!g){c&&c(h,i),await x(y);continue}if(d==="skip"){c&&c(h,i);return}throw c&&c(h,i),new Error(`[Loader.load] Failed to load ${t}.
${h}`)}}};J0.defaultOptions={onProgress:void 0,onError:void 0,strategy:"throw",retryCount:3,retryDelay:250};let dw=J0;function Ks(a,t){if(Array.isArray(t)){for(const i of t)if(a.startsWith(`data:${i}`))return!0;return!1}return a.startsWith(`data:${t}`)}function $s(a,t){const i=a.split("?")[0],s=Ye.extname(i).toLowerCase();return Array.isArray(t)?t.includes(s):s===t}const pw=".json",mw="application/json",gw={extension:{type:st.LoadParser,priority:Ti.Low},name:"loadJson",id:"json",test(a){return Ks(a,mw)||$s(a,pw)},async load(a){return await(await Ut.get().fetch(a)).json()}},yw=".txt",_w="text/plain",xw={name:"loadTxt",id:"text",extension:{type:st.LoadParser,priority:Ti.Low,name:"loadTxt"},test(a){return Ks(a,_w)||$s(a,yw)},async load(a){return await(await Ut.get().fetch(a)).text()}},vw=["normal","bold","100","200","300","400","500","600","700","800","900"],bw=[".ttf",".otf",".woff",".woff2"],Sw=["font/ttf","font/otf","font/woff","font/woff2"],Aw=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function ww(a){const t=Ye.extname(a),l=Ye.basename(a,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1));let u=l.length>0;for(const d of l)if(!d.match(Aw)){u=!1;break}let c=l.join(" ");return u||(c=`"${c.replace(/[\\"]/g,"\\$&")}"`),c}const Tw=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Mw(a){return Tw.test(a)?a:encodeURI(a)}const Cw={extension:{type:st.LoadParser,priority:Ti.Low},name:"loadWebFont",id:"web-font",test(a){return Ks(a,Sw)||$s(a,bw)},async load(a,t){const i=Ut.get().getFontFaceSet();if(i){const s=[],l=t.data?.family??ww(a),u=t.data?.weights?.filter(d=>vw.includes(d))??["normal"],c=t.data??{};for(let d=0;d<u.length;d++){const m=u[d],y=new FontFace(l,`url(${Mw(a)})`,{...c,weight:m});await y.load(),i.add(y),s.push(y)}return Yt.has(`${l}-and-url`)?Yt.get(`${l}-and-url`).entries.push({url:a,faces:s}):Yt.set(`${l}-and-url`,{entries:[{url:a,faces:s}]}),s.length===1?s[0]:s}return Pt("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(a){const t=Array.isArray(a)?a:[a],i=t[0].family,s=Yt.get(`${i}-and-url`),l=s.entries.find(u=>u.faces.some(c=>t.indexOf(c)!==-1));l.faces=l.faces.filter(u=>t.indexOf(u)===-1),l.faces.length===0&&(s.entries=s.entries.filter(u=>u!==l)),t.forEach(u=>{Ut.get().getFontFaceSet().delete(u)}),s.entries.length===0&&Yt.remove(`${i}-and-url`)}};function Vh(a,t=1){const i=Ws.RETINA_PREFIX?.exec(a);return i?parseFloat(i[1]):t}function Xh(a,t,i){a.label=i,a._sourceOrigin=i;const s=new wt({source:a,label:i}),l=()=>{delete t.promiseCache[i],Yt.has(i)&&Yt.remove(i)};return s.source.once("destroy",()=>{t.promiseCache[i]&&(Pt("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),l())}),s.once("destroy",()=>{a.destroyed||(Pt("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),l())}),s}const Ew=".svg",Rw="image/svg+xml",Bw={extension:{type:st.LoadParser,priority:Ti.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(a){return Ks(a,Rw)||$s(a,Ew)},async load(a,t,i){return t.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext?Ow(a):zw(a,t,i,this.config.crossOrigin)},unload(a){a.destroy(!0)}};async function zw(a,t,i,s){const l=await Ut.get().fetch(a),u=Ut.get().createImage();u.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(await l.text())}`,u.crossOrigin=s,await u.decode();const c=t.data?.width??u.width,d=t.data?.height??u.height,m=t.data?.resolution||Vh(a),y=Math.ceil(c*m),x=Math.ceil(d*m),h=Ut.get().createCanvas(y,x),g=h.getContext("2d");g.imageSmoothingEnabled=!0,g.imageSmoothingQuality="high",g.drawImage(u,0,0,c*m,d*m);const{parseAsGraphicsContext:_,...b}=t.data??{},A=new Ji({resource:h,alphaMode:"premultiply-alpha-on-upload",resolution:m,...b});return Xh(A,i,a)}async function Ow(a){const i=await(await Ut.get().fetch(a)).text(),s=new $e;return s.svg(i),s}const kw=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Ps=null,Eh=class{constructor(){Ps||(Ps=URL.createObjectURL(new Blob([kw],{type:"application/javascript"}))),this.worker=new Worker(Ps)}};Eh.revokeObjectURL=function(){Ps&&(URL.revokeObjectURL(Ps),Ps=null)};const Dw=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Vs=null;class t_{constructor(){Vs||(Vs=URL.createObjectURL(new Blob([Dw],{type:"application/javascript"}))),this.worker=new Worker(Vs)}}t_.revokeObjectURL=function(){Vs&&(URL.revokeObjectURL(Vs),Vs=null)};let py=0,lh;class Nw{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:i}=new Eh;i.addEventListener("message",s=>{i.terminate(),Eh.revokeObjectURL(),t(s.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,i){return this._run("loadImageBitmap",[t,i?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){lh===void 0&&(lh=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<lh&&(this._createdWorkers++,t=new t_().worker,t.addEventListener("message",i=>{this._complete(i.data),this._returnWorker(i.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){this._resolveHash[t.uuid]&&(t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),delete this._resolveHash[t.uuid])}async _run(t,i){await this._initWorkers();const s=new Promise((l,u)=>{this._queue.push({id:t,arguments:i,resolve:l,reject:u})});return this._next(),s}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const i=this._queue.pop(),s=i.id;this._resolveHash[py]={resolve:i.resolve,reject:i.reject},t.postMessage({data:i.arguments,uuid:py++,id:s})}reset(){this._workerPool.forEach(t=>t.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:t})=>{t?.(new Error("WorkerManager has been reset before completion"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}const my=new Nw,Gw=[".jpeg",".jpg",".png",".webp",".avif"],Lw=["image/jpeg","image/png","image/webp","image/avif"];async function Uw(a,t){const i=await Ut.get().fetch(a);if(!i.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${a}: ${i.status} ${i.statusText}`);const s=await i.blob();return t?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(s,{premultiplyAlpha:"none"}):createImageBitmap(s)}const e_={name:"loadTextures",id:"texture",extension:{type:st.LoadParser,priority:Ti.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(a){return Ks(a,Lw)||$s(a,Gw)},async load(a,t,i){let s=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await my.isImageBitmapSupported()?s=await my.loadImageBitmap(a,t):s=await Uw(a,t):s=await new Promise((u,c)=>{s=Ut.get().createImage(),s.crossOrigin=this.config.crossOrigin,s.src=a,s.complete?u(s):(s.onload=()=>{u(s)},s.onerror=c)});const l=new Ji({resource:s,alphaMode:"premultiply-alpha-on-upload",resolution:t.data?.resolution||Vh(a),...t.data});return Xh(l,i,a)},unload(a){a.destroy(!0)}},Hw=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let oh,uh;function jw(a,t,i){i===void 0&&!t.startsWith("data:")?a.crossOrigin=Pw(t):i!==!1&&(a.crossOrigin=typeof i=="string"?i:"anonymous")}function Yw(a){return new Promise((t,i)=>{a.addEventListener("canplaythrough",s),a.addEventListener("error",l),a.load();function s(){u(),t()}function l(c){u(),i(c)}function u(){a.removeEventListener("canplaythrough",s),a.removeEventListener("error",l)}})}function Pw(a,t=globalThis.location){if(a.startsWith("data:"))return"";t||(t=globalThis.location);const i=new URL(a,document.baseURI);return i.hostname!==t.hostname||i.port!==t.port||i.protocol!==t.protocol?"anonymous":""}function Vw(){const a=[],t=[];for(const i of Hw){const s=lr.MIME_TYPES[i.substring(1)]||`video/${i.substring(1)}`;mo(s)&&(a.push(i),t.includes(s)||t.push(s))}return{validVideoExtensions:a,validVideoMime:t}}const Xw={name:"loadVideo",id:"video",extension:{type:st.LoadParser,name:"loadVideo"},test(a){if(!oh||!uh){const{validVideoExtensions:s,validVideoMime:l}=Vw();oh=s,uh=l}const t=Ks(a,uh),i=$s(a,oh);return t||i},async load(a,t,i){const s={...lr.defaultOptions,resolution:t.data?.resolution||Vh(a),alphaMode:t.data?.alphaMode||await a0(),...t.data},l=document.createElement("video"),u={preload:s.autoLoad!==!1?"auto":void 0,"webkit-playsinline":s.playsinline!==!1?"":void 0,playsinline:s.playsinline!==!1?"":void 0,muted:s.muted===!0?"":void 0,loop:s.loop===!0?"":void 0,autoplay:s.autoPlay!==!1?"":void 0};Object.keys(u).forEach(m=>{const y=u[m];y!==void 0&&l.setAttribute(m,y)}),s.muted===!0&&(l.muted=!0),jw(l,a,s.crossorigin);const c=document.createElement("source");let d;if(s.mime)d=s.mime;else if(a.startsWith("data:"))d=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const m=a.split("?")[0].slice(a.lastIndexOf(".")+1).toLowerCase();d=lr.MIME_TYPES[m]||`video/${m}`}return c.src=a,d&&(c.type=d),new Promise(m=>{const y=async()=>{const x=new lr({...s,resource:l});l.removeEventListener("canplay",y),t.data.preload&&await Yw(l),m(Xh(x,i,a))};s.preload&&!s.autoPlay&&l.load(),l.addEventListener("canplay",y),l.appendChild(c)})},unload(a){a.destroy(!0)}},n_={extension:{type:st.ResolveParser,name:"resolveTexture"},test:e_.test,parse:a=>({resolution:parseFloat(Ws.RETINA_PREFIX.exec(a)?.[1]??"1"),format:a.split(".").pop(),src:a})},qw={extension:{type:st.ResolveParser,priority:-2,name:"resolveJson"},test:a=>Ws.RETINA_PREFIX.test(a)&&a.endsWith(".json"),parse:n_.parse};class Fw{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Ws,this.loader=new dw,this.cache=Yt,this._backgroundLoader=new sw(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){Pt("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let u=t.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const i=t.texturePreference?.resolution??1,s=typeof i=="number"?[i]:i,l=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:l,resolution:s}}),t.preferences&&this.setPreferences(t.preferences),t.loadOptions&&(this.loader.loadOptions={...this.loader.loadOptions,...t.loadOptions})}add(t){this.resolver.add(t)}async load(t,i){this._initialized||await this.init();const s=ao(t),l=un(t).map(d=>{if(typeof d!="string"){const m=this.resolver.getAlias(d);return m.some(y=>!this.resolver.hasKey(y))&&this.add(d),Array.isArray(m)?m[0]:m}return this.resolver.hasKey(d)||this.add({alias:d,src:d}),d}),u=this.resolver.resolve(l),c=await this._mapLoadToResolve(u,i);return s?c[l[0]]:c}addBundle(t,i){this.resolver.addBundle(t,i)}async loadBundle(t,i){this._initialized||await this.init();let s=!1;typeof t=="string"&&(s=!0,t=[t]);const l=this.resolver.resolveBundle(t),u={},c=Object.keys(l);let d=0;const m=[],y=()=>{i?.(m.reduce((h,g)=>h+g,0)/d)},x=c.map((h,g)=>{const _=l[h],b=Object.values(_),S=[...new Set(b.flat())].reduce((w,M)=>w+(M.progressSize||1),0);return m.push(0),d+=S,this._mapLoadToResolve(_,w=>{m[g]=w*S,y()}).then(w=>{u[h]=w})});return await Promise.all(x),s?u[t[0]]:u}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const i=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(i))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const i=this.resolver.resolveBundle(t);Object.values(i).forEach(s=>{this._backgroundLoader.add(Object.values(s))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Yt.get(t);const i={};for(let s=0;s<t.length;s++)i[s]=Yt.get(t[s]);return i}async _mapLoadToResolve(t,i){const s=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const l=await this.loader.load(s,i);this._backgroundLoader.active=!0;const u={};return s.forEach(c=>{const d=l[c.src],m=[c.src];c.alias&&m.push(...c.alias),m.forEach(y=>{u[y]=d}),Yt.set(m,d)}),u}async unload(t){this._initialized||await this.init();const i=un(t).map(l=>typeof l!="string"?l.src:l),s=this.resolver.resolve(i);await this._unloadFromResolved(s)}async unloadBundle(t){this._initialized||await this.init(),t=un(t);const i=this.resolver.resolveBundle(t),s=Object.keys(i).map(l=>this._unloadFromResolved(i[l]));await Promise.all(s)}async _unloadFromResolved(t){const i=Object.values(t);i.forEach(s=>{Yt.remove(s.src)}),await this.loader.unload(i)}async _detectFormats(t){let i=[];t.preferredFormats&&(i=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const s of t.detections)t.skipDetections||await s.test()?i=await s.add(i):t.skipDetections||(i=await s.remove(i));return i=i.filter((s,l)=>i.indexOf(s)===l),i}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(i=>{i.config&&Object.keys(i.config).filter(s=>s in t).forEach(s=>{i.config[s]=t[s]})})}}const $i=new Fw;me.handleByList(st.LoadParser,$i.loader.parsers).handleByList(st.ResolveParser,$i.resolver.parsers).handleByList(st.CacheParser,$i.cache.parsers).handleByList(st.DetectionParser,$i.detections);me.add(aw,lw,rw,fw,uw,cw,hw,gw,xw,Cw,Bw,e_,Xw,iw,nw,n_,qw);const gy={loader:st.LoadParser,resolver:st.ResolveParser,cache:st.CacheParser,detection:st.DetectionParser};me.handle(st.Asset,a=>{const t=a.ref;Object.entries(gy).filter(([i])=>!!t[i]).forEach(([i,s])=>me.add(Object.assign(t[i],{extension:t[i].extension??s})))},a=>{const t=a.ref;Object.keys(gy).filter(i=>!!t[i]).forEach(i=>me.remove(t[i]))});class Si extends kh{constructor(t){t instanceof $e&&(t={context:t});const{context:i,roundPixels:s,...l}=t||{};super({label:"Graphics",...l}),this.renderPipeId="graphics",i?this._context=i:this._context=this._ownedContext=new $e,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=s??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||t?.context===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,i){return this.context[t](...i),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new Si(this._context.clone()):(this._ownedContext=null,new Si(this._context))}lineStyle(t,i,s){pt(zt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const l={};return t&&(l.width=t),i&&(l.color=i),s&&(l.alpha=s),this.context.strokeStyle=l,this}beginFill(t,i){pt(zt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const s={};return t!==void 0&&(s.color=t),i!==void 0&&(s.alpha=i),this.context.fillStyle=s,this}endFill(){pt(zt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==$e.defaultStrokeStyle.width||t.color!==$e.defaultStrokeStyle.color||t.alpha!==$e.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return pt(zt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return pt(zt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return pt(zt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return pt(zt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return pt(zt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return pt(zt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}class Iw extends kh{constructor(t,i){const{text:s,resolution:l,style:u,anchor:c,width:d,height:m,roundPixels:y,...x}=t;super({...x}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=i,this.text=s??"",this.style=u,this.resolution=l??null,this.allowChildren=!1,this._anchor=new pe({_onUpdate:()=>{this.onViewUpdate()}}),c&&(this.anchor=c),this.roundPixels=y??!1,d!==void 0&&(this.width=d),m!==void 0&&(this.height=m)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}set resolution(t){this._autoResolution=t===null,this._resolution=t,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(t){t||(t={}),this._style?.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,i){typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,this.bounds.width),i!==void 0&&this._setHeight(i,this.bounds.height)}containsPoint(t){const i=this.bounds.width,s=this.bounds.height,l=-i*this.anchor.x;let u=0;return t.x>=l&&t.x<=l+i&&(u=-s*this.anchor.y,t.y>=u&&t.y<=u+s)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,(typeof t=="boolean"?t:t?.style)&&this._style.destroy(t),this._style=null,this._text=null}get styleKey(){return`${this._text}:${this._style.styleKey}:${this._resolution}`}}function Qw(a,t){let i=a[0]??{};return(typeof i=="string"||a[1])&&(pt(zt,`use new ${t}({ text: "hi!", style }) instead`),i={text:i,style:a[1]}),i}let Fi=null,qn=null;function Zw(a,t){Fi||(Fi=Ut.get().createCanvas(256,128),qn=Fi.getContext("2d",{willReadFrequently:!0}),qn.globalCompositeOperation="copy",qn.globalAlpha=1),(Fi.width<a||Fi.height<t)&&(Fi.width=Xs(a),Fi.height=Xs(t))}function yy(a,t,i){for(let s=0,l=4*i*t;s<t;++s,l+=4)if(a[l+3]!==0)return!1;return!0}function _y(a,t,i,s,l){const u=4*t;for(let c=s,d=s*u+4*i;c<=l;++c,d+=u)if(a[d+3]!==0)return!1;return!0}function Ww(...a){let t=a[0];t.canvas||(t={canvas:a[0],resolution:a[1]});const{canvas:i}=t,s=Math.min(t.resolution??1,1),l=t.width??i.width,u=t.height??i.height;let c=t.output;if(Zw(l,u),!qn)throw new TypeError("Failed to get canvas 2D context");qn.drawImage(i,0,0,l,u,0,0,l*s,u*s);const m=qn.getImageData(0,0,l,u).data;let y=0,x=0,h=l-1,g=u-1;for(;x<u&&yy(m,l,x);)++x;if(x===u)return Xt.EMPTY;for(;yy(m,l,g);)--g;for(;_y(m,l,y,x,g);)++y;for(;_y(m,l,h,x,g);)--h;return++h,++g,qn.globalCompositeOperation="source-over",qn.strokeRect(y,x,h-y,g-x),qn.globalCompositeOperation="copy",c??(c=new Xt),c.set(y/s,x/s,(h-y)/s,(g-x)/s),c}const xy=new Xt;class Kw{getCanvasAndContext(t){const{text:i,style:s,resolution:l=1}=t,u=s._getFinalPadding(),c=Tn.measureText(i||" ",s),d=Math.ceil(Math.ceil(Math.max(1,c.width)+u*2)*l),m=Math.ceil(Math.ceil(Math.max(1,c.height)+u*2)*l),y=gr.getOptimalCanvasAndContext(d,m);this._renderTextToCanvas(i,s,u,l,y);const x=s.trim?Ww({canvas:y.canvas,width:d,height:m,resolution:1,output:xy}):xy.set(0,0,d,m);return{canvasAndContext:y,frame:x}}returnCanvasAndContext(t){gr.returnCanvasAndContext(t)}_renderTextToCanvas(t,i,s,l,u){const{canvas:c,context:d}=u,m=ro(i),y=Tn.measureText(t||" ",i),x=y.lines,h=y.lineHeight,g=y.lineWidths,_=y.maxLineWidth,b=y.fontProperties,A=c.height;if(d.resetTransform(),d.scale(l,l),d.textBaseline=i.textBaseline,i._stroke?.width){const C=i._stroke;d.lineWidth=C.width,d.miterLimit=C.miterLimit,d.lineJoin=C.join,d.lineCap=C.cap}d.font=m;let S,w;const M=i.dropShadow?2:1;for(let C=0;C<M;++C){const z=i.dropShadow&&C===0,I=z?Math.ceil(Math.max(1,A)+s*2):0,j=I*l;if(z){d.fillStyle="black",d.strokeStyle="black";const F=i.dropShadow,W=F.color,K=F.alpha;d.shadowColor=ie.shared.setValue(W).setAlpha(K).toRgbaString();const ut=F.blur*l,mt=F.distance*l;d.shadowBlur=ut,d.shadowOffsetX=Math.cos(F.angle)*mt,d.shadowOffsetY=Math.sin(F.angle)*mt+j}else{if(d.fillStyle=i._fill?uo(i._fill,d,y,s*2):null,i._stroke?.width){const F=i._stroke.width*.5+s*2;d.strokeStyle=uo(i._stroke,d,y,F)}d.shadowColor="black"}let L=(h-b.fontSize)/2;h-b.fontSize<0&&(L=0);const Z=i._stroke?.width??0;for(let F=0;F<x.length;F++)S=Z/2,w=Z/2+F*h+b.ascent+L,i.align==="right"?S+=_-g[F]:i.align==="center"&&(S+=(_-g[F])/2),i._stroke?.width&&this._drawLetterSpacing(x[F],i,u,S+s,w+s-I,!0),i._fill!==void 0&&this._drawLetterSpacing(x[F],i,u,S+s,w+s-I)}}_drawLetterSpacing(t,i,s,l,u,c=!1){const{context:d}=s,m=i.letterSpacing;let y=!1;if(Tn.experimentalLetterSpacingSupported&&(Tn.experimentalLetterSpacing?(d.letterSpacing=`${m}px`,d.textLetterSpacing=`${m}px`,y=!0):(d.letterSpacing="0px",d.textLetterSpacing="0px")),m===0||y){c?d.strokeText(t,l,u):d.fillText(t,l,u);return}let x=l;const h=Tn.graphemeSegmenter(t);let g=d.measureText(t).width,_=0;for(let b=0;b<h.length;++b){const A=h[b];c?d.strokeText(A,x,u):d.fillText(A,x,u);let S="";for(let w=b+1;w<h.length;++w)S+=h[w];_=d.measureText(S).width,x+=g-_+m,g=_}}}const vy=new Kw;class $w extends Iw{constructor(...t){const i=Qw(t,"Text");super(i,Qs),this.renderPipeId="text",i.textureStyle&&(this.textureStyle=i.textureStyle instanceof qs?i.textureStyle:new qs(i.textureStyle))}updateBounds(){const t=this._bounds,i=this._anchor;let s=0,l=0;if(this._style.trim){const{frame:u,canvasAndContext:c}=vy.getCanvasAndContext({text:this.text,style:this._style,resolution:1});vy.returnCanvasAndContext(c),s=u.width,l=u.height}else{const u=Tn.measureText(this._text,this._style);s=u.width,l=u.height}t.minX=-i._x*s,t.maxX=t.minX+s,t.minY=-i._y*l,t.maxY=t.minY+l}}me.add(sb,ab);const Jw=({category:a,isSelected:t,onSelect:i})=>N.jsxs("button",{onClick:i,className:`flex flex-col items-center justify-center px-3 py-2 rounded-xl transition-all min-w-[60px] ${t?"bg-gradient-to-br from-pink-500 to-purple-600 shadow-lg shadow-pink-500/30 scale-105":"bg-purple-800/50 hover:bg-purple-700/50"}`,children:[N.jsx("span",{className:"text-2xl",children:a.icon}),N.jsx("span",{className:`text-xs mt-1 ${t?"text-white":"text-purple-300"}`,children:a.name})]}),t2=({item:a,onSelect:t})=>{const i={common:"from-gray-500 to-gray-600 border-gray-400",rare:"from-blue-500 to-purple-600 border-blue-400",legendary:"from-yellow-400 to-orange-500 border-yellow-300"},s={common:"",rare:"shadow-blue-500/30",legendary:"shadow-yellow-500/50 animate-pulse"};return N.jsxs("button",{onClick:t,className:`relative w-16 h-16 rounded-xl bg-gradient-to-br ${i[a.rarity]}
        border-2 flex items-center justify-center transition-all hover:scale-110
        shadow-lg ${s[a.rarity]}`,children:[N.jsx("div",{className:"w-10 h-10 rounded-full bg-white/80 flex items-center justify-center",title:a.name,children:e2(a.category)}),a.rarity==="legendary"&&N.jsx("span",{className:"absolute -top-1 -right-1 text-sm",children:""}),a.rarity==="rare"&&N.jsx("span",{className:"absolute -top-1 -right-1 text-sm",children:""})]})};function e2(a){return{lips:"",eyes:"",cheeks:"",hair:"",accessories:"",wings:""}[a]}const n2=()=>{const{state:a,selectCategory:t,applyItem:i,undoItem:s,resetMakeover:l,completeMakeover:u}=Zn(),{playClick:c,playApply:d,playSuccess:m,playWhoosh:y}=Bh(),{selectedCategory:x,appliedItems:h,currentLevel:g}=a;if(!g)return null;const _=x?Xv(x):[],b=C=>{const z={...C.position};d(),i(C,z)},A=()=>{y(),s()},S=()=>{y(),l()},w=()=>{m(),u()},M=C=>{c(),t(C)};return N.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-purple-900 via-purple-900/95 to-purple-900/80 backdrop-blur-sm",children:[N.jsx("div",{className:"flex gap-2 px-4 py-3 overflow-x-auto scrollbar-hide",children:qv.map(C=>N.jsx(Jw,{category:C,isSelected:x===C.id,onSelect:()=>M(C.id)},C.id))}),N.jsx("div",{className:"px-4 py-3 border-t border-purple-700/50",children:N.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:_.map(C=>N.jsx(t2,{item:C,onSelect:()=>b(C)},C.id))})}),N.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-t border-purple-700/50",children:[N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:A,disabled:h.length===0,className:"px-4 py-2 rounded-xl bg-purple-700 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:" Undo"}),N.jsx("button",{onClick:S,disabled:h.length===0,className:"px-4 py-2 rounded-xl bg-purple-700 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:" Reset"})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsxs("span",{className:"text-purple-300 text-sm",children:[h.length," items"]}),N.jsx("button",{onClick:w,disabled:h.length===0,className:"px-6 py-2 rounded-xl bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-400 hover:to-purple-400 disabled:opacity-50 disabled:cursor-not-allowed font-bold transition-all shadow-lg shadow-pink-500/30",children:" Done!"})]})]})]})},i2=()=>{const{state:a,goToLevelSelect:t}=Zn(),{currentLevel:i,appliedItems:s}=a,l=At.useRef(null),u=At.useRef(null),c=At.useRef([]),d=At.useRef(null),[m,y]=At.useState(!1);At.useEffect(()=>{if(!l.current||u.current)return;(async()=>{const A=new R0;await A.init({width:window.innerWidth,height:window.innerHeight,backgroundColor:1973067,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0}),l.current?.appendChild(A.canvas),u.current=A;const S=new je;S.label="background",A.stage.addChild(S);const w=new je;w.label="main",A.stage.addChild(w);const M=new je;M.label="character",M.x=A.screen.width/2,M.y=A.screen.height/2-50,w.addChild(M);const C=new je;C.label="items",M.addChild(C);const z=new je;if(z.label="particles",w.addChild(z),i){try{const L=await $i.load(i.backgroundUrl),Z=new wi(L);Z.width=A.screen.width,Z.height=A.screen.height,S.addChild(Z)}catch{const L=new Si;L.rect(0,0,A.screen.width,A.screen.height),L.fill({color:1973067}),S.addChild(L)}try{const L=await $i.load(i.character.baseImageUrl),Z=new wi(L);Z.anchor.set(.5),Z.scale.set(1.2),d.current=Z,M.addChildAt(Z,0)}catch{x(M)}const I=new Qs({fontFamily:"Comic Sans MS, cursive",fontSize:20,fill:16777215,align:"center",dropShadow:{color:0,blur:4,distance:2}}),j=new $w({text:i.character.name,style:I});j.anchor.set(.5),j.y=180,M.addChild(j)}A.ticker.add(I=>{h(z,I.deltaTime)}),y(!0)})();const b=()=>{if(u.current){u.current.renderer.resize(window.innerWidth,window.innerHeight);const S=u.current.stage.getChildByLabel("main")?.getChildByLabel("character");S&&(S.x=window.innerWidth/2,S.y=window.innerHeight/2-50)}};return window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b),u.current&&(u.current.destroy(!0,{children:!0,texture:!0}),u.current=null)}},[i]);const x=_=>{const b=new Si;b.circle(0,100,60),b.fill({color:16708551}),b.circle(0,0,80),b.fill({color:16708551}),b.ellipse(-25,-10,15,20),b.fill({color:16777215}),b.circle(-25,-5,10),b.fill({color:6514417}),b.ellipse(25,-10,15,20),b.fill({color:16777215}),b.circle(25,-5,10),b.fill({color:6514417}),b.arc(0,20,20,0,Math.PI,!1),b.stroke({color:16020150,width:3}),_.addChildAt(b,0)},h=(_,b)=>{c.current=c.current.filter(A=>(A.x+=A.vx*b,A.y+=A.vy*b,A.vy+=.1*b,A.life-=b,A.rotation+=.1*b,A.life>0)),_.removeChildren(),c.current.forEach(A=>{const S=new Si,w=A.life/A.maxLife;S.star(0,0,4,A.size,A.size*.5),S.fill({color:A.color,alpha:w}),S.x=A.x,S.y=A.y,S.rotation=A.rotation,_.addChild(S)})},g=At.useCallback((_,b,A=10)=>{const S=[16707722,16498468,16020150,12616956,6333946];for(let w=0;w<A;w++)c.current.push({x:_,y:b,vx:(Math.random()-.5)*8,vy:(Math.random()-.5)*8-3,life:30+Math.random()*30,maxLife:60,size:4+Math.random()*8,rotation:Math.random()*Math.PI*2,color:S[Math.floor(Math.random()*S.length)]})},[]);return At.useEffect(()=>{if(!u.current||!m)return;const b=u.current.stage.getChildByLabel("main")?.getChildByLabel("character"),A=b?.getChildByLabel("items");if(!A)return;A.removeChildren(),(async()=>{for(let w=0;w<s.length;w++){const M=s[w];try{const C=await $i.load(M.item.imageUrl),z=new wi(C);z.anchor.set(.5),z.x=M.position.x,z.y=M.position.y;const j={lips:.8,eyes:.9,cheeks:.7,hair:1.2,accessories:.8,wings:1.5}[M.item.category]||1;z.scale.set(j);const Z={lips:16739210,eyes:8490232,cheeks:16622767,hair:10980346,accessories:16498468,wings:6809849}[M.item.category]||16777215,F=new Si;F.circle(M.position.x,M.position.y,30*j),F.fill({color:Z,alpha:.3}),A.addChild(F),A.addChild(z)}catch{const C=new Si,I={lips:16739210,eyes:8490232,cheeks:16622767,hair:10980346,accessories:16498468,wings:6809849}[M.item.category]||16777215;switch(M.item.category){case"lips":C.ellipse(M.position.x,M.position.y,25,10);break;case"eyes":C.ellipse(M.position.x-25,M.position.y,15,10),C.ellipse(M.position.x+25,M.position.y,15,10);break;case"cheeks":C.circle(M.position.x-35,M.position.y,12),C.circle(M.position.x+35,M.position.y,12);break;case"hair":C.ellipse(M.position.x,M.position.y,60,35);break;case"accessories":C.star(M.position.x,M.position.y,5,18,9);break;case"wings":C.ellipse(M.position.x-70,M.position.y,35,55),C.ellipse(M.position.x+70,M.position.y,35,55);break;default:C.circle(M.position.x,M.position.y,15)}C.fill({color:I,alpha:.7}),A.addChild(C)}w===s.length-1&&g(b.x+M.position.x,b.y+M.position.y,15)}})()},[s,m,g]),At.useEffect(()=>{if(!u.current||!m)return;const _=setInterval(()=>{Math.random()>.7&&g(Math.random()*window.innerWidth,Math.random()*(window.innerHeight*.5),3)},500);return()=>clearInterval(_)},[m,g]),i?N.jsxs("div",{className:"w-full h-full relative overflow-hidden",children:[N.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4 bg-gradient-to-b from-purple-900/80 to-transparent",children:[N.jsx("button",{onClick:t,className:"w-12 h-12 rounded-full bg-purple-700/80 hover:bg-purple-600 flex items-center justify-center text-2xl transition-colors backdrop-blur-sm",children:""}),N.jsxs("div",{className:"text-center",children:[N.jsx("h2",{className:"text-lg font-bold text-pink-200",children:i.name}),N.jsx("p",{className:"text-sm text-purple-300",children:i.character.name})]}),N.jsx("div",{className:"w-12"})]}),N.jsx("div",{ref:l,className:"w-full h-full"}),N.jsx(n2,{}),!m&&N.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-purple-900",children:N.jsxs("div",{className:"text-center",children:[N.jsx("span",{className:"text-4xl animate-bounce",children:""}),N.jsx("p",{className:"text-pink-200 mt-4",children:"Loading magic..."})]})})]}):null};function s2(){return Bh(),null}function a2(){const{state:a}=Zn();switch(a.screen){case"menu":return N.jsx(sg,{});case"levelSelect":return N.jsx(Wv,{});case"collection":return N.jsx(tb,{});case"game":return N.jsx(i2,{});case"result":return N.jsx(eb,{});default:return N.jsx(sg,{})}}function r2(){return N.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-900 via-pink-800 to-indigo-900",children:N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"text-6xl animate-bounce mb-4",children:""}),N.jsx("h1",{className:"text-2xl font-bold text-pink-200 mb-2",children:"Enchanted Glamour Kingdom"}),N.jsx("p",{className:"text-purple-300",children:"Loading magic..."})]})})}function l2(){const{state:a}=Zn();return a.isLoading?N.jsx(r2,{}):N.jsxs(N.Fragment,{children:[N.jsx(s2,{}),N.jsx(a2,{})]})}function o2(){return N.jsx(jv,{children:N.jsx("div",{className:"w-screen h-screen overflow-hidden",children:N.jsx(l2,{})})})}Dv.createRoot(document.getElementById("root")).render(N.jsx(At.StrictMode,{children:N.jsx(o2,{})}));export{Qb as $,T0 as A,Ee as B,je as C,Ut as D,st as E,Wy as F,ho as G,vg as H,wi as I,y1 as J,M1 as K,yr as L,bt as M,Zt as N,Xt as O,ye as P,X1 as Q,xh as R,Nh as S,Xl as T,mh as U,Sg as V,Ic as W,Ag as X,Wb as Y,qs as Z,ie as _,d0 as a,Fy as a0,M0 as a1,pt as a2,zt as a3,Z1 as a4,xS as a5,fS as a6,US as a7,jS as a8,qS as a9,IS as aa,QS as ab,Y0 as ac,Ug as ad,Gg as ae,cy as af,Tn as ag,ZA as ah,Yt as ai,Si as aj,yb as ak,Qs as al,vy as am,X0 as an,hn as b,uS as c,pr as d,me as e,Lg as f,rS as g,no as h,Dh as i,S0 as j,i0 as k,fn as l,y0 as m,gr as n,LS as o,HS as p,VS as q,zb as r,FS as s,wt as t,gb as u,ZS as v,Pt as w,tn as x,Vy as y,cn as z};
