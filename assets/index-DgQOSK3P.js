const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-4N1w8Jsf.js","assets/webworkerAll-BQs0i_AF.js","assets/colorToUniform-JiB-wF3H.js","assets/WebGPURenderer-CnMIJNDG.js","assets/SharedSystems-CutpDn-Y.js","assets/WebGLRenderer-C5Rdp7WI.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function f0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Mc={exports:{}},qa={};var Lp;function gb(){if(Lp)return qa;Lp=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:c,ref:o!==void 0?o:null,props:u}}return qa.Fragment=t,qa.jsx=n,qa.jsxs=n,qa}var jp;function yb(){return jp||(jp=1,Mc.exports=gb()),Mc.exports}var k=yb(),Cc={exports:{}},ot={};var Hp;function xb(){if(Hp)return ot;Hp=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),_=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function M(z,V,I){this.props=z,this.context=V,this.refs=S,this.updater=I||A}M.prototype.isReactComponent={},M.prototype.setState=function(z,V){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,V,"setState")},M.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=M.prototype;function R(z,V,I){this.props=z,this.context=V,this.refs=S,this.updater=I||A}var N=R.prototype=new C;N.constructor=R,w(N,M.prototype),N.isPureReactComponent=!0;var F=Array.isArray;function q(){}var L={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function Q(z,V,I){var $=I.ref;return{$$typeof:s,type:z,key:V,ref:$!==void 0?$:null,props:I}}function Z(z,V){return Q(z.type,V,z.props)}function K(z){return typeof z=="object"&&z!==null&&z.$$typeof===s}function ht(z){var V={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(I){return V[I]})}var vt=/\/+/g;function At(z,V){return typeof z=="object"&&z!==null&&z.key!=null?ht(""+z.key):V.toString(36)}function se(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(q,q):(z.status="pending",z.then(function(V){z.status==="pending"&&(z.status="fulfilled",z.value=V)},function(V){z.status==="pending"&&(z.status="rejected",z.reason=V)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function B(z,V,I,$,lt){var ut=typeof z;(ut==="undefined"||ut==="boolean")&&(z=null);var wt=!1;if(z===null)wt=!0;else switch(ut){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(z.$$typeof){case s:case t:wt=!0;break;case g:return wt=z._init,B(wt(z._payload),V,I,$,lt)}}if(wt)return lt=lt(z),wt=$===""?"."+At(z,0):$,F(lt)?(I="",wt!=null&&(I=wt.replace(vt,"$&/")+"/"),B(lt,V,I,"",function(di){return di})):lt!=null&&(K(lt)&&(lt=Z(lt,I+(lt.key==null||z&&z.key===lt.key?"":(""+lt.key).replace(vt,"$&/")+"/")+wt)),V.push(lt)),1;wt=0;var ae=$===""?".":$+":";if(F(z))for(var kt=0;kt<z.length;kt++)$=z[kt],ut=ae+At($,kt),wt+=B($,V,I,ut,lt);else if(kt=b(z),typeof kt=="function")for(z=kt.call(z),kt=0;!($=z.next()).done;)$=$.value,ut=ae+At($,kt++),wt+=B($,V,I,ut,lt);else if(ut==="object"){if(typeof z.then=="function")return B(se(z),V,I,$,lt);throw V=String(z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return wt}function Y(z,V,I){if(z==null)return z;var $=[],lt=0;return B(z,$,"","",function(ut){return V.call(I,ut,lt++)}),$}function at(z){if(z._status===-1){var V=z._result;V=V(),V.then(function(I){(z._status===0||z._status===-1)&&(z._status=1,z._result=I)},function(I){(z._status===0||z._status===-1)&&(z._status=2,z._result=I)}),z._status===-1&&(z._status=0,z._result=V)}if(z._status===1)return z._result.default;throw z._result}var et=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},gt={map:Y,forEach:function(z,V,I){Y(z,function(){V.apply(this,arguments)},I)},count:function(z){var V=0;return Y(z,function(){V++}),V},toArray:function(z){return Y(z,function(V){return V})||[]},only:function(z){if(!K(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return ot.Activity=x,ot.Children=gt,ot.Component=M,ot.Fragment=n,ot.Profiler=o,ot.PureComponent=R,ot.StrictMode=r,ot.Suspense=m,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ot.__COMPILER_RUNTIME={__proto__:null,c:function(z){return L.H.useMemoCache(z)}},ot.cache=function(z){return function(){return z.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(z,V,I){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var $=w({},z.props),lt=z.key;if(V!=null)for(ut in V.key!==void 0&&(lt=""+V.key),V)!W.call(V,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&V.ref===void 0||($[ut]=V[ut]);var ut=arguments.length-2;if(ut===1)$.children=I;else if(1<ut){for(var wt=Array(ut),ae=0;ae<ut;ae++)wt[ae]=arguments[ae+2];$.children=wt}return Q(z.type,lt,$)},ot.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},ot.createElement=function(z,V,I){var $,lt={},ut=null;if(V!=null)for($ in V.key!==void 0&&(ut=""+V.key),V)W.call(V,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(lt[$]=V[$]);var wt=arguments.length-2;if(wt===1)lt.children=I;else if(1<wt){for(var ae=Array(wt),kt=0;kt<wt;kt++)ae[kt]=arguments[kt+2];lt.children=ae}if(z&&z.defaultProps)for($ in wt=z.defaultProps,wt)lt[$]===void 0&&(lt[$]=wt[$]);return Q(z,ut,lt)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(z){return{$$typeof:f,render:z}},ot.isValidElement=K,ot.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:at}},ot.memo=function(z,V){return{$$typeof:p,type:z,compare:V===void 0?null:V}},ot.startTransition=function(z){var V=L.T,I={};L.T=I;try{var $=z(),lt=L.S;lt!==null&&lt(I,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(q,et)}catch(ut){et(ut)}finally{V!==null&&I.types!==null&&(V.types=I.types),L.T=V}},ot.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ot.use=function(z){return L.H.use(z)},ot.useActionState=function(z,V,I){return L.H.useActionState(z,V,I)},ot.useCallback=function(z,V){return L.H.useCallback(z,V)},ot.useContext=function(z){return L.H.useContext(z)},ot.useDebugValue=function(){},ot.useDeferredValue=function(z,V){return L.H.useDeferredValue(z,V)},ot.useEffect=function(z,V){return L.H.useEffect(z,V)},ot.useEffectEvent=function(z){return L.H.useEffectEvent(z)},ot.useId=function(){return L.H.useId()},ot.useImperativeHandle=function(z,V,I){return L.H.useImperativeHandle(z,V,I)},ot.useInsertionEffect=function(z,V){return L.H.useInsertionEffect(z,V)},ot.useLayoutEffect=function(z,V){return L.H.useLayoutEffect(z,V)},ot.useMemo=function(z,V){return L.H.useMemo(z,V)},ot.useOptimistic=function(z,V){return L.H.useOptimistic(z,V)},ot.useReducer=function(z,V,I){return L.H.useReducer(z,V,I)},ot.useRef=function(z){return L.H.useRef(z)},ot.useState=function(z){return L.H.useState(z)},ot.useSyncExternalStore=function(z,V,I){return L.H.useSyncExternalStore(z,V,I)},ot.useTransition=function(){return L.H.useTransition()},ot.version="19.2.3",ot}var Yp;function Ah(){return Yp||(Yp=1,Cc.exports=xb()),Cc.exports}var ee=Ah(),Ec={exports:{}},Va={},zc={exports:{}},Rc={};var Xp;function _b(){return Xp||(Xp=1,(function(s){function t(B,Y){var at=B.length;B.push(Y);t:for(;0<at;){var et=at-1>>>1,gt=B[et];if(0<o(gt,Y))B[et]=Y,B[at]=gt,at=et;else break t}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Y=B[0],at=B.pop();if(at!==Y){B[0]=at;t:for(var et=0,gt=B.length,z=gt>>>1;et<z;){var V=2*(et+1)-1,I=B[V],$=V+1,lt=B[$];if(0>o(I,at))$<gt&&0>o(lt,I)?(B[et]=lt,B[$]=at,et=$):(B[et]=I,B[V]=at,et=V);else if($<gt&&0>o(lt,at))B[et]=lt,B[$]=at,et=$;else break t}}return Y}function o(B,Y){var at=B.sortIndex-Y.sortIndex;return at!==0?at:B.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();s.unstable_now=function(){return c.now()-f}}var m=[],p=[],g=1,x=null,_=3,b=!1,A=!1,w=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function N(B){for(var Y=n(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=B)r(p),Y.sortIndex=Y.expirationTime,t(m,Y);else break;Y=n(p)}}function F(B){if(w=!1,N(B),!A)if(n(m)!==null)A=!0,q||(q=!0,ht());else{var Y=n(p);Y!==null&&se(F,Y.startTime-B)}}var q=!1,L=-1,W=5,Q=-1;function Z(){return S?!0:!(s.unstable_now()-Q<W)}function K(){if(S=!1,q){var B=s.unstable_now();Q=B;var Y=!0;try{t:{A=!1,w&&(w=!1,C(L),L=-1),b=!0;var at=_;try{e:{for(N(B),x=n(m);x!==null&&!(x.expirationTime>B&&Z());){var et=x.callback;if(typeof et=="function"){x.callback=null,_=x.priorityLevel;var gt=et(x.expirationTime<=B);if(B=s.unstable_now(),typeof gt=="function"){x.callback=gt,N(B),Y=!0;break e}x===n(m)&&r(m),N(B)}else r(m);x=n(m)}if(x!==null)Y=!0;else{var z=n(p);z!==null&&se(F,z.startTime-B),Y=!1}}break t}finally{x=null,_=at,b=!1}Y=void 0}}finally{Y?ht():q=!1}}}var ht;if(typeof R=="function")ht=function(){R(K)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,At=vt.port2;vt.port1.onmessage=K,ht=function(){At.postMessage(null)}}else ht=function(){M(K,0)};function se(B,Y){L=M(function(){B(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(B){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var at=_;_=Y;try{return B()}finally{_=at}},s.unstable_requestPaint=function(){S=!0},s.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var at=_;_=B;try{return Y()}finally{_=at}},s.unstable_scheduleCallback=function(B,Y,at){var et=s.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?et+at:et):at=et,B){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=at+gt,B={id:g++,callback:Y,priorityLevel:B,startTime:at,expirationTime:gt,sortIndex:-1},at>et?(B.sortIndex=at,t(p,B),n(m)===null&&B===n(p)&&(w?(C(L),L=-1):w=!0,se(F,at-et))):(B.sortIndex=gt,t(m,B),A||b||(A=!0,q||(q=!0,ht()))),B},s.unstable_shouldYield=Z,s.unstable_wrapCallback=function(B){var Y=_;return function(){var at=_;_=Y;try{return B.apply(this,arguments)}finally{_=at}}}})(Rc)),Rc}var qp;function bb(){return qp||(qp=1,zc.exports=_b()),zc.exports}var Bc={exports:{}},ge={};var Vp;function vb(){if(Vp)return ge;Vp=1;var s=Ah();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:m,containerInfo:p,implementation:g}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ge.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(m,p,null,g)},ge.flushSync=function(m){var p=c.T,g=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=g,r.d.f()}},ge.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},ge.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ge.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,x=f(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:b}):g==="script"&&r.d.X(m,{crossOrigin:x,integrity:_,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ge.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},ge.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,x=f(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ge.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},ge.requestFormReset=function(m){r.d.r(m)},ge.unstable_batchedUpdates=function(m,p){return m(p)},ge.useFormState=function(m,p,g){return c.H.useFormState(m,p,g)},ge.useFormStatus=function(){return c.H.useHostTransitionStatus()},ge.version="19.2.3",ge}var Pp;function Sb(){if(Pp)return Bc.exports;Pp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Bc.exports=vb(),Bc.exports}var Fp;function Ab(){if(Fp)return Va;Fp=1;var s=bb(),t=Ah(),n=Sb();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function f(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var y=!1,v=h.child;v;){if(v===a){y=!0,a=h,l=d;break}if(v===l){y=!0,l=h,a=d;break}v=v.sibling}if(!y){for(v=d.child;v;){if(v===a){y=!0,a=d,l=h;break}if(v===l){y=!0,l=d,a=h;break}v=v.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function ht(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Symbol.for("react.client.reference");function At(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===vt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case M:return"Profiler";case S:return"StrictMode";case F:return"Suspense";case q:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case R:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case N:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return i=e.displayName||null,i!==null?i:At(e.type)||"Memo";case W:i=e._payload,e=e._init;try{return At(e(i))}catch{}}return null}var se=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},et=[],gt=-1;function z(e){return{current:e}}function V(e){0>gt||(e.current=et[gt],et[gt]=null,gt--)}function I(e,i){gt++,et[gt]=e.current,e.current=i}var $=z(null),lt=z(null),ut=z(null),wt=z(null);function ae(e,i){switch(I(ut,i),I(lt,e),I($,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?lp(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=lp(i),e=op(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V($),I($,e)}function kt(){V($),V(lt),V(ut)}function di(e){e.memoizedState!==null&&I(wt,e);var i=$.current,a=op(i,e.type);i!==a&&(I(lt,e),I($,a))}function Fi(e){lt.current===e&&(V($),V(lt)),wt.current===e&&(V(wt),ja._currentValue=at)}var ei,mi;function xe(e){if(ei===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ei=i&&i[1]||"",mi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ei+e+mi}var ii=!1;function Ws(e,i){if(!e||ii)return"";ii=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(j){var G=j}Reflect.construct(e,[],P)}else{try{P.call()}catch(j){G=j}e.call(P.prototype)}}else{try{throw Error()}catch(j){G=j}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(j){if(j&&G&&typeof j.stack=="string")return[j.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],v=d[1];if(y&&v){var T=y.split(`
`),U=v.split(`
`);for(h=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===T.length||h===U.length)for(l=T.length-1,h=U.length-1;1<=l&&0<=h&&T[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(T[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||T[l]!==U[h]){var H=`
`+T[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=h);break}}}finally{ii=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?xe(a):""}function mr(e,i){switch(e.tag){case 26:case 27:case 5:return xe(e.type);case 16:return xe("Lazy");case 13:return e.child!==i&&i!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Ws(e.type,!1);case 11:return Ws(e.type.render,!1);case 1:return Ws(e.type,!0);case 31:return xe("Activity");default:return""}}function pr(e){try{var i="",a=null;do i+=mr(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gr=Object.prototype.hasOwnProperty,ho=s.unstable_scheduleCallback,fo=s.unstable_cancelCallback,Qy=s.unstable_shouldYield,Zy=s.unstable_requestPaint,ze=s.unstable_now,Wy=s.unstable_getCurrentPriorityLevel,Lh=s.unstable_ImmediatePriority,jh=s.unstable_UserBlockingPriority,yr=s.unstable_NormalPriority,Ky=s.unstable_LowPriority,Hh=s.unstable_IdlePriority,$y=s.log,Jy=s.unstable_setDisableYieldValue,Ks=null,Re=null;function Ii(e){if(typeof $y=="function"&&Jy(e),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Ks,e)}catch{}}var Be=Math.clz32?Math.clz32:ix,tx=Math.log,ex=Math.LN2;function ix(e){return e>>>=0,e===0?32:31-(tx(e)/ex|0)|0}var xr=256,_r=262144,br=4194304;function An(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vr(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~d,l!==0?h=An(l):(y&=v,y!==0?h=An(y):a||(a=v&~e,a!==0&&(h=An(a))))):(v=l&~d,v!==0?h=An(v):y!==0?h=An(y):a||(a=l&~e,a!==0&&(h=An(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function $s(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function nx(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yh(){var e=br;return br<<=1,(br&62914560)===0&&(br=4194304),e}function mo(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Js(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sx(e,i,a,l,h,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,T=e.expirationTimes,U=e.hiddenUpdates;for(a=y&~a;0<a;){var H=31-Be(a),P=1<<H;v[H]=0,T[H]=-1;var G=U[H];if(G!==null)for(U[H]=null,H=0;H<G.length;H++){var j=G[H];j!==null&&(j.lane&=-536870913)}a&=~P}l!==0&&Xh(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~i))}function Xh(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Be(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function qh(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Be(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Vh(e,i){var a=i&-i;return a=(a&42)!==0?1:po(a),(a&(e.suspendedLanes|i))!==0?0:a}function po(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function go(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ph(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Bp(e.type))}function Fh(e,i){var a=Y.p;try{return Y.p=e,i()}finally{Y.p=a}}var Qi=Math.random().toString(36).slice(2),ue="__reactFiber$"+Qi,ve="__reactProps$"+Qi,Kn="__reactContainer$"+Qi,yo="__reactEvents$"+Qi,ax="__reactListeners$"+Qi,rx="__reactHandles$"+Qi,Ih="__reactResources$"+Qi,ta="__reactMarker$"+Qi;function xo(e){delete e[ue],delete e[ve],delete e[yo],delete e[ax],delete e[rx]}function $n(e){var i=e[ue];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Kn]||a[ue]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=pp(e);e!==null;){if(a=e[ue])return a;e=pp(e)}return i}e=a,a=e.parentNode}return null}function Jn(e){if(e=e[ue]||e[Kn]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function ea(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function ts(e){var i=e[Ih];return i||(i=e[Ih]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function re(e){e[ta]=!0}var Qh=new Set,Zh={};function wn(e,i){es(e,i),es(e+"Capture",i)}function es(e,i){for(Zh[e]=i,e=0;e<i.length;e++)Qh.add(i[e])}var lx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wh={},Kh={};function ox(e){return gr.call(Kh,e)?!0:gr.call(Wh,e)?!1:lx.test(e)?Kh[e]=!0:(Wh[e]=!0,!1)}function Sr(e,i,a){if(ox(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Ar(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ai(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $h(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ux(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function _o(e){if(!e._valueTracker){var i=$h(e)?"checked":"value";e._valueTracker=ux(e,i,""+e[i])}}function Jh(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=$h(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cx=/[\n"\\]/g;function qe(e){return e.replace(cx,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bo(e,i,a,l,h,d,y,v){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Xe(i)):e.value!==""+Xe(i)&&(e.value=""+Xe(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?vo(e,y,Xe(i)):a!=null?vo(e,y,Xe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Xe(v):e.removeAttribute("name")}function tf(e,i,a,l,h,d,y,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){_o(e);return}a=a!=null?""+Xe(a):"",i=i!=null?""+Xe(i):a,v||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),_o(e)}function vo(e,i,a){i==="number"&&wr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function is(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ef(e,i,a){if(i!=null&&(i=""+Xe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Xe(a):""}function nf(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(se(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Xe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),_o(e)}function ns(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var hx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sf(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||hx.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function af(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&sf(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&sf(e,d,i[d])}function So(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tr(e){return dx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wi(){}var Ao=null;function wo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ss=null,as=null;function rf(e){var i=Jn(e);if(i&&(e=i.stateNode)){var a=e[ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(bo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qe(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ve]||null;if(!h)throw Error(r(90));bo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Jh(l)}break t;case"textarea":ef(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&is(e,!!a.multiple,i,!1)}}}var To=!1;function lf(e,i,a){if(To)return e(i,a);To=!0;try{var l=e(i);return l}finally{if(To=!1,(ss!==null||as!==null)&&(fl(),ss&&(i=ss,e=as,as=ss=null,rf(i),e)))for(i=0;i<e.length;i++)rf(e[i])}}function ia(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=!1;if(Ti)try{var na={};Object.defineProperty(na,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Mo=!1}var Zi=null,Co=null,Mr=null;function of(){if(Mr)return Mr;var e,i=Co,a=i.length,l,h="value"in Zi?Zi.value:Zi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(l=1;l<=y&&i[a-l]===h[d-l];l++);return Mr=h.slice(e,1<l?1-l:void 0)}function Cr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Er(){return!0}function uf(){return!1}function Se(e){function i(a,l,h,d,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Er:uf,this.isPropagationStopped=uf,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),i}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zr=Se(Tn),sa=x({},Tn,{view:0,detail:0}),mx=Se(sa),Eo,zo,aa,Rr=x({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==aa&&(aa&&e.type==="mousemove"?(Eo=e.screenX-aa.screenX,zo=e.screenY-aa.screenY):zo=Eo=0,aa=e),Eo)},movementY:function(e){return"movementY"in e?e.movementY:zo}}),cf=Se(Rr),px=x({},Rr,{dataTransfer:0}),gx=Se(px),yx=x({},sa,{relatedTarget:0}),Ro=Se(yx),xx=x({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),_x=Se(xx),bx=x({},Tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vx=Se(bx),Sx=x({},Tn,{data:0}),hf=Se(Sx),Ax={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mx(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Tx[e])?!!i[e]:!1}function Bo(){return Mx}var Cx=x({},sa,{key:function(e){if(e.key){var i=Ax[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bo,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ex=Se(Cx),zx=x({},Rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=Se(zx),Rx=x({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bo}),Bx=Se(Rx),Ox=x({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nx=Se(Ox),Dx=x({},Rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ux=Se(Dx),kx=x({},Tn,{newState:0,oldState:0}),Gx=Se(kx),Lx=[9,13,27,32],Oo=Ti&&"CompositionEvent"in window,ra=null;Ti&&"documentMode"in document&&(ra=document.documentMode);var jx=Ti&&"TextEvent"in window&&!ra,df=Ti&&(!Oo||ra&&8<ra&&11>=ra),mf=" ",pf=!1;function gf(e,i){switch(e){case"keyup":return Lx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function Hx(e,i){switch(e){case"compositionend":return yf(i);case"keypress":return i.which!==32?null:(pf=!0,mf);case"textInput":return e=i.data,e===mf&&pf?null:e;default:return null}}function Yx(e,i){if(rs)return e==="compositionend"||!Oo&&gf(e,i)?(e=of(),Mr=Co=Zi=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return df&&i.locale!=="ko"?null:i.data;default:return null}}var Xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Xx[e.type]:i==="textarea"}function _f(e,i,a,l){ss?as?as.push(l):as=[l]:ss=l,i=_l(i,"onChange"),0<i.length&&(a=new zr("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var la=null,oa=null;function qx(e){ep(e,0)}function Br(e){var i=ea(e);if(Jh(i))return e}function bf(e,i){if(e==="change")return i}var vf=!1;if(Ti){var No;if(Ti){var Do="oninput"in document;if(!Do){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),Do=typeof Sf.oninput=="function"}No=Do}else No=!1;vf=No&&(!document.documentMode||9<document.documentMode)}function Af(){la&&(la.detachEvent("onpropertychange",wf),oa=la=null)}function wf(e){if(e.propertyName==="value"&&Br(oa)){var i=[];_f(i,oa,e,wo(e)),lf(qx,i)}}function Vx(e,i,a){e==="focusin"?(Af(),la=i,oa=a,la.attachEvent("onpropertychange",wf)):e==="focusout"&&Af()}function Px(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Br(oa)}function Fx(e,i){if(e==="click")return Br(i)}function Ix(e,i){if(e==="input"||e==="change")return Br(i)}function Qx(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Oe=typeof Object.is=="function"?Object.is:Qx;function ua(e,i){if(Oe(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!gr.call(i,h)||!Oe(e[h],i[h]))return!1}return!0}function Tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mf(e,i){var a=Tf(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Tf(a)}}function Cf(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Cf(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ef(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=wr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=wr(e.document)}return i}function Uo(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Zx=Ti&&"documentMode"in document&&11>=document.documentMode,ls=null,ko=null,ca=null,Go=!1;function zf(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Go||ls==null||ls!==wr(l)||(l=ls,"selectionStart"in l&&Uo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ca&&ua(ca,l)||(ca=l,l=_l(ko,"onSelect"),0<l.length&&(i=new zr("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ls)))}function Mn(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var os={animationend:Mn("Animation","AnimationEnd"),animationiteration:Mn("Animation","AnimationIteration"),animationstart:Mn("Animation","AnimationStart"),transitionrun:Mn("Transition","TransitionRun"),transitionstart:Mn("Transition","TransitionStart"),transitioncancel:Mn("Transition","TransitionCancel"),transitionend:Mn("Transition","TransitionEnd")},Lo={},Rf={};Ti&&(Rf=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Cn(e){if(Lo[e])return Lo[e];if(!os[e])return e;var i=os[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rf)return Lo[e]=i[a];return e}var Bf=Cn("animationend"),Of=Cn("animationiteration"),Nf=Cn("animationstart"),Wx=Cn("transitionrun"),Kx=Cn("transitionstart"),$x=Cn("transitioncancel"),Df=Cn("transitionend"),Uf=new Map,jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jo.push("scrollEnd");function ni(e,i){Uf.set(e,i),wn(i,[e])}var Or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ve=[],us=0,Ho=0;function Nr(){for(var e=us,i=Ho=us=0;i<e;){var a=Ve[i];Ve[i++]=null;var l=Ve[i];Ve[i++]=null;var h=Ve[i];Ve[i++]=null;var d=Ve[i];if(Ve[i++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&kf(a,h,d)}}function Dr(e,i,a,l){Ve[us++]=e,Ve[us++]=i,Ve[us++]=a,Ve[us++]=l,Ho|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Yo(e,i,a,l){return Dr(e,i,a,l),Ur(e)}function En(e,i){return Dr(e,null,null,i),Ur(e)}function kf(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Be(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ur(e){if(50<Oa)throw Oa=0,Wu=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var cs={};function Jx(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ne(e,i,a,l){return new Jx(e,i,a,l)}function Xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,i){var a=e.alternate;return a===null?(a=Ne(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Gf(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function kr(e,i,a,l,h,d){var y=0;if(l=e,typeof e=="function")Xo(e)&&(y=1);else if(typeof e=="string")y=sb(e,a,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Q:return e=Ne(31,a,i,h),e.elementType=Q,e.lanes=d,e;case w:return zn(a.children,h,d,i);case S:y=8,h|=24;break;case M:return e=Ne(12,a,i,h|2),e.elementType=M,e.lanes=d,e;case F:return e=Ne(13,a,i,h),e.elementType=F,e.lanes=d,e;case q:return e=Ne(19,a,i,h),e.elementType=q,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:y=10;break t;case C:y=9;break t;case N:y=11;break t;case L:y=14;break t;case W:y=16,l=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Ne(y,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function zn(e,i,a,l){return e=Ne(7,e,l,i),e.lanes=a,e}function qo(e,i,a){return e=Ne(6,e,null,i),e.lanes=a,e}function Lf(e){var i=Ne(18,null,null,0);return i.stateNode=e,i}function Vo(e,i,a){return i=Ne(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var jf=new WeakMap;function Pe(e,i){if(typeof e=="object"&&e!==null){var a=jf.get(e);return a!==void 0?a:(i={value:e,source:i,stack:pr(i)},jf.set(e,i),i)}return{value:e,source:i,stack:pr(i)}}var hs=[],fs=0,Gr=null,ha=0,Fe=[],Ie=0,Wi=null,pi=1,gi="";function Ci(e,i){hs[fs++]=ha,hs[fs++]=Gr,Gr=e,ha=i}function Hf(e,i,a){Fe[Ie++]=pi,Fe[Ie++]=gi,Fe[Ie++]=Wi,Wi=e;var l=pi;e=gi;var h=32-Be(l)-1;l&=~(1<<h),a+=1;var d=32-Be(i)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,pi=1<<32-Be(i)+h|a<<h|l,gi=d+e}else pi=1<<d|a<<h|l,gi=e}function Po(e){e.return!==null&&(Ci(e,1),Hf(e,1,0))}function Fo(e){for(;e===Gr;)Gr=hs[--fs],hs[fs]=null,ha=hs[--fs],hs[fs]=null;for(;e===Wi;)Wi=Fe[--Ie],Fe[Ie]=null,gi=Fe[--Ie],Fe[Ie]=null,pi=Fe[--Ie],Fe[Ie]=null}function Yf(e,i){Fe[Ie++]=pi,Fe[Ie++]=gi,Fe[Ie++]=Wi,pi=i.id,gi=i.overflow,Wi=e}var ce=null,Lt=null,bt=!1,Ki=null,Qe=!1,Io=Error(r(519));function $i(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fa(Pe(i,e)),Io}function Xf(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ue]=e,i[ve]=l,a){case"dialog":pt("cancel",i),pt("close",i);break;case"iframe":case"object":case"embed":pt("load",i);break;case"video":case"audio":for(a=0;a<Da.length;a++)pt(Da[a],i);break;case"source":pt("error",i);break;case"img":case"image":case"link":pt("error",i),pt("load",i);break;case"details":pt("toggle",i);break;case"input":pt("invalid",i),tf(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":pt("invalid",i);break;case"textarea":pt("invalid",i),nf(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ap(i.textContent,a)?(l.popover!=null&&(pt("beforetoggle",i),pt("toggle",i)),l.onScroll!=null&&pt("scroll",i),l.onScrollEnd!=null&&pt("scrollend",i),l.onClick!=null&&(i.onclick=wi),i=!0):i=!1,i||$i(e,!0)}function qf(e){for(ce=e.return;ce;)switch(ce.tag){case 5:case 31:case 13:Qe=!1;return;case 27:case 3:Qe=!0;return;default:ce=ce.return}}function ds(e){if(e!==ce)return!1;if(!bt)return qf(e),bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hc(e.type,e.memoizedProps)),a=!a),a&&Lt&&$i(e),qf(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Lt=mp(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Lt=mp(e)}else i===27?(i=Lt,dn(e.type)?(e=gc,gc=null,Lt=e):Lt=i):Lt=ce?We(e.stateNode.nextSibling):null;return!0}function Rn(){Lt=ce=null,bt=!1}function Qo(){var e=Ki;return e!==null&&(Me===null?Me=e:Me.push.apply(Me,e),Ki=null),e}function fa(e){Ki===null?Ki=[e]:Ki.push(e)}var Zo=z(null),Bn=null,Ei=null;function Ji(e,i,a){I(Zo,i._currentValue),i._currentValue=a}function zi(e){e._currentValue=Zo.current,V(Zo)}function Wo(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Ko(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;t:for(;d!==null;){var v=d;d=h;for(var T=0;T<i.length;T++)if(v.context===i[T]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),Wo(d.return,a,e),l||(y=null);break t}d=v.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Wo(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ms(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var v=h.type;Oe(h.pendingProps.value,y.value)||(e!==null?e.push(v):e=[v])}}else if(h===wt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ja):e=[ja])}h=h.return}e!==null&&Ko(i,e,a,l),i.flags|=262144}function Lr(e){for(e=e.firstContext;e!==null;){if(!Oe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function On(e){Bn=e,Ei=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function he(e){return Vf(Bn,e)}function jr(e,i){return Bn===null&&On(e),Vf(e,i)}function Vf(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ei===null){if(e===null)throw Error(r(308));Ei=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ei=Ei.next=i;return a}var t_=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},e_=s.unstable_scheduleCallback,i_=s.unstable_NormalPriority,Kt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $o(){return{controller:new t_,data:new Map,refCount:0}}function da(e){e.refCount--,e.refCount===0&&e_(i_,function(){e.controller.abort()})}var ma=null,Jo=0,ps=0,gs=null;function n_(e,i){if(ma===null){var a=ma=[];Jo=0,ps=ic(),gs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jo++,i.then(Pf,Pf),i}function Pf(){if(--Jo===0&&ma!==null){gs!==null&&(gs.status="fulfilled");var e=ma;ma=null,ps=0,gs=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function s_(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ff=B.S;B.S=function(e,i){zm=ze(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&n_(e,i),Ff!==null&&Ff(e,i)};var Nn=z(null);function tu(){var e=Nn.current;return e!==null?e:Ut.pooledCache}function Hr(e,i){i===null?I(Nn,Nn.current):I(Nn,i.pool)}function If(){var e=tu();return e===null?null:{parent:Kt._currentValue,pool:e}}var ys=Error(r(460)),eu=Error(r(474)),Yr=Error(r(542)),Xr={then:function(){}};function Qf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zf(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(wi,wi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Kf(e),e;default:if(typeof i.status=="string")i.then(wi,wi);else{if(e=Ut,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Kf(e),e}throw Un=i,ys}}function Dn(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Un=a,ys):a}}var Un=null;function Wf(){if(Un===null)throw Error(r(459));var e=Un;return Un=null,e}function Kf(e){if(e===ys||e===Yr)throw Error(r(483))}var xs=null,pa=0;function qr(e){var i=pa;return pa+=1,xs===null&&(xs=[]),Zf(xs,e,i)}function ga(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Vr(e,i){throw i.$$typeof===_?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function $f(e){function i(O,E){if(e){var D=O.deletions;D===null?(O.deletions=[E],O.flags|=16):D.push(E)}}function a(O,E){if(!e)return null;for(;E!==null;)i(O,E),E=E.sibling;return null}function l(O){for(var E=new Map;O!==null;)O.key!==null?E.set(O.key,O):E.set(O.index,O),O=O.sibling;return E}function h(O,E){return O=Mi(O,E),O.index=0,O.sibling=null,O}function d(O,E,D){return O.index=D,e?(D=O.alternate,D!==null?(D=D.index,D<E?(O.flags|=67108866,E):D):(O.flags|=67108866,E)):(O.flags|=1048576,E)}function y(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,E,D,X){return E===null||E.tag!==6?(E=qo(D,O.mode,X),E.return=O,E):(E=h(E,D),E.return=O,E)}function T(O,E,D,X){var nt=D.type;return nt===w?H(O,E,D.props.children,X,D.key):E!==null&&(E.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===W&&Dn(nt)===E.type)?(E=h(E,D.props),ga(E,D),E.return=O,E):(E=kr(D.type,D.key,D.props,null,O.mode,X),ga(E,D),E.return=O,E)}function U(O,E,D,X){return E===null||E.tag!==4||E.stateNode.containerInfo!==D.containerInfo||E.stateNode.implementation!==D.implementation?(E=Vo(D,O.mode,X),E.return=O,E):(E=h(E,D.children||[]),E.return=O,E)}function H(O,E,D,X,nt){return E===null||E.tag!==7?(E=zn(D,O.mode,X,nt),E.return=O,E):(E=h(E,D),E.return=O,E)}function P(O,E,D){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=qo(""+E,O.mode,D),E.return=O,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case b:return D=kr(E.type,E.key,E.props,null,O.mode,D),ga(D,E),D.return=O,D;case A:return E=Vo(E,O.mode,D),E.return=O,E;case W:return E=Dn(E),P(O,E,D)}if(se(E)||ht(E))return E=zn(E,O.mode,D,null),E.return=O,E;if(typeof E.then=="function")return P(O,qr(E),D);if(E.$$typeof===R)return P(O,jr(O,E),D);Vr(O,E)}return null}function G(O,E,D,X){var nt=E!==null?E.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return nt!==null?null:v(O,E,""+D,X);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return D.key===nt?T(O,E,D,X):null;case A:return D.key===nt?U(O,E,D,X):null;case W:return D=Dn(D),G(O,E,D,X)}if(se(D)||ht(D))return nt!==null?null:H(O,E,D,X,null);if(typeof D.then=="function")return G(O,E,qr(D),X);if(D.$$typeof===R)return G(O,E,jr(O,D),X);Vr(O,D)}return null}function j(O,E,D,X,nt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return O=O.get(D)||null,v(E,O,""+X,nt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return O=O.get(X.key===null?D:X.key)||null,T(E,O,X,nt);case A:return O=O.get(X.key===null?D:X.key)||null,U(E,O,X,nt);case W:return X=Dn(X),j(O,E,D,X,nt)}if(se(X)||ht(X))return O=O.get(D)||null,H(E,O,X,nt,null);if(typeof X.then=="function")return j(O,E,D,qr(X),nt);if(X.$$typeof===R)return j(O,E,D,jr(E,X),nt);Vr(E,X)}return null}function J(O,E,D,X){for(var nt=null,Tt=null,tt=E,ft=E=0,xt=null;tt!==null&&ft<D.length;ft++){tt.index>ft?(xt=tt,tt=null):xt=tt.sibling;var Mt=G(O,tt,D[ft],X);if(Mt===null){tt===null&&(tt=xt);break}e&&tt&&Mt.alternate===null&&i(O,tt),E=d(Mt,E,ft),Tt===null?nt=Mt:Tt.sibling=Mt,Tt=Mt,tt=xt}if(ft===D.length)return a(O,tt),bt&&Ci(O,ft),nt;if(tt===null){for(;ft<D.length;ft++)tt=P(O,D[ft],X),tt!==null&&(E=d(tt,E,ft),Tt===null?nt=tt:Tt.sibling=tt,Tt=tt);return bt&&Ci(O,ft),nt}for(tt=l(tt);ft<D.length;ft++)xt=j(tt,O,ft,D[ft],X),xt!==null&&(e&&xt.alternate!==null&&tt.delete(xt.key===null?ft:xt.key),E=d(xt,E,ft),Tt===null?nt=xt:Tt.sibling=xt,Tt=xt);return e&&tt.forEach(function(xn){return i(O,xn)}),bt&&Ci(O,ft),nt}function rt(O,E,D,X){if(D==null)throw Error(r(151));for(var nt=null,Tt=null,tt=E,ft=E=0,xt=null,Mt=D.next();tt!==null&&!Mt.done;ft++,Mt=D.next()){tt.index>ft?(xt=tt,tt=null):xt=tt.sibling;var xn=G(O,tt,Mt.value,X);if(xn===null){tt===null&&(tt=xt);break}e&&tt&&xn.alternate===null&&i(O,tt),E=d(xn,E,ft),Tt===null?nt=xn:Tt.sibling=xn,Tt=xn,tt=xt}if(Mt.done)return a(O,tt),bt&&Ci(O,ft),nt;if(tt===null){for(;!Mt.done;ft++,Mt=D.next())Mt=P(O,Mt.value,X),Mt!==null&&(E=d(Mt,E,ft),Tt===null?nt=Mt:Tt.sibling=Mt,Tt=Mt);return bt&&Ci(O,ft),nt}for(tt=l(tt);!Mt.done;ft++,Mt=D.next())Mt=j(tt,O,ft,Mt.value,X),Mt!==null&&(e&&Mt.alternate!==null&&tt.delete(Mt.key===null?ft:Mt.key),E=d(Mt,E,ft),Tt===null?nt=Mt:Tt.sibling=Mt,Tt=Mt);return e&&tt.forEach(function(pb){return i(O,pb)}),bt&&Ci(O,ft),nt}function Nt(O,E,D,X){if(typeof D=="object"&&D!==null&&D.type===w&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case b:t:{for(var nt=D.key;E!==null;){if(E.key===nt){if(nt=D.type,nt===w){if(E.tag===7){a(O,E.sibling),X=h(E,D.props.children),X.return=O,O=X;break t}}else if(E.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===W&&Dn(nt)===E.type){a(O,E.sibling),X=h(E,D.props),ga(X,D),X.return=O,O=X;break t}a(O,E);break}else i(O,E);E=E.sibling}D.type===w?(X=zn(D.props.children,O.mode,X,D.key),X.return=O,O=X):(X=kr(D.type,D.key,D.props,null,O.mode,X),ga(X,D),X.return=O,O=X)}return y(O);case A:t:{for(nt=D.key;E!==null;){if(E.key===nt)if(E.tag===4&&E.stateNode.containerInfo===D.containerInfo&&E.stateNode.implementation===D.implementation){a(O,E.sibling),X=h(E,D.children||[]),X.return=O,O=X;break t}else{a(O,E);break}else i(O,E);E=E.sibling}X=Vo(D,O.mode,X),X.return=O,O=X}return y(O);case W:return D=Dn(D),Nt(O,E,D,X)}if(se(D))return J(O,E,D,X);if(ht(D)){if(nt=ht(D),typeof nt!="function")throw Error(r(150));return D=nt.call(D),rt(O,E,D,X)}if(typeof D.then=="function")return Nt(O,E,qr(D),X);if(D.$$typeof===R)return Nt(O,E,jr(O,D),X);Vr(O,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,E!==null&&E.tag===6?(a(O,E.sibling),X=h(E,D),X.return=O,O=X):(a(O,E),X=qo(D,O.mode,X),X.return=O,O=X),y(O)):a(O,E)}return function(O,E,D,X){try{pa=0;var nt=Nt(O,E,D,X);return xs=null,nt}catch(tt){if(tt===ys||tt===Yr)throw tt;var Tt=Ne(29,tt,null,O.mode);return Tt.lanes=X,Tt.return=O,Tt}finally{}}}var kn=$f(!0),Jf=$f(!1),tn=!1;function iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function en(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nn(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ct&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ur(e),kf(e,null,a),i}return Dr(e,l,i,a),Ur(e)}function ya(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,qh(e,a)}}function su(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var au=!1;function xa(){if(au){var e=gs;if(e!==null)throw e}}function _a(e,i,a,l){au=!1;var h=e.updateQueue;tn=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var T=v,U=T.next;T.next=null,y===null?d=U:y.next=U,y=T;var H=e.alternate;H!==null&&(H=H.updateQueue,v=H.lastBaseUpdate,v!==y&&(v===null?H.firstBaseUpdate=U:v.next=U,H.lastBaseUpdate=T))}if(d!==null){var P=h.baseState;y=0,H=U=T=null,v=d;do{var G=v.lane&-536870913,j=G!==v.lane;if(j?(yt&G)===G:(l&G)===G){G!==0&&G===ps&&(au=!0),H!==null&&(H=H.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var J=e,rt=v;G=i;var Nt=a;switch(rt.tag){case 1:if(J=rt.payload,typeof J=="function"){P=J.call(Nt,P,G);break t}P=J;break t;case 3:J.flags=J.flags&-65537|128;case 0:if(J=rt.payload,G=typeof J=="function"?J.call(Nt,P,G):J,G==null)break t;P=x({},P,G);break t;case 2:tn=!0}}G=v.callback,G!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[G]:j.push(G))}else j={lane:G,tag:v.tag,payload:v.payload,callback:v.callback,next:null},H===null?(U=H=j,T=P):H=H.next=j,y|=G;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;j=v,v=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);H===null&&(T=P),h.baseState=T,h.firstBaseUpdate=U,h.lastBaseUpdate=H,d===null&&(h.shared.lanes=0),on|=y,e.lanes=y,e.memoizedState=P}}function td(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function ed(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)td(a[e],i)}var _s=z(null),Pr=z(0);function id(e,i){e=Li,I(Pr,e),I(_s,i),Li=e|i.baseLanes}function ru(){I(Pr,Li),I(_s,_s.current)}function lu(){Li=Pr.current,V(_s),V(Pr)}var De=z(null),Ze=null;function sn(e){var i=e.alternate;I(Zt,Zt.current&1),I(De,e),Ze===null&&(i===null||_s.current!==null||i.memoizedState!==null)&&(Ze=e)}function ou(e){I(Zt,Zt.current),I(De,e),Ze===null&&(Ze=e)}function nd(e){e.tag===22?(I(Zt,Zt.current),I(De,e),Ze===null&&(Ze=e)):an()}function an(){I(Zt,Zt.current),I(De,De.current)}function Ue(e){V(De),Ze===e&&(Ze=null),V(Zt)}var Zt=z(0);function Fr(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mc(a)||pc(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ri=0,ct=null,Bt=null,$t=null,Ir=!1,bs=!1,Gn=!1,Qr=0,ba=0,vs=null,a_=0;function Pt(){throw Error(r(321))}function uu(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Oe(e[a],i[a]))return!1;return!0}function cu(e,i,a,l,h,d){return Ri=d,ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=e===null||e.memoizedState===null?Hd:Tu,Gn=!1,d=a(l,h),Gn=!1,bs&&(d=ad(i,a,l,h)),sd(e),d}function sd(e){B.H=Aa;var i=Bt!==null&&Bt.next!==null;if(Ri=0,$t=Bt=ct=null,Ir=!1,ba=0,vs=null,i)throw Error(r(300));e===null||Jt||(e=e.dependencies,e!==null&&Lr(e)&&(Jt=!0))}function ad(e,i,a,l){ct=e;var h=0;do{if(bs&&(vs=null),ba=0,bs=!1,25<=h)throw Error(r(301));if(h+=1,$t=Bt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=Yd,d=i(a,l)}while(bs);return d}function r_(){var e=B.H,i=e.useState()[0];return i=typeof i.then=="function"?va(i):i,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(ct.flags|=1024),i}function hu(){var e=Qr!==0;return Qr=0,e}function fu(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function du(e){if(Ir){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Ir=!1}Ri=0,$t=Bt=ct=null,bs=!1,ba=Qr=0,vs=null}function _e(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ct.memoizedState=$t=e:$t=$t.next=e,$t}function Wt(){if(Bt===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var i=$t===null?ct.memoizedState:$t.next;if(i!==null)$t=i,Bt=e;else{if(e===null)throw ct.alternate===null?Error(r(467)):Error(r(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},$t===null?ct.memoizedState=$t=e:$t=$t.next=e}return $t}function Zr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function va(e){var i=ba;return ba+=1,vs===null&&(vs=[]),e=Zf(vs,e,i),i=ct,($t===null?i.memoizedState:$t.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?Hd:Tu),e}function Wr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return va(e);if(e.$$typeof===R)return he(e)}throw Error(r(438,String(e)))}function mu(e){var i=null,a=ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zr(),ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=Z;return i.index++,a}function Bi(e,i){return typeof i=="function"?i(e):i}function Kr(e){var i=Wt();return pu(i,Bt,e)}function pu(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var v=y=null,T=null,U=i,H=!1;do{var P=U.lane&-536870913;if(P!==U.lane?(yt&P)===P:(Ri&P)===P){var G=U.revertLane;if(G===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),P===ps&&(H=!0);else if((Ri&G)===G){U=U.next,G===ps&&(H=!0);continue}else P={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},T===null?(v=T=P,y=d):T=T.next=P,ct.lanes|=G,on|=G;P=U.action,Gn&&a(d,P),d=U.hasEagerState?U.eagerState:a(d,P)}else G={lane:P,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},T===null?(v=T=G,y=d):T=T.next=G,ct.lanes|=P,on|=P;U=U.next}while(U!==null&&U!==i);if(T===null?y=d:T.next=v,!Oe(d,e.memoizedState)&&(Jt=!0,H&&(a=gs,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=T,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function gu(e){var i=Wt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);Oe(d,i.memoizedState)||(Jt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function rd(e,i,a){var l=ct,h=Wt(),d=bt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!Oe((Bt||h).memoizedState,a);if(y&&(h.memoizedState=a,Jt=!0),h=h.queue,_u(ud.bind(null,l,h,e),[e]),h.getSnapshot!==i||y||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,Ss(9,{destroy:void 0},od.bind(null,l,h,a,i),null),Ut===null)throw Error(r(349));d||(Ri&127)!==0||ld(l,i,a)}return a}function ld(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=ct.updateQueue,i===null?(i=Zr(),ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function od(e,i,a,l){i.value=a,i.getSnapshot=l,cd(i)&&hd(e)}function ud(e,i,a){return a(function(){cd(i)&&hd(e)})}function cd(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Oe(e,a)}catch{return!0}}function hd(e){var i=En(e,2);i!==null&&Ce(i,e,2)}function yu(e){var i=_e();if(typeof e=="function"){var a=e;if(e=a(),Gn){Ii(!0);try{a()}finally{Ii(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},i}function fd(e,i,a,l){return e.baseState=a,pu(e,Bt,typeof l=="function"?l:Bi)}function l_(e,i,a,l,h){if(tl(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};B.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,dd(i,d)):(d.next=a.next,i.pending=a.next=d)}}function dd(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=B.T,y={};B.T=y;try{var v=a(h,l),T=B.S;T!==null&&T(y,v),md(e,i,v)}catch(U){xu(e,i,U)}finally{d!==null&&y.types!==null&&(d.types=y.types),B.T=d}}else try{d=a(h,l),md(e,i,d)}catch(U){xu(e,i,U)}}function md(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){pd(e,i,l)},function(l){return xu(e,i,l)}):pd(e,i,a)}function pd(e,i,a){i.status="fulfilled",i.value=a,gd(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,dd(e,a)))}function xu(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,gd(i),i=i.next;while(i!==l)}e.action=null}function gd(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function yd(e,i){return i}function xd(e,i){if(bt){var a=Ut.formState;if(a!==null){t:{var l=ct;if(bt){if(Lt){e:{for(var h=Lt,d=Qe;h.nodeType!==8;){if(!d){h=null;break e}if(h=We(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Lt=We(h.nextSibling),l=h.data==="F!";break t}}$i(l)}l=!1}l&&(i=a[0])}}return a=_e(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:i},a.queue=l,a=Gd.bind(null,ct,l),l.dispatch=a,l=yu(!1),d=wu.bind(null,ct,!1,l.queue),l=_e(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=l_.bind(null,ct,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function _d(e){var i=Wt();return bd(i,Bt,e)}function bd(e,i,a){if(i=pu(e,i,yd)[0],e=Kr(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=va(i)}catch(y){throw y===ys?Yr:y}else l=i;i=Wt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(ct.flags|=2048,Ss(9,{destroy:void 0},o_.bind(null,h,a),null)),[l,d,e]}function o_(e,i){e.action=i}function vd(e){var i=Wt(),a=Bt;if(a!==null)return bd(i,a,e);Wt(),i=i.memoizedState,a=Wt();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ss(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=ct.updateQueue,i===null&&(i=Zr(),ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Sd(){return Wt().memoizedState}function $r(e,i,a,l){var h=_e();ct.flags|=e,h.memoizedState=Ss(1|i,{destroy:void 0},a,l===void 0?null:l)}function Jr(e,i,a,l){var h=Wt();l=l===void 0?null:l;var d=h.memoizedState.inst;Bt!==null&&l!==null&&uu(l,Bt.memoizedState.deps)?h.memoizedState=Ss(i,d,a,l):(ct.flags|=e,h.memoizedState=Ss(1|i,d,a,l))}function Ad(e,i){$r(8390656,8,e,i)}function _u(e,i){Jr(2048,8,e,i)}function u_(e){ct.flags|=4;var i=ct.updateQueue;if(i===null)i=Zr(),ct.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function wd(e){var i=Wt().memoizedState;return u_({ref:i,nextImpl:e}),function(){if((Ct&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Td(e,i){return Jr(4,2,e,i)}function Md(e,i){return Jr(4,4,e,i)}function Cd(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ed(e,i,a){a=a!=null?a.concat([e]):null,Jr(4,4,Cd.bind(null,i,e),a)}function bu(){}function zd(e,i){var a=Wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&uu(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Rd(e,i){var a=Wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&uu(i,l[1]))return l[0];if(l=e(),Gn){Ii(!0);try{e()}finally{Ii(!1)}}return a.memoizedState=[l,i],l}function vu(e,i,a){return a===void 0||(Ri&1073741824)!==0&&(yt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Bm(),ct.lanes|=e,on|=e,a)}function Bd(e,i,a,l){return Oe(a,i)?a:_s.current!==null?(e=vu(e,a,l),Oe(e,i)||(Jt=!0),e):(Ri&42)===0||(Ri&1073741824)!==0&&(yt&261930)===0?(Jt=!0,e.memoizedState=a):(e=Bm(),ct.lanes|=e,on|=e,i)}function Od(e,i,a,l,h){var d=Y.p;Y.p=d!==0&&8>d?d:8;var y=B.T,v={};B.T=v,wu(e,!1,i,a);try{var T=h(),U=B.S;if(U!==null&&U(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var H=s_(T,l);Sa(e,i,H,Le(e))}else Sa(e,i,l,Le(e))}catch(P){Sa(e,i,{then:function(){},status:"rejected",reason:P},Le())}finally{Y.p=d,y!==null&&v.types!==null&&(y.types=v.types),B.T=y}}function c_(){}function Su(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=Nd(e).queue;Od(e,h,i,at,a===null?c_:function(){return Dd(e),a(l)})}function Nd(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:at},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Dd(e){var i=Nd(e);i.next===null&&(i=e.alternate.memoizedState),Sa(e,i.next.queue,{},Le())}function Au(){return he(ja)}function Ud(){return Wt().memoizedState}function kd(){return Wt().memoizedState}function h_(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Le();e=en(a);var l=nn(i,e,a);l!==null&&(Ce(l,i,a),ya(l,i,a)),i={cache:$o()},e.payload=i;return}i=i.return}}function f_(e,i,a){var l=Le();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},tl(e)?Ld(i,a):(a=Yo(e,i,a,l),a!==null&&(Ce(a,e,l),jd(a,i,l)))}function Gd(e,i,a){var l=Le();Sa(e,i,a,l)}function Sa(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(tl(e))Ld(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,v=d(y,a);if(h.hasEagerState=!0,h.eagerState=v,Oe(v,y))return Dr(e,i,h,0),Ut===null&&Nr(),!1}catch{}finally{}if(a=Yo(e,i,h,l),a!==null)return Ce(a,e,l),jd(a,i,l),!0}return!1}function wu(e,i,a,l){if(l={lane:2,revertLane:ic(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tl(e)){if(i)throw Error(r(479))}else i=Yo(e,a,l,2),i!==null&&Ce(i,e,2)}function tl(e){var i=e.alternate;return e===ct||i!==null&&i===ct}function Ld(e,i){bs=Ir=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function jd(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,qh(e,a)}}var Aa={readContext:he,use:Wr,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};Aa.useEffectEvent=Pt;var Hd={readContext:he,use:Wr,useCallback:function(e,i){return _e().memoizedState=[e,i===void 0?null:i],e},useContext:he,useEffect:Ad,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,$r(4194308,4,Cd.bind(null,i,e),a)},useLayoutEffect:function(e,i){return $r(4194308,4,e,i)},useInsertionEffect:function(e,i){$r(4,2,e,i)},useMemo:function(e,i){var a=_e();i=i===void 0?null:i;var l=e();if(Gn){Ii(!0);try{e()}finally{Ii(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=_e();if(a!==void 0){var h=a(i);if(Gn){Ii(!0);try{a(i)}finally{Ii(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=f_.bind(null,ct,e),[l.memoizedState,e]},useRef:function(e){var i=_e();return e={current:e},i.memoizedState=e},useState:function(e){e=yu(e);var i=e.queue,a=Gd.bind(null,ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:bu,useDeferredValue:function(e,i){var a=_e();return vu(a,e,i)},useTransition:function(){var e=yu(!1);return e=Od.bind(null,ct,e.queue,!0,!1),_e().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=ct,h=_e();if(bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Ut===null)throw Error(r(349));(yt&127)!==0||ld(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ad(ud.bind(null,l,d,e),[e]),l.flags|=2048,Ss(9,{destroy:void 0},od.bind(null,l,d,a,i),null),a},useId:function(){var e=_e(),i=Ut.identifierPrefix;if(bt){var a=gi,l=pi;a=(l&~(1<<32-Be(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Qr++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=a_++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Au,useFormState:xd,useActionState:xd,useOptimistic:function(e){var i=_e();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=wu.bind(null,ct,!0,a),a.dispatch=i,[e,i]},useMemoCache:mu,useCacheRefresh:function(){return _e().memoizedState=h_.bind(null,ct)},useEffectEvent:function(e){var i=_e(),a={impl:e};return i.memoizedState=a,function(){if((Ct&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Tu={readContext:he,use:Wr,useCallback:zd,useContext:he,useEffect:_u,useImperativeHandle:Ed,useInsertionEffect:Td,useLayoutEffect:Md,useMemo:Rd,useReducer:Kr,useRef:Sd,useState:function(){return Kr(Bi)},useDebugValue:bu,useDeferredValue:function(e,i){var a=Wt();return Bd(a,Bt.memoizedState,e,i)},useTransition:function(){var e=Kr(Bi)[0],i=Wt().memoizedState;return[typeof e=="boolean"?e:va(e),i]},useSyncExternalStore:rd,useId:Ud,useHostTransitionStatus:Au,useFormState:_d,useActionState:_d,useOptimistic:function(e,i){var a=Wt();return fd(a,Bt,e,i)},useMemoCache:mu,useCacheRefresh:kd};Tu.useEffectEvent=wd;var Yd={readContext:he,use:Wr,useCallback:zd,useContext:he,useEffect:_u,useImperativeHandle:Ed,useInsertionEffect:Td,useLayoutEffect:Md,useMemo:Rd,useReducer:gu,useRef:Sd,useState:function(){return gu(Bi)},useDebugValue:bu,useDeferredValue:function(e,i){var a=Wt();return Bt===null?vu(a,e,i):Bd(a,Bt.memoizedState,e,i)},useTransition:function(){var e=gu(Bi)[0],i=Wt().memoizedState;return[typeof e=="boolean"?e:va(e),i]},useSyncExternalStore:rd,useId:Ud,useHostTransitionStatus:Au,useFormState:vd,useActionState:vd,useOptimistic:function(e,i){var a=Wt();return Bt!==null?fd(a,Bt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mu,useCacheRefresh:kd};Yd.useEffectEvent=wd;function Mu(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:x({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Cu={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Le(),h=en(l);h.payload=i,a!=null&&(h.callback=a),i=nn(e,h,l),i!==null&&(Ce(i,e,l),ya(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Le(),h=en(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=nn(e,h,l),i!==null&&(Ce(i,e,l),ya(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Le(),l=en(a);l.tag=2,i!=null&&(l.callback=i),i=nn(e,l,a),i!==null&&(Ce(i,e,a),ya(i,e,a))}};function Xd(e,i,a,l,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!ua(a,l)||!ua(h,d):!0}function qd(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Cu.enqueueReplaceState(i,i.state,null)}function Ln(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=x({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Vd(e){Or(e)}function Pd(e){console.error(e)}function Fd(e){Or(e)}function el(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Id(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Eu(e,i,a){return a=en(a),a.tag=3,a.payload={element:null},a.callback=function(){el(e,i)},a}function Qd(e){return e=en(e),e.tag=3,e}function Zd(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Id(i,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Id(i,a,l),typeof h!="function"&&(un===null?un=new Set([this]):un.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function d_(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ms(i,a,h,!0),a=De.current,a!==null){switch(a.tag){case 31:case 13:return Ze===null?dl():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Xr?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ju(e,l,h)),!1;case 22:return a.flags|=65536,l===Xr?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ju(e,l,h)),!1}throw Error(r(435,a.tag))}return Ju(e,l,h),dl(),!1}if(bt)return i=De.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Io&&(e=Error(r(422),{cause:l}),fa(Pe(e,a)))):(l!==Io&&(i=Error(r(423),{cause:l}),fa(Pe(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Pe(l,a),h=Eu(e.stateNode,l,h),su(e,h),Ft!==4&&(Ft=2)),!1;var d=Error(r(520),{cause:l});if(d=Pe(d,a),Ba===null?Ba=[d]:Ba.push(d),Ft!==4&&(Ft=2),i===null)return!0;l=Pe(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Eu(a.stateNode,l,e),su(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(un===null||!un.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qd(h),Zd(h,e,a,l),su(a,h),!1}a=a.return}while(a!==null);return!1}var zu=Error(r(461)),Jt=!1;function fe(e,i,a,l){i.child=e===null?Jf(i,null,a,l):kn(i,e.child,a,l)}function Wd(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var y={};for(var v in l)v!=="ref"&&(y[v]=l[v])}else y=l;return On(i),l=cu(e,i,a,y,d,h),v=hu(),e!==null&&!Jt?(fu(e,i,h),Oi(e,i,h)):(bt&&v&&Po(i),i.flags|=1,fe(e,i,l,h),i.child)}function Kd(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Xo(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,$d(e,i,d,l,h)):(e=kr(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Gu(e,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:ua,a(y,l)&&e.ref===i.ref)return Oi(e,i,h)}return i.flags|=1,e=Mi(d,l),e.ref=i.ref,e.return=i,i.child=e}function $d(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(ua(d,l)&&e.ref===i.ref)if(Jt=!1,i.pendingProps=l=d,Gu(e,h))(e.flags&131072)!==0&&(Jt=!0);else return i.lanes=e.lanes,Oi(e,i,h)}return Ru(e,i,a,l,h)}function Jd(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return tm(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hr(i,d!==null?d.cachePool:null),d!==null?id(i,d):ru(),nd(i);else return l=i.lanes=536870912,tm(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Hr(i,d.cachePool),id(i,d),an(),i.memoizedState=null):(e!==null&&Hr(i,null),ru(),an());return fe(e,i,h,a),i.child}function wa(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function tm(e,i,a,l,h){var d=tu();return d=d===null?null:{parent:Kt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Hr(i,null),ru(),nd(i),e!==null&&ms(e,i,l,!0),i.childLanes=h,null}function il(e,i){return i=sl({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function em(e,i,a){return kn(i,e.child,null,a),e=il(i,i.pendingProps),e.flags|=2,Ue(i),i.memoizedState=null,e}function m_(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(bt){if(l.mode==="hidden")return e=il(i,l),i.lanes=536870912,wa(null,e);if(ou(i),(e=Lt)?(e=dp(e,Qe),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Wi!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},a=Lf(e),a.return=i,i.child=a,ce=i,Lt=null)):e=null,e===null)throw $i(i);return i.lanes=536870912,null}return il(i,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(ou(i),h)if(i.flags&256)i.flags&=-257,i=em(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Jt||ms(e,i,a,!1),h=(a&e.childLanes)!==0,Jt||h){if(l=Ut,l!==null&&(y=Vh(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,En(e,y),Ce(l,e,y),zu;dl(),i=em(e,i,a)}else e=d.treeContext,Lt=We(y.nextSibling),ce=i,bt=!0,Ki=null,Qe=!1,e!==null&&Yf(i,e),i=il(i,l),i.flags|=4096;return i}return e=Mi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function nl(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ru(e,i,a,l,h){return On(i),a=cu(e,i,a,l,void 0,h),l=hu(),e!==null&&!Jt?(fu(e,i,h),Oi(e,i,h)):(bt&&l&&Po(i),i.flags|=1,fe(e,i,a,h),i.child)}function im(e,i,a,l,h,d){return On(i),i.updateQueue=null,a=ad(i,l,a,h),sd(e),l=hu(),e!==null&&!Jt?(fu(e,i,d),Oi(e,i,d)):(bt&&l&&Po(i),i.flags|=1,fe(e,i,a,d),i.child)}function nm(e,i,a,l,h){if(On(i),i.stateNode===null){var d=cs,y=a.contextType;typeof y=="object"&&y!==null&&(d=he(y)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cu,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},iu(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?he(y):cs,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Mu(i,a,y,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Cu.enqueueReplaceState(d,d.state,null),_a(i,l,d,h),xa(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var v=i.memoizedProps,T=Ln(a,v);d.props=T;var U=d.context,H=a.contextType;y=cs,typeof H=="object"&&H!==null&&(y=he(H));var P=a.getDerivedStateFromProps;H=typeof P=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=i.pendingProps!==v,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||U!==y)&&qd(i,d,l,y),tn=!1;var G=i.memoizedState;d.state=G,_a(i,l,d,h),xa(),U=i.memoizedState,v||G!==U||tn?(typeof P=="function"&&(Mu(i,a,P,l),U=i.memoizedState),(T=tn||Xd(i,a,T,l,G,U,y))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=y,l=T):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,nu(e,i),y=i.memoizedProps,H=Ln(a,y),d.props=H,P=i.pendingProps,G=d.context,U=a.contextType,T=cs,typeof U=="object"&&U!==null&&(T=he(U)),v=a.getDerivedStateFromProps,(U=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==P||G!==T)&&qd(i,d,l,T),tn=!1,G=i.memoizedState,d.state=G,_a(i,l,d,h),xa();var j=i.memoizedState;y!==P||G!==j||tn||e!==null&&e.dependencies!==null&&Lr(e.dependencies)?(typeof v=="function"&&(Mu(i,a,v,l),j=i.memoizedState),(H=tn||Xd(i,a,H,l,G,j,T)||e!==null&&e.dependencies!==null&&Lr(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,T),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,T)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=T,l=H):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,nl(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=kn(i,e.child,null,h),i.child=kn(i,null,a,h)):fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Oi(e,i,h),e}function sm(e,i,a,l){return Rn(),i.flags|=256,fe(e,i,a,l),i.child}var Bu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ou(e){return{baseLanes:e,cachePool:If()}}function Nu(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Ge),e}function am(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Zt.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(bt){if(h?sn(i):an(),(e=Lt)?(e=dp(e,Qe),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Wi!==null?{id:pi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},a=Lf(e),a.return=i,i.child=a,ce=i,Lt=null)):e=null,e===null)throw $i(i);return pc(e)?i.lanes=32:i.lanes=536870912,null}var v=l.children;return l=l.fallback,h?(an(),h=i.mode,v=sl({mode:"hidden",children:v},h),l=zn(l,h,a,null),v.return=i,l.return=i,v.sibling=l,i.child=v,l=i.child,l.memoizedState=Ou(a),l.childLanes=Nu(e,y,a),i.memoizedState=Bu,wa(null,l)):(sn(i),Du(i,v))}var T=e.memoizedState;if(T!==null&&(v=T.dehydrated,v!==null)){if(d)i.flags&256?(sn(i),i.flags&=-257,i=Uu(e,i,a)):i.memoizedState!==null?(an(),i.child=e.child,i.flags|=128,i=null):(an(),v=l.fallback,h=i.mode,l=sl({mode:"visible",children:l.children},h),v=zn(v,h,a,null),v.flags|=2,l.return=i,v.return=i,l.sibling=v,i.child=l,kn(i,e.child,null,a),l=i.child,l.memoizedState=Ou(a),l.childLanes=Nu(e,y,a),i.memoizedState=Bu,i=wa(null,l));else if(sn(i),pc(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var U=y.dgst;y=U,l=Error(r(419)),l.stack="",l.digest=y,fa({value:l,source:null,stack:null}),i=Uu(e,i,a)}else if(Jt||ms(e,i,a,!1),y=(a&e.childLanes)!==0,Jt||y){if(y=Ut,y!==null&&(l=Vh(y,a),l!==0&&l!==T.retryLane))throw T.retryLane=l,En(e,l),Ce(y,e,l),zu;mc(v)||dl(),i=Uu(e,i,a)}else mc(v)?(i.flags|=192,i.child=e.child,i=null):(e=T.treeContext,Lt=We(v.nextSibling),ce=i,bt=!0,Ki=null,Qe=!1,e!==null&&Yf(i,e),i=Du(i,l.children),i.flags|=4096);return i}return h?(an(),v=l.fallback,h=i.mode,T=e.child,U=T.sibling,l=Mi(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,U!==null?v=Mi(U,v):(v=zn(v,h,a,null),v.flags|=2),v.return=i,l.return=i,l.sibling=v,i.child=l,wa(null,l),l=i.child,v=e.child.memoizedState,v===null?v=Ou(a):(h=v.cachePool,h!==null?(T=Kt._currentValue,h=h.parent!==T?{parent:T,pool:T}:h):h=If(),v={baseLanes:v.baseLanes|a,cachePool:h}),l.memoizedState=v,l.childLanes=Nu(e,y,a),i.memoizedState=Bu,wa(e.child,l)):(sn(i),a=e.child,e=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function Du(e,i){return i=sl({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function sl(e,i){return e=Ne(22,e,null,i),e.lanes=0,e}function Uu(e,i,a){return kn(i,e.child,null,a),e=Du(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function rm(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Wo(e.return,i,a)}function ku(e,i,a,l,h,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function lm(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=Zt.current,v=(y&2)!==0;if(v?(y=y&1|2,i.flags|=128):y&=1,I(Zt,y),fe(e,i,l,a),l=bt?ha:0,!v&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rm(e,a,i);else if(e.tag===19)rm(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Fr(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ku(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Fr(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ku(i,!0,a,null,d,l);break;case"together":ku(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Oi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),on|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ms(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Mi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Mi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Gu(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Lr(e)))}function p_(e,i,a){switch(i.tag){case 3:ae(i,i.stateNode.containerInfo),Ji(i,Kt,e.memoizedState.cache),Rn();break;case 27:case 5:di(i);break;case 4:ae(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ou(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(sn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?am(e,i,a):(sn(i),e=Oi(e,i,a),e!==null?e.sibling:null);sn(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ms(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return lm(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),I(Zt,Zt.current),l)break;return null;case 22:return i.lanes=0,Jd(e,i,a,i.pendingProps);case 24:Ji(i,Kt,e.memoizedState.cache)}return Oi(e,i,a)}function om(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Jt=!0;else{if(!Gu(e,a)&&(i.flags&128)===0)return Jt=!1,p_(e,i,a);Jt=(e.flags&131072)!==0}else Jt=!1,bt&&(i.flags&1048576)!==0&&Hf(i,ha,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Dn(i.elementType),i.type=e,typeof e=="function")Xo(e)?(l=Ln(e,l),i.tag=1,i=nm(null,i,e,l,a)):(i.tag=0,i=Ru(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===N){i.tag=11,i=Wd(null,i,e,l,a);break t}else if(h===L){i.tag=14,i=Kd(null,i,e,l,a);break t}}throw i=At(e)||e,Error(r(306,i,""))}}return i;case 0:return Ru(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ln(l,i.pendingProps),nm(e,i,l,h,a);case 3:t:{if(ae(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,nu(e,i),_a(i,l,null,a);var y=i.memoizedState;if(l=y.cache,Ji(i,Kt,l),l!==d.cache&&Ko(i,[Kt],a,!0),xa(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=sm(e,i,l,a);break t}else if(l!==h){h=Pe(Error(r(424)),i),fa(h),i=sm(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Lt=We(e.firstChild),ce=i,bt=!0,Ki=null,Qe=!0,a=Jf(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rn(),l===h){i=Oi(e,i,a);break t}fe(e,i,l,a)}i=i.child}return i;case 26:return nl(e,i),e===null?(a=_p(i.type,null,i.pendingProps,null))?i.memoizedState=a:bt||(a=i.type,e=i.pendingProps,l=bl(ut.current).createElement(a),l[ue]=i,l[ve]=e,de(l,a,e),re(l),i.stateNode=l):i.memoizedState=_p(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return di(i),e===null&&bt&&(l=i.stateNode=gp(i.type,i.pendingProps,ut.current),ce=i,Qe=!0,h=Lt,dn(i.type)?(gc=h,Lt=We(l.firstChild)):Lt=h),fe(e,i,i.pendingProps.children,a),nl(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&bt&&((h=l=Lt)&&(l=P_(l,i.type,i.pendingProps,Qe),l!==null?(i.stateNode=l,ce=i,Lt=We(l.firstChild),Qe=!1,h=!0):h=!1),h||$i(i)),di(i),h=i.type,d=i.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,hc(h,d)?l=null:y!==null&&hc(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=cu(e,i,r_,null,null,a),ja._currentValue=h),nl(e,i),fe(e,i,l,a),i.child;case 6:return e===null&&bt&&((e=a=Lt)&&(a=F_(a,i.pendingProps,Qe),a!==null?(i.stateNode=a,ce=i,Lt=null,e=!0):e=!1),e||$i(i)),null;case 13:return am(e,i,a);case 4:return ae(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=kn(i,null,l,a):fe(e,i,l,a),i.child;case 11:return Wd(e,i,i.type,i.pendingProps,a);case 7:return fe(e,i,i.pendingProps,a),i.child;case 8:return fe(e,i,i.pendingProps.children,a),i.child;case 12:return fe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ji(i,i.type,l.value),fe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,On(i),h=he(h),l=l(h),i.flags|=1,fe(e,i,l,a),i.child;case 14:return Kd(e,i,i.type,i.pendingProps,a);case 15:return $d(e,i,i.type,i.pendingProps,a);case 19:return lm(e,i,a);case 31:return m_(e,i,a);case 22:return Jd(e,i,a,i.pendingProps);case 24:return On(i),l=he(Kt),e===null?(h=tu(),h===null&&(h=Ut,d=$o(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},iu(i),Ji(i,Kt,h)):((e.lanes&a)!==0&&(nu(e,i),_a(i,null,null,a),xa()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ji(i,Kt,l)):(l=d.cache,Ji(i,Kt,l),l!==h.cache&&Ko(i,[Kt],a,!0))),fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ni(e){e.flags|=4}function Lu(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Um())e.flags|=8192;else throw Un=Xr,eu}else e.flags&=-16777217}function um(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wp(i))if(Um())e.flags|=8192;else throw Un=Xr,eu}function al(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Yh():536870912,e.lanes|=i,Ms|=i)}function Ta(e,i){if(!bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function jt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function g_(e,i,a){var l=i.pendingProps;switch(Fo(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(i),null;case 1:return jt(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(Kt),kt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ds(i)?Ni(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Qo())),jt(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Ni(i),d!==null?(jt(i),um(i,d)):(jt(i),Lu(i,h,null,l,a))):d?d!==e.memoizedState?(Ni(i),jt(i),um(i,d)):(jt(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ni(i),jt(i),Lu(i,h,e,l,a)),null;case 27:if(Fi(i),a=ut.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return jt(i),null}e=$.current,ds(i)?Xf(i):(e=gp(h,l,a),i.stateNode=e,Ni(i))}return jt(i),null;case 5:if(Fi(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return jt(i),null}if(d=$.current,ds(i))Xf(i);else{var y=bl(ut.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[ue]=i,d[ve]=l;t:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break t;for(;y.sibling===null;){if(y.return===null||y.return===i)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;t:switch(de(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ni(i)}}return jt(i),Lu(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ni(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=ut.current,ds(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=ce,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ue]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ap(e.nodeValue,a)),e||$i(i,!0)}else e=bl(e).createTextNode(l),e[ue]=i,i.stateNode=e}return jt(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=ds(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ue]=i}else Rn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jt(i),e=!1}else a=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Ue(i),i):(Ue(i),null);if((i.flags&128)!==0)throw Error(r(558))}return jt(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ds(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ue]=i}else Rn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jt(i),h=!1}else h=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ue(i),i):(Ue(i),null)}return Ue(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),al(i,i.updateQueue),jt(i),null);case 4:return kt(),e===null&&rc(i.stateNode.containerInfo),jt(i),null;case 10:return zi(i.type),jt(i),null;case 19:if(V(Zt),l=i.memoizedState,l===null)return jt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Ta(l,!1);else{if(Ft!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Fr(e),d!==null){for(i.flags|=128,Ta(l,!1),e=d.updateQueue,i.updateQueue=e,al(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Gf(a,e),a=a.sibling;return I(Zt,Zt.current&1|2),bt&&Ci(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&ze()>cl&&(i.flags|=128,h=!0,Ta(l,!1),i.lanes=4194304)}else{if(!h)if(e=Fr(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,al(i,e),Ta(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!bt)return jt(i),null}else 2*ze()-l.renderingStartTime>cl&&a!==536870912&&(i.flags|=128,h=!0,Ta(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ze(),e.sibling=null,a=Zt.current,I(Zt,h?a&1|2:a&1),bt&&Ci(i,l.treeForkCount),e):(jt(i),null);case 22:case 23:return Ue(i),lu(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(jt(i),i.subtreeFlags&6&&(i.flags|=8192)):jt(i),a=i.updateQueue,a!==null&&al(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&V(Nn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(Kt),jt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function y_(e,i){switch(Fo(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zi(Kt),kt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Fi(i),null;case 31:if(i.memoizedState!==null){if(Ue(i),i.alternate===null)throw Error(r(340));Rn()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Ue(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Rn()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return V(Zt),null;case 4:return kt(),null;case 10:return zi(i.type),null;case 22:case 23:return Ue(i),lu(),e!==null&&V(Nn),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return zi(Kt),null;case 25:return null;default:return null}}function cm(e,i){switch(Fo(i),i.tag){case 3:zi(Kt),kt();break;case 26:case 27:case 5:Fi(i);break;case 4:kt();break;case 31:i.memoizedState!==null&&Ue(i);break;case 13:Ue(i);break;case 19:V(Zt);break;case 10:zi(i.type);break;case 22:case 23:Ue(i),lu(),e!==null&&V(Nn);break;case 24:zi(Kt)}}function Ma(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==h)}}catch(v){zt(i,i.return,v)}}function rn(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var y=l.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,h=i;var T=a,U=v;try{U()}catch(H){zt(h,T,H)}}}l=l.next}while(l!==d)}}catch(H){zt(i,i.return,H)}}function hm(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ed(i,a)}catch(l){zt(e,e.return,l)}}}function fm(e,i,a){a.props=Ln(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){zt(e,i,l)}}function Ca(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){zt(e,i,h)}}function yi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){zt(e,i,h)}else a.current=null}function dm(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){zt(e,e.return,h)}}function ju(e,i,a){try{var l=e.stateNode;j_(l,e.type,a,i),l[ve]=i}catch(h){zt(e,e.return,h)}}function mm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&dn(e.type)||e.tag===4}function Hu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&dn(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=wi));else if(l!==4&&(l===27&&dn(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Yu(e,i,a),e=e.sibling;e!==null;)Yu(e,i,a),e=e.sibling}function rl(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&dn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(rl(e,i,a),e=e.sibling;e!==null;)rl(e,i,a),e=e.sibling}function pm(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);de(i,l,a),i[ue]=e,i[ve]=a}catch(d){zt(e,e.return,d)}}var Di=!1,te=!1,Xu=!1,gm=typeof WeakSet=="function"?WeakSet:Set,le=null;function x_(e,i){if(e=e.containerInfo,uc=Cl,e=Ef(e),Uo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,v=-1,T=-1,U=0,H=0,P=e,G=null;e:for(;;){for(var j;P!==a||h!==0&&P.nodeType!==3||(v=y+h),P!==d||l!==0&&P.nodeType!==3||(T=y+l),P.nodeType===3&&(y+=P.nodeValue.length),(j=P.firstChild)!==null;)G=P,P=j;for(;;){if(P===e)break e;if(G===a&&++U===h&&(v=y),G===d&&++H===l&&(T=y),(j=P.nextSibling)!==null)break;P=G,G=P.parentNode}P=j}a=v===-1||T===-1?null:{start:v,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(cc={focusedElem:e,selectionRange:a},Cl=!1,le=i;le!==null;)if(i=le,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,le=e;else for(;le!==null;){switch(i=le,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var J=Ln(a.type,h);e=l.getSnapshotBeforeUpdate(J,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(rt){zt(a,a.return,rt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)dc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,le=e;break}le=i.return}}function ym(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ki(e,a),l&4&&Ma(5,a);break;case 1:if(ki(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){zt(a,a.return,y)}else{var h=Ln(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){zt(a,a.return,y)}}l&64&&hm(a),l&512&&Ca(a,a.return);break;case 3:if(ki(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ed(e,i)}catch(y){zt(a,a.return,y)}}break;case 27:i===null&&l&4&&pm(a);case 26:case 5:ki(e,a),i===null&&l&4&&dm(a),l&512&&Ca(a,a.return);break;case 12:ki(e,a);break;case 31:ki(e,a),l&4&&bm(e,a);break;case 13:ki(e,a),l&4&&vm(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=C_.bind(null,a),I_(e,a))));break;case 22:if(l=a.memoizedState!==null||Di,!l){i=i!==null&&i.memoizedState!==null||te,h=Di;var d=te;Di=l,(te=i)&&!d?Gi(e,a,(a.subtreeFlags&8772)!==0):ki(e,a),Di=h,te=d}break;case 30:break;default:ki(e,a)}}function xm(e){var i=e.alternate;i!==null&&(e.alternate=null,xm(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&xo(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xt=null,Ae=!1;function Ui(e,i,a){for(a=a.child;a!==null;)_m(e,i,a),a=a.sibling}function _m(e,i,a){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Ks,a)}catch{}switch(a.tag){case 26:te||yi(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:te||yi(a,i);var l=Xt,h=Ae;dn(a.type)&&(Xt=a.stateNode,Ae=!1),Ui(e,i,a),ka(a.stateNode),Xt=l,Ae=h;break;case 5:te||yi(a,i);case 6:if(l=Xt,h=Ae,Xt=null,Ui(e,i,a),Xt=l,Ae=h,Xt!==null)if(Ae)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(a.stateNode)}catch(d){zt(a,i,d)}else try{Xt.removeChild(a.stateNode)}catch(d){zt(a,i,d)}break;case 18:Xt!==null&&(Ae?(e=Xt,hp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ds(e)):hp(Xt,a.stateNode));break;case 4:l=Xt,h=Ae,Xt=a.stateNode.containerInfo,Ae=!0,Ui(e,i,a),Xt=l,Ae=h;break;case 0:case 11:case 14:case 15:rn(2,a,i),te||rn(4,a,i),Ui(e,i,a);break;case 1:te||(yi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&fm(a,i,l)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:te=(l=te)||a.memoizedState!==null,Ui(e,i,a),te=l;break;default:Ui(e,i,a)}}function bm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ds(e)}catch(a){zt(i,i.return,a)}}}function vm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ds(e)}catch(a){zt(i,i.return,a)}}function __(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new gm),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new gm),i;default:throw Error(r(435,e.tag))}}function ll(e,i){var a=__(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=E_.bind(null,e,l);l.then(h,h)}})}function we(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,y=i,v=y;t:for(;v!==null;){switch(v.tag){case 27:if(dn(v.type)){Xt=v.stateNode,Ae=!1;break t}break;case 5:Xt=v.stateNode,Ae=!1;break t;case 3:case 4:Xt=v.stateNode.containerInfo,Ae=!0;break t}v=v.return}if(Xt===null)throw Error(r(160));_m(d,y,h),Xt=null,Ae=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Sm(i,e),i=i.sibling}var si=null;function Sm(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:we(i,e),Te(e),l&4&&(rn(3,e,e.return),Ma(3,e),rn(5,e,e.return));break;case 1:we(i,e),Te(e),l&512&&(te||a===null||yi(a,a.return)),l&64&&Di&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=si;if(we(i,e),Te(e),l&512&&(te||a===null||yi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ta]||d[ue]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),de(d,l,a),d[ue]=e,re(d),l=d;break t;case"link":var y=Sp("link","href",h).get(l+(a.href||""));if(y){for(var v=0;v<y.length;v++)if(d=y[v],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(v,1);break e}}d=h.createElement(l),de(d,l,a),h.head.appendChild(d);break;case"meta":if(y=Sp("meta","content",h).get(l+(a.content||""))){for(v=0;v<y.length;v++)if(d=y[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(v,1);break e}}d=h.createElement(l),de(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[ue]=e,re(d),l=d}e.stateNode=l}else Ap(h,e.type,e.stateNode);else e.stateNode=vp(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ap(h,e.type,e.stateNode):vp(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ju(e,e.memoizedProps,a.memoizedProps)}break;case 27:we(i,e),Te(e),l&512&&(te||a===null||yi(a,a.return)),a!==null&&l&4&&ju(e,e.memoizedProps,a.memoizedProps);break;case 5:if(we(i,e),Te(e),l&512&&(te||a===null||yi(a,a.return)),e.flags&32){h=e.stateNode;try{ns(h,"")}catch(J){zt(e,e.return,J)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,ju(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Xu=!0);break;case 6:if(we(i,e),Te(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(J){zt(e,e.return,J)}}break;case 3:if(Al=null,h=si,si=vl(i.containerInfo),we(i,e),si=h,Te(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ds(i.containerInfo)}catch(J){zt(e,e.return,J)}Xu&&(Xu=!1,Am(e));break;case 4:l=si,si=vl(e.stateNode.containerInfo),we(i,e),Te(e),si=l;break;case 12:we(i,e),Te(e);break;case 31:we(i,e),Te(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ll(e,l)));break;case 13:we(i,e),Te(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ul=ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ll(e,l)));break;case 22:h=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,U=Di,H=te;if(Di=U||h,te=H||T,we(i,e),te=H,Di=U,Te(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||T||Di||te||jn(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){T=a=i;try{if(d=T.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=T.stateNode;var P=T.memoizedProps.style,G=P!=null&&P.hasOwnProperty("display")?P.display:null;v.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(J){zt(T,T.return,J)}}}else if(i.tag===6){if(a===null){T=i;try{T.stateNode.nodeValue=h?"":T.memoizedProps}catch(J){zt(T,T.return,J)}}}else if(i.tag===18){if(a===null){T=i;try{var j=T.stateNode;h?fp(j,!0):fp(T.stateNode,!1)}catch(J){zt(T,T.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ll(e,a))));break;case 19:we(i,e),Te(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ll(e,l)));break;case 30:break;case 21:break;default:we(i,e),Te(e)}}function Te(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(mm(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Hu(e);rl(e,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(ns(y,""),a.flags&=-33);var v=Hu(e);rl(e,v,y);break;case 3:case 4:var T=a.stateNode.containerInfo,U=Hu(e);Yu(e,U,T);break;default:throw Error(r(161))}}catch(H){zt(e,e.return,H)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Am(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Am(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ki(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ym(e,i.alternate,i),i=i.sibling}function jn(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:rn(4,i,i.return),jn(i);break;case 1:yi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&fm(i,i.return,a),jn(i);break;case 27:ka(i.stateNode);case 26:case 5:yi(i,i.return),jn(i);break;case 22:i.memoizedState===null&&jn(i);break;case 30:jn(i);break;default:jn(i)}e=e.sibling}}function Gi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:Gi(h,d,a),Ma(4,d);break;case 1:if(Gi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){zt(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var v=l.stateNode;try{var T=h.shared.hiddenCallbacks;if(T!==null)for(h.shared.hiddenCallbacks=null,h=0;h<T.length;h++)td(T[h],v)}catch(U){zt(l,l.return,U)}}a&&y&64&&hm(d),Ca(d,d.return);break;case 27:pm(d);case 26:case 5:Gi(h,d,a),a&&l===null&&y&4&&dm(d),Ca(d,d.return);break;case 12:Gi(h,d,a);break;case 31:Gi(h,d,a),a&&y&4&&bm(h,d);break;case 13:Gi(h,d,a),a&&y&4&&vm(h,d);break;case 22:d.memoizedState===null&&Gi(h,d,a),Ca(d,d.return);break;case 30:break;default:Gi(h,d,a)}i=i.sibling}}function qu(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&da(a))}function Vu(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&da(e))}function ai(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wm(e,i,a,l),i=i.sibling}function wm(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(e,i,a,l),h&2048&&Ma(9,i);break;case 1:ai(e,i,a,l);break;case 3:ai(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&da(e)));break;case 12:if(h&2048){ai(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,y=d.id,v=d.onPostCommit;typeof v=="function"&&v(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){zt(i,i.return,T)}}else ai(e,i,a,l);break;case 31:ai(e,i,a,l);break;case 13:ai(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?ai(e,i,a,l):Ea(e,i):d._visibility&2?ai(e,i,a,l):(d._visibility|=2,As(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&qu(y,i);break;case 24:ai(e,i,a,l),h&2048&&Vu(i.alternate,i);break;default:ai(e,i,a,l)}}function As(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,y=i,v=a,T=l,U=y.flags;switch(y.tag){case 0:case 11:case 15:As(d,y,v,T,h),Ma(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?As(d,y,v,T,h):Ea(d,y):(H._visibility|=2,As(d,y,v,T,h)),h&&U&2048&&qu(y.alternate,y);break;case 24:As(d,y,v,T,h),h&&U&2048&&Vu(y.alternate,y);break;default:As(d,y,v,T,h)}i=i.sibling}}function Ea(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Ea(a,l),h&2048&&qu(l.alternate,l);break;case 24:Ea(a,l),h&2048&&Vu(l.alternate,l);break;default:Ea(a,l)}i=i.sibling}}var za=8192;function ws(e,i,a){if(e.subtreeFlags&za)for(e=e.child;e!==null;)Tm(e,i,a),e=e.sibling}function Tm(e,i,a){switch(e.tag){case 26:ws(e,i,a),e.flags&za&&e.memoizedState!==null&&ab(a,si,e.memoizedState,e.memoizedProps);break;case 5:ws(e,i,a);break;case 3:case 4:var l=si;si=vl(e.stateNode.containerInfo),ws(e,i,a),si=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=za,za=16777216,ws(e,i,a),za=l):ws(e,i,a));break;default:ws(e,i,a)}}function Mm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ra(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];le=l,Em(l,e)}Mm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cm(e),e=e.sibling}function Cm(e){switch(e.tag){case 0:case 11:case 15:Ra(e),e.flags&2048&&rn(9,e,e.return);break;case 3:Ra(e);break;case 12:Ra(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ol(e)):Ra(e);break;default:Ra(e)}}function ol(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];le=l,Em(l,e)}Mm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:rn(8,i,i.return),ol(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ol(i));break;default:ol(i)}e=e.sibling}}function Em(e,i){for(;le!==null;){var a=le;switch(a.tag){case 0:case 11:case 15:rn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:da(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,le=l;else t:for(a=e;le!==null;){l=le;var h=l.sibling,d=l.return;if(xm(l),l===a){le=null;break t}if(h!==null){h.return=d,le=h;break t}le=d}}}var b_={getCacheForType:function(e){var i=he(Kt),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return he(Kt).controller.signal}},v_=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Ut=null,mt=null,yt=0,Et=0,ke=null,ln=!1,Ts=!1,Pu=!1,Li=0,Ft=0,on=0,Hn=0,Fu=0,Ge=0,Ms=0,Ba=null,Me=null,Iu=!1,ul=0,zm=0,cl=1/0,hl=null,un=null,ne=0,cn=null,Cs=null,ji=0,Qu=0,Zu=null,Rm=null,Oa=0,Wu=null;function Le(){return(Ct&2)!==0&&yt!==0?yt&-yt:B.T!==null?ic():Ph()}function Bm(){if(Ge===0)if((yt&536870912)===0||bt){var e=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),Ge=e}else Ge=536870912;return e=De.current,e!==null&&(e.flags|=32),Ge}function Ce(e,i,a){(e===Ut&&(Et===2||Et===9)||e.cancelPendingCommit!==null)&&(Es(e,0),hn(e,yt,Ge,!1)),Js(e,a),((Ct&2)===0||e!==Ut)&&(e===Ut&&((Ct&2)===0&&(Hn|=a),Ft===4&&hn(e,yt,Ge,!1)),xi(e))}function Om(e,i,a){if((Ct&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||$s(e,i),h=l?w_(e,i):$u(e,i,!0),d=l;do{if(h===0){Ts&&!l&&hn(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!S_(a)){h=$u(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var v=e;h=Ba;var T=v.current.memoizedState.isDehydrated;if(T&&(Es(v,y).flags|=256),y=$u(v,y,!1),y!==2){if(Pu&&!T){v.errorRecoveryDisabledLanes|=d,Hn|=d,h=4;break t}d=Me,Me=h,d!==null&&(Me===null?Me=d:Me.push.apply(Me,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Es(e,0),hn(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:hn(l,i,Ge,!ln);break t;case 2:Me=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=ul+300-ze(),10<h)){if(hn(l,i,Ge,!ln),vr(l,0,!0)!==0)break t;ji=i,l.timeoutHandle=up(Nm.bind(null,l,a,Me,hl,Iu,i,Ge,Hn,Ms,ln,d,"Throttled",-0,0),h);break t}Nm(l,a,Me,hl,Iu,i,Ge,Hn,Ms,ln,d,null,-0,0)}}break}while(!0);xi(e)}function Nm(e,i,a,l,h,d,y,v,T,U,H,P,G,j){if(e.timeoutHandle=-1,P=i.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wi},Tm(i,d,P);var J=(d&62914560)===d?ul-ze():(d&4194048)===d?zm-ze():0;if(J=rb(P,J),J!==null){ji=d,e.cancelPendingCommit=J(Ym.bind(null,e,i,d,a,l,h,y,v,T,H,P,null,G,j)),hn(e,d,y,!U);return}}Ym(e,i,d,a,l,h,y,v,T)}function S_(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Oe(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hn(e,i,a,l){i&=~Fu,i&=~Hn,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Be(h),y=1<<d;l[d]=-1,h&=~y}a!==0&&Xh(e,a,i)}function fl(){return(Ct&6)===0?(Na(0),!1):!0}function Ku(){if(mt!==null){if(Et===0)var e=mt.return;else e=mt,Ei=Bn=null,du(e),xs=null,pa=0,e=mt;for(;e!==null;)cm(e.alternate,e),e=e.return;mt=null}}function Es(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,X_(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ji=0,Ku(),Ut=e,mt=a=Mi(e.current,null),yt=i,Et=0,ke=null,ln=!1,Ts=$s(e,i),Pu=!1,Ms=Ge=Fu=Hn=on=Ft=0,Me=Ba=null,Iu=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Be(l),d=1<<h;i|=e[h],l&=~d}return Li=i,Nr(),a}function Dm(e,i){ct=null,B.H=Aa,i===ys||i===Yr?(i=Wf(),Et=3):i===eu?(i=Wf(),Et=4):Et=i===zu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ke=i,mt===null&&(Ft=1,el(e,Pe(i,e.current)))}function Um(){var e=De.current;return e===null?!0:(yt&4194048)===yt?Ze===null:(yt&62914560)===yt||(yt&536870912)!==0?e===Ze:!1}function km(){var e=B.H;return B.H=Aa,e===null?Aa:e}function Gm(){var e=B.A;return B.A=b_,e}function dl(){Ft=4,ln||(yt&4194048)!==yt&&De.current!==null||(Ts=!0),(on&134217727)===0&&(Hn&134217727)===0||Ut===null||hn(Ut,yt,Ge,!1)}function $u(e,i,a){var l=Ct;Ct|=2;var h=km(),d=Gm();(Ut!==e||yt!==i)&&(hl=null,Es(e,i)),i=!1;var y=Ft;t:do try{if(Et!==0&&mt!==null){var v=mt,T=ke;switch(Et){case 8:Ku(),y=6;break t;case 3:case 2:case 9:case 6:De.current===null&&(i=!0);var U=Et;if(Et=0,ke=null,zs(e,v,T,U),a&&Ts){y=0;break t}break;default:U=Et,Et=0,ke=null,zs(e,v,T,U)}}A_(),y=Ft;break}catch(H){Dm(e,H)}while(!0);return i&&e.shellSuspendCounter++,Ei=Bn=null,Ct=l,B.H=h,B.A=d,mt===null&&(Ut=null,yt=0,Nr()),y}function A_(){for(;mt!==null;)Lm(mt)}function w_(e,i){var a=Ct;Ct|=2;var l=km(),h=Gm();Ut!==e||yt!==i?(hl=null,cl=ze()+500,Es(e,i)):Ts=$s(e,i);t:do try{if(Et!==0&&mt!==null){i=mt;var d=ke;e:switch(Et){case 1:Et=0,ke=null,zs(e,i,d,1);break;case 2:case 9:if(Qf(d)){Et=0,ke=null,jm(i);break}i=function(){Et!==2&&Et!==9||Ut!==e||(Et=7),xi(e)},d.then(i,i);break t;case 3:Et=7;break t;case 4:Et=5;break t;case 7:Qf(d)?(Et=0,ke=null,jm(i)):(Et=0,ke=null,zs(e,i,d,7));break;case 5:var y=null;switch(mt.tag){case 26:y=mt.memoizedState;case 5:case 27:var v=mt;if(y?wp(y):v.stateNode.complete){Et=0,ke=null;var T=v.sibling;if(T!==null)mt=T;else{var U=v.return;U!==null?(mt=U,ml(U)):mt=null}break e}}Et=0,ke=null,zs(e,i,d,5);break;case 6:Et=0,ke=null,zs(e,i,d,6);break;case 8:Ku(),Ft=6;break t;default:throw Error(r(462))}}T_();break}catch(H){Dm(e,H)}while(!0);return Ei=Bn=null,B.H=l,B.A=h,Ct=a,mt!==null?0:(Ut=null,yt=0,Nr(),Ft)}function T_(){for(;mt!==null&&!Qy();)Lm(mt)}function Lm(e){var i=om(e.alternate,e,Li);e.memoizedProps=e.pendingProps,i===null?ml(e):mt=i}function jm(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=im(a,i,i.pendingProps,i.type,void 0,yt);break;case 11:i=im(a,i,i.pendingProps,i.type.render,i.ref,yt);break;case 5:du(i);default:cm(a,i),i=mt=Gf(i,Li),i=om(a,i,Li)}e.memoizedProps=e.pendingProps,i===null?ml(e):mt=i}function zs(e,i,a,l){Ei=Bn=null,du(i),xs=null,pa=0;var h=i.return;try{if(d_(e,h,i,a,yt)){Ft=1,el(e,Pe(a,e.current)),mt=null;return}}catch(d){if(h!==null)throw mt=h,d;Ft=1,el(e,Pe(a,e.current)),mt=null;return}i.flags&32768?(bt||l===1?e=!0:Ts||(yt&536870912)!==0?e=!1:(ln=e=!0,(l===2||l===9||l===3||l===6)&&(l=De.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hm(i,e)):ml(i)}function ml(e){var i=e;do{if((i.flags&32768)!==0){Hm(i,ln);return}e=i.return;var a=g_(i.alternate,i,Li);if(a!==null){mt=a;return}if(i=i.sibling,i!==null){mt=i;return}mt=i=e}while(i!==null);Ft===0&&(Ft=5)}function Hm(e,i){do{var a=y_(e.alternate,e);if(a!==null){a.flags&=32767,mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){mt=e;return}mt=e=a}while(e!==null);Ft=6,mt=null}function Ym(e,i,a,l,h,d,y,v,T){e.cancelPendingCommit=null;do pl();while(ne!==0);if((Ct&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Ho,sx(e,a,d,y,v,T),e===Ut&&(mt=Ut=null,yt=0),Cs=i,cn=e,ji=a,Qu=d,Zu=h,Rm=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z_(yr,function(){return Fm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=Y.p,Y.p=2,y=Ct,Ct|=4;try{x_(e,i,a)}finally{Ct=y,Y.p=h,B.T=l}}ne=1,Xm(),qm(),Vm()}}function Xm(){if(ne===1){ne=0;var e=cn,i=Cs,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=Y.p;Y.p=2;var h=Ct;Ct|=4;try{Sm(i,e);var d=cc,y=Ef(e.containerInfo),v=d.focusedElem,T=d.selectionRange;if(y!==v&&v&&v.ownerDocument&&Cf(v.ownerDocument.documentElement,v)){if(T!==null&&Uo(v)){var U=T.start,H=T.end;if(H===void 0&&(H=U),"selectionStart"in v)v.selectionStart=U,v.selectionEnd=Math.min(H,v.value.length);else{var P=v.ownerDocument||document,G=P&&P.defaultView||window;if(G.getSelection){var j=G.getSelection(),J=v.textContent.length,rt=Math.min(T.start,J),Nt=T.end===void 0?rt:Math.min(T.end,J);!j.extend&&rt>Nt&&(y=Nt,Nt=rt,rt=y);var O=Mf(v,rt),E=Mf(v,Nt);if(O&&E&&(j.rangeCount!==1||j.anchorNode!==O.node||j.anchorOffset!==O.offset||j.focusNode!==E.node||j.focusOffset!==E.offset)){var D=P.createRange();D.setStart(O.node,O.offset),j.removeAllRanges(),rt>Nt?(j.addRange(D),j.extend(E.node,E.offset)):(D.setEnd(E.node,E.offset),j.addRange(D))}}}}for(P=[],j=v;j=j.parentNode;)j.nodeType===1&&P.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<P.length;v++){var X=P[v];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Cl=!!uc,cc=uc=null}finally{Ct=h,Y.p=l,B.T=a}}e.current=i,ne=2}}function qm(){if(ne===2){ne=0;var e=cn,i=Cs,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=Y.p;Y.p=2;var h=Ct;Ct|=4;try{ym(e,i.alternate,i)}finally{Ct=h,Y.p=l,B.T=a}}ne=3}}function Vm(){if(ne===4||ne===3){ne=0,Zy();var e=cn,i=Cs,a=ji,l=Rm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ne=5:(ne=0,Cs=cn=null,Pm(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(un=null),go(a),i=i.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Ks,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=Y.p,Y.p=2,B.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var v=l[y];d(v.value,{componentStack:v.stack})}}finally{B.T=i,Y.p=h}}(ji&3)!==0&&pl(),xi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Wu?Oa++:(Oa=0,Wu=e):Oa=0,Na(0)}}function Pm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,da(i)))}function pl(){return Xm(),qm(),Vm(),Fm()}function Fm(){if(ne!==5)return!1;var e=cn,i=Qu;Qu=0;var a=go(ji),l=B.T,h=Y.p;try{Y.p=32>a?32:a,B.T=null,a=Zu,Zu=null;var d=cn,y=ji;if(ne=0,Cs=cn=null,ji=0,(Ct&6)!==0)throw Error(r(331));var v=Ct;if(Ct|=4,Cm(d.current),wm(d,d.current,y,a),Ct=v,Na(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Ks,d)}catch{}return!0}finally{Y.p=h,B.T=l,Pm(e,i)}}function Im(e,i,a){i=Pe(a,i),i=Eu(e.stateNode,i,2),e=nn(e,i,2),e!==null&&(Js(e,2),xi(e))}function zt(e,i,a){if(e.tag===3)Im(e,e,a);else for(;i!==null;){if(i.tag===3){Im(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(un===null||!un.has(l))){e=Pe(a,e),a=Qd(2),l=nn(i,a,2),l!==null&&(Zd(a,l,i,e),Js(l,2),xi(l));break}}i=i.return}}function Ju(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new v_;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Pu=!0,h.add(a),e=M_.bind(null,e,i,a),i.then(e,e))}function M_(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ut===e&&(yt&a)===a&&(Ft===4||Ft===3&&(yt&62914560)===yt&&300>ze()-ul?(Ct&2)===0&&Es(e,0):Fu|=a,Ms===yt&&(Ms=0)),xi(e)}function Qm(e,i){i===0&&(i=Yh()),e=En(e,i),e!==null&&(Js(e,i),xi(e))}function C_(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Qm(e,a)}function E_(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Qm(e,a)}function z_(e,i){return ho(e,i)}var gl=null,Rs=null,tc=!1,yl=!1,ec=!1,fn=0;function xi(e){e!==Rs&&e.next===null&&(Rs===null?gl=Rs=e:Rs=Rs.next=e),yl=!0,tc||(tc=!0,B_())}function Na(e,i){if(!ec&&yl){ec=!0;do for(var a=!1,l=gl;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,v=l.pingedLanes;d=(1<<31-Be(42|e)+1)-1,d&=h&~(y&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,$m(l,d))}else d=yt,d=vr(l,l===Ut?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$s(l,d)||(a=!0,$m(l,d));l=l.next}while(a);ec=!1}}function R_(){Zm()}function Zm(){yl=tc=!1;var e=0;fn!==0&&Y_()&&(e=fn);for(var i=ze(),a=null,l=gl;l!==null;){var h=l.next,d=Wm(l,i);d===0?(l.next=null,a===null?gl=h:a.next=h,h===null&&(Rs=a)):(a=l,(e!==0||(d&3)!==0)&&(yl=!0)),l=h}ne!==0&&ne!==5||Na(e),fn!==0&&(fn=0)}function Wm(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-Be(d),v=1<<y,T=h[y];T===-1?((v&a)===0||(v&l)!==0)&&(h[y]=nx(v,i)):T<=i&&(e.expiredLanes|=v),d&=~v}if(i=Ut,a=yt,a=vr(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Et===2||Et===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fo(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||$s(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&fo(l),go(a)){case 2:case 8:a=jh;break;case 32:a=yr;break;case 268435456:a=Hh;break;default:a=yr}return l=Km.bind(null,e),a=ho(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&fo(l),e.callbackPriority=2,e.callbackNode=null,2}function Km(e,i){if(ne!==0&&ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(pl()&&e.callbackNode!==a)return null;var l=yt;return l=vr(e,e===Ut?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Om(e,l,i),Wm(e,ze()),e.callbackNode!=null&&e.callbackNode===a?Km.bind(null,e):null)}function $m(e,i){if(pl())return null;Om(e,i,!0)}function B_(){q_(function(){(Ct&6)!==0?ho(Lh,R_):Zm()})}function ic(){if(fn===0){var e=ps;e===0&&(e=xr,xr<<=1,(xr&261888)===0&&(xr=256)),fn=e}return fn}function Jm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Tr(""+e)}function tp(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function O_(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Jm((h[ve]||null).action),y=l.submitter;y&&(i=(i=y[ve]||null)?Jm(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var v=new zr("action","action",null,l,h);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fn!==0){var T=y?tp(h,y):new FormData(h);Su(a,{pending:!0,data:T,method:h.method,action:d},null,T)}}else typeof d=="function"&&(v.preventDefault(),T=y?tp(h,y):new FormData(h),Su(a,{pending:!0,data:T,method:h.method,action:d},d,T))},currentTarget:h}]})}}for(var nc=0;nc<jo.length;nc++){var sc=jo[nc],N_=sc.toLowerCase(),D_=sc[0].toUpperCase()+sc.slice(1);ni(N_,"on"+D_)}ni(Bf,"onAnimationEnd"),ni(Of,"onAnimationIteration"),ni(Nf,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Wx,"onTransitionRun"),ni(Kx,"onTransitionStart"),ni($x,"onTransitionCancel"),ni(Df,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Da));function ep(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var v=l[y],T=v.instance,U=v.currentTarget;if(v=v.listener,T!==d&&h.isPropagationStopped())break t;d=v,h.currentTarget=U;try{d(h)}catch(H){Or(H)}h.currentTarget=null,d=T}else for(y=0;y<l.length;y++){if(v=l[y],T=v.instance,U=v.currentTarget,v=v.listener,T!==d&&h.isPropagationStopped())break t;d=v,h.currentTarget=U;try{d(h)}catch(H){Or(H)}h.currentTarget=null,d=T}}}}function pt(e,i){var a=i[yo];a===void 0&&(a=i[yo]=new Set);var l=e+"__bubble";a.has(l)||(ip(i,e,2,!1),a.add(l))}function ac(e,i,a){var l=0;i&&(l|=4),ip(a,e,l,i)}var xl="_reactListening"+Math.random().toString(36).slice(2);function rc(e){if(!e[xl]){e[xl]=!0,Qh.forEach(function(a){a!=="selectionchange"&&(U_.has(a)||ac(a,!1,e),ac(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[xl]||(i[xl]=!0,ac("selectionchange",!1,i))}}function ip(e,i,a,l){switch(Bp(i)){case 2:var h=ub;break;case 8:h=cb;break;default:h=vc}a=h.bind(null,i,a,e),h=void 0,!Mo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function lc(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var v=l.stateNode.containerInfo;if(v===h)break;if(y===4)for(y=l.return;y!==null;){var T=y.tag;if((T===3||T===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;v!==null;){if(y=$n(v),y===null)return;if(T=y.tag,T===5||T===6||T===26||T===27){l=d=y;continue t}v=v.parentNode}}l=l.return}lf(function(){var U=d,H=wo(a),P=[];t:{var G=Uf.get(e);if(G!==void 0){var j=zr,J=e;switch(e){case"keypress":if(Cr(a)===0)break t;case"keydown":case"keyup":j=Ex;break;case"focusin":J="focus",j=Ro;break;case"focusout":J="blur",j=Ro;break;case"beforeblur":case"afterblur":j=Ro;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Bx;break;case Bf:case Of:case Nf:j=_x;break;case Df:j=Nx;break;case"scroll":case"scrollend":j=mx;break;case"wheel":j=Ux;break;case"copy":case"cut":case"paste":j=vx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=ff;break;case"toggle":case"beforetoggle":j=Gx}var rt=(i&4)!==0,Nt=!rt&&(e==="scroll"||e==="scrollend"),O=rt?G!==null?G+"Capture":null:G;rt=[];for(var E=U,D;E!==null;){var X=E;if(D=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||D===null||O===null||(X=ia(E,O),X!=null&&rt.push(Ua(E,X,D))),Nt)break;E=E.return}0<rt.length&&(G=new j(G,J,null,a,H),P.push({event:G,listeners:rt}))}}if((i&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",G&&a!==Ao&&(J=a.relatedTarget||a.fromElement)&&($n(J)||J[Kn]))break t;if((j||G)&&(G=H.window===H?H:(G=H.ownerDocument)?G.defaultView||G.parentWindow:window,j?(J=a.relatedTarget||a.toElement,j=U,J=J?$n(J):null,J!==null&&(Nt=u(J),rt=J.tag,J!==Nt||rt!==5&&rt!==27&&rt!==6)&&(J=null)):(j=null,J=U),j!==J)){if(rt=cf,X="onMouseLeave",O="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(rt=ff,X="onPointerLeave",O="onPointerEnter",E="pointer"),Nt=j==null?G:ea(j),D=J==null?G:ea(J),G=new rt(X,E+"leave",j,a,H),G.target=Nt,G.relatedTarget=D,X=null,$n(H)===U&&(rt=new rt(O,E+"enter",J,a,H),rt.target=D,rt.relatedTarget=Nt,X=rt),Nt=X,j&&J)e:{for(rt=k_,O=j,E=J,D=0,X=O;X;X=rt(X))D++;X=0;for(var nt=E;nt;nt=rt(nt))X++;for(;0<D-X;)O=rt(O),D--;for(;0<X-D;)E=rt(E),X--;for(;D--;){if(O===E||E!==null&&O===E.alternate){rt=O;break e}O=rt(O),E=rt(E)}rt=null}else rt=null;j!==null&&np(P,G,j,rt,!1),J!==null&&Nt!==null&&np(P,Nt,J,rt,!0)}}t:{if(G=U?ea(U):window,j=G.nodeName&&G.nodeName.toLowerCase(),j==="select"||j==="input"&&G.type==="file")var Tt=bf;else if(xf(G))if(vf)Tt=Ix;else{Tt=Px;var tt=Vx}else j=G.nodeName,!j||j.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&So(U.elementType)&&(Tt=bf):Tt=Fx;if(Tt&&(Tt=Tt(e,U))){_f(P,Tt,a,H);break t}tt&&tt(e,G,U),e==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&vo(G,"number",G.value)}switch(tt=U?ea(U):window,e){case"focusin":(xf(tt)||tt.contentEditable==="true")&&(ls=tt,ko=U,ca=null);break;case"focusout":ca=ko=ls=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,zf(P,a,H);break;case"selectionchange":if(Zx)break;case"keydown":case"keyup":zf(P,a,H)}var ft;if(Oo)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else rs?gf(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(df&&a.locale!=="ko"&&(rs||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&rs&&(ft=of()):(Zi=H,Co="value"in Zi?Zi.value:Zi.textContent,rs=!0)),tt=_l(U,xt),0<tt.length&&(xt=new hf(xt,e,null,a,H),P.push({event:xt,listeners:tt}),ft?xt.data=ft:(ft=yf(a),ft!==null&&(xt.data=ft)))),(ft=jx?Hx(e,a):Yx(e,a))&&(xt=_l(U,"onBeforeInput"),0<xt.length&&(tt=new hf("onBeforeInput","beforeinput",null,a,H),P.push({event:tt,listeners:xt}),tt.data=ft)),O_(P,e,U,a,H)}ep(P,i)})}function Ua(e,i,a){return{instance:e,listener:i,currentTarget:a}}function _l(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ia(e,a),h!=null&&l.unshift(Ua(e,h,d)),h=ia(e,i),h!=null&&l.push(Ua(e,h,d))),e.tag===3)return l;e=e.return}return[]}function k_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function np(e,i,a,l,h){for(var d=i._reactName,y=[];a!==null&&a!==l;){var v=a,T=v.alternate,U=v.stateNode;if(v=v.tag,T!==null&&T===l)break;v!==5&&v!==26&&v!==27||U===null||(T=U,h?(U=ia(a,d),U!=null&&y.unshift(Ua(a,U,T))):h||(U=ia(a,d),U!=null&&y.push(Ua(a,U,T)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var G_=/\r\n?/g,L_=/\u0000|\uFFFD/g;function sp(e){return(typeof e=="string"?e:""+e).replace(G_,`
`).replace(L_,"")}function ap(e,i){return i=sp(i),sp(e)===i}function Ot(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ns(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ns(e,""+l);break;case"className":Ar(e,"class",l);break;case"tabIndex":Ar(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(e,a,l);break;case"style":af(e,l,d);break;case"data":if(i!=="object"){Ar(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Tr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ot(e,i,"name",h.name,h,null),Ot(e,i,"formEncType",h.formEncType,h,null),Ot(e,i,"formMethod",h.formMethod,h,null),Ot(e,i,"formTarget",h.formTarget,h,null)):(Ot(e,i,"encType",h.encType,h,null),Ot(e,i,"method",h.method,h,null),Ot(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Tr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=wi);break;case"onScroll":l!=null&&pt("scroll",e);break;case"onScrollEnd":l!=null&&pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Tr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":pt("beforetoggle",e),pt("toggle",e),Sr(e,"popover",l);break;case"xlinkActuate":Ai(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ai(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ai(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ai(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ai(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ai(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ai(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ai(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ai(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fx.get(a)||a,Sr(e,a,l))}}function oc(e,i,a,l,h,d){switch(a){case"style":af(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ns(e,l):(typeof l=="number"||typeof l=="bigint")&&ns(e,""+l);break;case"onScroll":l!=null&&pt("scroll",e);break;case"onScrollEnd":l!=null&&pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=wi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zh.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Sr(e,a,l)}}}function de(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",e),pt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ot(e,i,d,y,a,null)}}h&&Ot(e,i,"srcSet",a.srcSet,a,null),l&&Ot(e,i,"src",a.src,a,null);return;case"input":pt("invalid",e);var v=d=y=h=null,T=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":h=H;break;case"type":y=H;break;case"checked":T=H;break;case"defaultChecked":U=H;break;case"value":d=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:Ot(e,i,l,H,a,null)}}tf(e,d,v,T,U,y,h,!1);return;case"select":pt("invalid",e),l=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(v=a[h],v!=null))switch(h){case"value":d=v;break;case"defaultValue":y=v;break;case"multiple":l=v;default:Ot(e,i,h,v,a,null)}i=d,a=y,e.multiple=!!l,i!=null?is(e,!!l,i,!1):a!=null&&is(e,!!l,a,!0);return;case"textarea":pt("invalid",e),d=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(v=a[y],v!=null))switch(y){case"value":l=v;break;case"defaultValue":h=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Ot(e,i,y,v,a,null)}nf(e,l,h,d);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ot(e,i,T,l,a,null)}return;case"dialog":pt("beforetoggle",e),pt("toggle",e),pt("cancel",e),pt("close",e);break;case"iframe":case"object":pt("load",e);break;case"video":case"audio":for(l=0;l<Da.length;l++)pt(Da[l],e);break;case"image":pt("error",e),pt("load",e);break;case"details":pt("toggle",e);break;case"embed":case"source":case"link":pt("error",e),pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ot(e,i,U,l,a,null)}return;default:if(So(i)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&oc(e,i,H,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&Ot(e,i,v,l,a,null))}function j_(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,v=null,T=null,U=null,H=null;for(j in a){var P=a[j];if(a.hasOwnProperty(j)&&P!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":T=P;default:l.hasOwnProperty(j)||Ot(e,i,j,null,l,P)}}for(var G in l){var j=l[G];if(P=a[G],l.hasOwnProperty(G)&&(j!=null||P!=null))switch(G){case"type":d=j;break;case"name":h=j;break;case"checked":U=j;break;case"defaultChecked":H=j;break;case"value":y=j;break;case"defaultValue":v=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:j!==P&&Ot(e,i,G,j,l,P)}}bo(e,y,v,T,U,H,d,h);return;case"select":j=y=v=G=null;for(d in a)if(T=a[d],a.hasOwnProperty(d)&&T!=null)switch(d){case"value":break;case"multiple":j=T;default:l.hasOwnProperty(d)||Ot(e,i,d,null,l,T)}for(h in l)if(d=l[h],T=a[h],l.hasOwnProperty(h)&&(d!=null||T!=null))switch(h){case"value":G=d;break;case"defaultValue":v=d;break;case"multiple":y=d;default:d!==T&&Ot(e,i,h,d,l,T)}i=v,a=y,l=j,G!=null?is(e,!!a,G,!1):!!l!=!!a&&(i!=null?is(e,!!a,i,!0):is(e,!!a,a?[]:"",!1));return;case"textarea":j=G=null;for(v in a)if(h=a[v],a.hasOwnProperty(v)&&h!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ot(e,i,v,null,l,h)}for(y in l)if(h=l[y],d=a[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":G=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Ot(e,i,y,h,l,d)}ef(e,G,j);return;case"option":for(var J in a)if(G=a[J],a.hasOwnProperty(J)&&G!=null&&!l.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Ot(e,i,J,null,l,G)}for(T in l)if(G=l[T],j=a[T],l.hasOwnProperty(T)&&G!==j&&(G!=null||j!=null))switch(T){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ot(e,i,T,G,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in a)G=a[rt],a.hasOwnProperty(rt)&&G!=null&&!l.hasOwnProperty(rt)&&Ot(e,i,rt,null,l,G);for(U in l)if(G=l[U],j=a[U],l.hasOwnProperty(U)&&G!==j&&(G!=null||j!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Ot(e,i,U,G,l,j)}return;default:if(So(i)){for(var Nt in a)G=a[Nt],a.hasOwnProperty(Nt)&&G!==void 0&&!l.hasOwnProperty(Nt)&&oc(e,i,Nt,void 0,l,G);for(H in l)G=l[H],j=a[H],!l.hasOwnProperty(H)||G===j||G===void 0&&j===void 0||oc(e,i,H,G,l,j);return}}for(var O in a)G=a[O],a.hasOwnProperty(O)&&G!=null&&!l.hasOwnProperty(O)&&Ot(e,i,O,null,l,G);for(P in l)G=l[P],j=a[P],!l.hasOwnProperty(P)||G===j||G==null&&j==null||Ot(e,i,P,G,l,j)}function rp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,y=h.initiatorType,v=h.duration;if(d&&v&&rp(y)){for(y=0,v=h.responseEnd,l+=1;l<a.length;l++){var T=a[l],U=T.startTime;if(U>v)break;var H=T.transferSize,P=T.initiatorType;H&&rp(P)&&(T=T.responseEnd,y+=H*(T<v?1:(v-U)/(T-U)))}if(--l,i+=8*(d+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var uc=null,cc=null;function bl(e){return e.nodeType===9?e:e.ownerDocument}function lp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function op(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function hc(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fc=null;function Y_(){var e=window.event;return e&&e.type==="popstate"?e===fc?!1:(fc=e,!0):(fc=null,!1)}var up=typeof setTimeout=="function"?setTimeout:void 0,X_=typeof clearTimeout=="function"?clearTimeout:void 0,cp=typeof Promise=="function"?Promise:void 0,q_=typeof queueMicrotask=="function"?queueMicrotask:typeof cp<"u"?function(e){return cp.resolve(null).then(e).catch(V_)}:up;function V_(e){setTimeout(function(){throw e})}function dn(e){return e==="head"}function hp(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ds(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ka(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ka(a);for(var d=a.firstChild;d;){var y=d.nextSibling,v=d.nodeName;d[ta]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&ka(e.ownerDocument.body);a=h}while(a);Ds(i)}function fp(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function dc(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dc(a),xo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function P_(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ta])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=We(e.nextSibling),e===null)break}return null}function F_(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=We(e.nextSibling),e===null))return null;return e}function dp(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=We(e.nextSibling),e===null))return null;return e}function mc(e){return e.data==="$?"||e.data==="$~"}function pc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function I_(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function We(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var gc=null;function mp(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return We(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function pp(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function gp(e,i,a){switch(i=bl(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ka(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);xo(e)}var Ke=new Map,yp=new Set;function vl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hi=Y.d;Y.d={f:Q_,r:Z_,D:W_,C:K_,L:$_,m:J_,X:eb,S:tb,M:ib};function Q_(){var e=Hi.f(),i=fl();return e||i}function Z_(e){var i=Jn(e);i!==null&&i.tag===5&&i.type==="form"?Dd(i):Hi.r(e)}var Bs=typeof document>"u"?null:document;function xp(e,i,a){var l=Bs;if(l&&typeof i=="string"&&i){var h=qe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),yp.has(h)||(yp.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),de(i,"link",e),re(i),l.head.appendChild(i)))}}function W_(e){Hi.D(e),xp("dns-prefetch",e,null)}function K_(e,i){Hi.C(e,i),xp("preconnect",e,i)}function $_(e,i,a){Hi.L(e,i,a);var l=Bs;if(l&&e&&i){var h='link[rel="preload"][as="'+qe(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+qe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+qe(a.imageSizes)+'"]')):h+='[href="'+qe(e)+'"]';var d=h;switch(i){case"style":d=Os(e);break;case"script":d=Ns(e)}Ke.has(d)||(e=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ke.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ga(d))||i==="script"&&l.querySelector(La(d))||(i=l.createElement("link"),de(i,"link",e),re(i),l.head.appendChild(i)))}}function J_(e,i){Hi.m(e,i);var a=Bs;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+qe(l)+'"][href="'+qe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ns(e)}if(!Ke.has(d)&&(e=x({rel:"modulepreload",href:e},i),Ke.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(La(d)))return}l=a.createElement("link"),de(l,"link",e),re(l),a.head.appendChild(l)}}}function tb(e,i,a){Hi.S(e,i,a);var l=Bs;if(l&&e){var h=ts(l).hoistableStyles,d=Os(e);i=i||"default";var y=h.get(d);if(!y){var v={loading:0,preload:null};if(y=l.querySelector(Ga(d)))v.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ke.get(d))&&yc(e,a);var T=y=l.createElement("link");re(T),de(T,"link",e),T._p=new Promise(function(U,H){T.onload=U,T.onerror=H}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Sl(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:v},h.set(d,y)}}}function eb(e,i){Hi.X(e,i);var a=Bs;if(a&&e){var l=ts(a).hoistableScripts,h=Ns(e),d=l.get(h);d||(d=a.querySelector(La(h)),d||(e=x({src:e,async:!0},i),(i=Ke.get(h))&&xc(e,i),d=a.createElement("script"),re(d),de(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ib(e,i){Hi.M(e,i);var a=Bs;if(a&&e){var l=ts(a).hoistableScripts,h=Ns(e),d=l.get(h);d||(d=a.querySelector(La(h)),d||(e=x({src:e,async:!0,type:"module"},i),(i=Ke.get(h))&&xc(e,i),d=a.createElement("script"),re(d),de(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function _p(e,i,a,l){var h=(h=ut.current)?vl(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Os(a.href),a=ts(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Os(a.href);var d=ts(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(Ga(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Ke.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ke.set(e,a),d||nb(h,e,a,y.state))),i&&l===null)throw Error(r(528,""));return y}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ns(a),a=ts(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Os(e){return'href="'+qe(e)+'"'}function Ga(e){return'link[rel="stylesheet"]['+e+"]"}function bp(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function nb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),de(i,"link",a),re(i),e.head.appendChild(i))}function Ns(e){return'[src="'+qe(e)+'"]'}function La(e){return"script[async]"+e}function vp(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+qe(a.href)+'"]');if(l)return i.instance=l,re(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),re(l),de(l,"style",h),Sl(l,a.precedence,e),i.instance=l;case"stylesheet":h=Os(a.href);var d=e.querySelector(Ga(h));if(d)return i.state.loading|=4,i.instance=d,re(d),d;l=bp(a),(h=Ke.get(h))&&yc(l,h),d=(e.ownerDocument||e).createElement("link"),re(d);var y=d;return y._p=new Promise(function(v,T){y.onload=v,y.onerror=T}),de(d,"link",l),i.state.loading|=4,Sl(d,a.precedence,e),i.instance=d;case"script":return d=Ns(a.src),(h=e.querySelector(La(d)))?(i.instance=h,re(h),h):(l=a,(h=Ke.get(d))&&(l=x({},a),xc(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),re(h),de(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Sl(l,a.precedence,e));return i.instance}function Sl(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var v=l[y];if(v.dataset.precedence===i)d=v;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function yc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function xc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Al=null;function Sp(e,i,a){if(Al===null){var l=new Map,h=Al=new Map;h.set(a,l)}else h=Al,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ta]||d[ue]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=e+y;var v=l.get(y);v?v.push(d):l.set(y,[d])}}return l}function Ap(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function sb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function wp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ab(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Os(l.href),d=i.querySelector(Ga(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=wl.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,re(d);return}d=i.ownerDocument||i,l=bp(l),(h=Ke.get(h))&&yc(l,h),d=d.createElement("link"),re(d);var y=d;y._p=new Promise(function(v,T){y.onload=v,y.onerror=T}),de(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=wl.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var _c=0;function rb(e,i){return e.stylesheets&&e.count===0&&Ml(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Ml(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&_c===0&&(_c=62500*H_());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ml(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>_c?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function wl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ml(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tl=null;function Ml(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tl=new Map,i.forEach(lb,e),Tl=null,wl.call(e))}function lb(e,i){if(!(i.state.loading&4)){var a=Tl.get(e);if(a)var l=a.get(null);else{a=new Map,Tl.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=i.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,h),a.set(y,h),this.count++,l=wl.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ja={$$typeof:R,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function ob(e,i,a,l,h,d,y,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.hiddenUpdates=mo(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Tp(e,i,a,l,h,d,y,v,T,U,H,P){return e=new ob(e,i,a,y,T,U,H,P,v),i=1,d===!0&&(i|=24),d=Ne(3,null,null,i),e.current=d,d.stateNode=e,i=$o(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},iu(d),e}function Mp(e){return e?(e=cs,e):cs}function Cp(e,i,a,l,h,d){h=Mp(h),l.context===null?l.context=h:l.pendingContext=h,l=en(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=nn(e,l,i),a!==null&&(Ce(a,e,i),ya(a,e,i))}function Ep(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function bc(e,i){Ep(e,i),(e=e.alternate)&&Ep(e,i)}function zp(e){if(e.tag===13||e.tag===31){var i=En(e,67108864);i!==null&&Ce(i,e,67108864),bc(e,67108864)}}function Rp(e){if(e.tag===13||e.tag===31){var i=Le();i=po(i);var a=En(e,i);a!==null&&Ce(a,e,i),bc(e,i)}}var Cl=!0;function ub(e,i,a,l){var h=B.T;B.T=null;var d=Y.p;try{Y.p=2,vc(e,i,a,l)}finally{Y.p=d,B.T=h}}function cb(e,i,a,l){var h=B.T;B.T=null;var d=Y.p;try{Y.p=8,vc(e,i,a,l)}finally{Y.p=d,B.T=h}}function vc(e,i,a,l){if(Cl){var h=Sc(l);if(h===null)lc(e,i,l,El,a),Op(e,l);else if(fb(h,e,i,a,l))l.stopPropagation();else if(Op(e,l),i&4&&-1<hb.indexOf(e)){for(;h!==null;){var d=Jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=An(d.pendingLanes);if(y!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var T=1<<31-Be(y);v.entanglements[1]|=T,y&=~T}xi(d),(Ct&6)===0&&(cl=ze()+500,Na(0))}}break;case 31:case 13:v=En(d,2),v!==null&&Ce(v,d,2),fl(),bc(d,2)}if(d=Sc(l),d===null&&lc(e,i,l,El,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else lc(e,i,l,null,a)}}function Sc(e){return e=wo(e),Ac(e)}var El=null;function Ac(e){if(El=null,e=$n(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=c(i),e!==null)return e;e=null}else if(a===31){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return El=e,null}function Bp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wy()){case Lh:return 2;case jh:return 8;case yr:case Ky:return 32;case Hh:return 268435456;default:return 32}default:return 32}}var wc=!1,mn=null,pn=null,gn=null,Ha=new Map,Ya=new Map,yn=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(e,i){switch(e){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Ha.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(i.pointerId)}}function Xa(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Jn(i),i!==null&&zp(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function fb(e,i,a,l,h){switch(i){case"focusin":return mn=Xa(mn,e,i,a,l,h),!0;case"dragenter":return pn=Xa(pn,e,i,a,l,h),!0;case"mouseover":return gn=Xa(gn,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ha.set(d,Xa(Ha.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ya.set(d,Xa(Ya.get(d)||null,e,i,a,l,h)),!0}return!1}function Np(e){var i=$n(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){e.blockedOn=i,Fh(e.priority,function(){Rp(a)});return}}else if(i===31){if(i=f(a),i!==null){e.blockedOn=i,Fh(e.priority,function(){Rp(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Sc(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ao=l,a.target.dispatchEvent(l),Ao=null}else return i=Jn(a),i!==null&&zp(i),e.blockedOn=a,!1;i.shift()}return!0}function Dp(e,i,a){zl(e)&&a.delete(i)}function db(){wc=!1,mn!==null&&zl(mn)&&(mn=null),pn!==null&&zl(pn)&&(pn=null),gn!==null&&zl(gn)&&(gn=null),Ha.forEach(Dp),Ya.forEach(Dp)}function Rl(e,i){e.blockedOn===i&&(e.blockedOn=null,wc||(wc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,db)))}var Bl=null;function Up(e){Bl!==e&&(Bl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bl===e&&(Bl=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Ac(l||a)===null)continue;break}var d=Jn(a);d!==null&&(e.splice(i,3),i-=3,Su(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ds(e){function i(T){return Rl(T,e)}mn!==null&&Rl(mn,e),pn!==null&&Rl(pn,e),gn!==null&&Rl(gn,e),Ha.forEach(i),Ya.forEach(i);for(var a=0;a<yn.length;a++){var l=yn[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<yn.length&&(a=yn[0],a.blockedOn===null);)Np(a),a.blockedOn===null&&yn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=h[ve]||null;if(typeof d=="function")y||Up(a);else if(y){var v=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[ve]||null)v=y.formAction;else if(Ac(h)!==null)continue}else v=y.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),Up(a)}}}function kp(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Tc(e){this._internalRoot=e}Ol.prototype.render=Tc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Le();Cp(a,l,e,i,null,null)},Ol.prototype.unmount=Tc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Cp(e.current,2,null,e,null,null),fl(),i[Kn]=null}};function Ol(e){this._internalRoot=e}Ol.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ph();e={blockedOn:null,target:e,priority:i};for(var a=0;a<yn.length&&i!==0&&i<yn[a].priority;a++);yn.splice(a,0,e),a===0&&Np(e)}};var Gp=t.version;if(Gp!=="19.2.3")throw Error(r(527,Gp,"19.2.3"));Y.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var mb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Ks=Nl.inject(mb),Re=Nl}catch{}}return Va.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=Vd,d=Pd,y=Fd;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=Tp(e,1,!1,null,null,a,l,null,h,d,y,kp),e[Kn]=i.current,rc(e),new Tc(i)},Va.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=Vd,y=Pd,v=Fd,T=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(T=a.formState)),i=Tp(e,1,!0,i,a??null,l,h,T,d,y,v,kp),i.context=Mp(null),a=i.current,l=Le(),l=po(l),h=en(l),h.callback=null,nn(a,h,l),a=l,i.current.lanes=a,Js(i,a),xi(i),e[Kn]=i.current,rc(e),new Ol(i)},Va.version="19.2.3",Va}var Ip;function wb(){if(Ip)return Ec.exports;Ip=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ec.exports=Ab(),Ec.exports}var Tb=wb();const d0="enchanted_glamour_kingdom_progress",m0={musicEnabled:!0,sfxEnabled:!0,musicVolume:.5,sfxVolume:.7},Qp={currentLevel:1,unlockedLevels:[1],collection:[],totalStars:0,settings:m0},p0=()=>{try{const s=localStorage.getItem(d0);if(s){const t=JSON.parse(s);return{...Qp,...t,settings:{...m0,...t.settings}}}}catch(s){console.error("Failed to load progress:",s)}return Qp},Wl=s=>{try{localStorage.setItem(d0,JSON.stringify(s))}catch(t){console.error("Failed to save progress:",t)}},Mb=(s,t)=>{if(s.unlockedLevels.includes(t))return s;const n={...s,unlockedLevels:[...s.unlockedLevels,t]};return Wl(n),n},Cb=s=>{const t=new Set;s.forEach(o=>{t.add(o.item.category)});const n=t.size;let r=0;return n>=6?r=3:n>=4?r=2:n>=1&&(r=1),r},Eb=s=>{switch(s){case 3:return"Perfect! You used all categories!";case 2:return"Great job! Almost complete!";case 1:return"Good start! Try more categories!";default:return"Keep trying!"}},zb={screen:"menu",currentLevel:null,appliedItems:[],selectedCategory:null,progress:p0(),isLoading:!0};function Rb(s,t){switch(t.type){case"SET_SCREEN":return{...s,screen:t.screen};case"SELECT_LEVEL":return{...s,currentLevel:t.level,appliedItems:[],selectedCategory:"lips",screen:"game"};case"APPLY_ITEM":{const n={item:t.item,position:t.position,rotation:0,scale:1};return{...s,appliedItems:[...s.appliedItems,n]}}case"REMOVE_LAST_ITEM":return{...s,appliedItems:s.appliedItems.slice(0,-1)};case"RESET_MAKEOVER":return{...s,appliedItems:[]};case"SELECT_CATEGORY":return{...s,selectedCategory:t.category};case"COMPLETE_LEVEL":{if(!s.currentLevel)return s;const n={id:`${s.currentLevel.id}-${Date.now()}`,levelId:s.currentLevel.id,characterId:s.currentLevel.character.id,appliedItems:s.appliedItems.map(u=>u.item.id),stars:t.stars,timestamp:Date.now()},r=s.currentLevel.id+1;let o={...s.progress,collection:[...s.progress.collection,n],totalStars:s.progress.totalStars+t.stars};return r<=10&&(o=Mb(o,r)),Wl(o),{...s,progress:o,screen:"result"}}case"LOAD_PROGRESS":return{...s,progress:t.progress,isLoading:!1};case"SET_LOADING":return{...s,isLoading:t.isLoading};case"TOGGLE_MUSIC":{const n={...s.progress.settings,musicEnabled:!s.progress.settings.musicEnabled},r={...s.progress,settings:n};return Wl(r),{...s,progress:r}}case"TOGGLE_SFX":{const n={...s.progress.settings,sfxEnabled:!s.progress.settings.sfxEnabled},r={...s.progress,settings:n};return Wl(r),{...s,progress:r}}default:return s}}const g0=ee.createContext(void 0);function Bb({children:s}){const[t,n]=ee.useReducer(Rb,zb);ee.useEffect(()=>{const A=p0();n({type:"LOAD_PROGRESS",progress:A})},[]);const r=()=>n({type:"SET_SCREEN",screen:"menu"}),o=()=>n({type:"SET_SCREEN",screen:"levelSelect"}),u=()=>n({type:"SET_SCREEN",screen:"collection"}),c=A=>n({type:"SELECT_LEVEL",level:A}),f=(A,w)=>n({type:"APPLY_ITEM",item:A,position:w}),m=()=>n({type:"REMOVE_LAST_ITEM"}),p=()=>n({type:"RESET_MAKEOVER"}),g=A=>n({type:"SELECT_CATEGORY",category:A}),x=()=>{const A=Cb(t.appliedItems);n({type:"COMPLETE_LEVEL",stars:A})},_=()=>n({type:"TOGGLE_MUSIC"}),b=()=>n({type:"TOGGLE_SFX"});return k.jsx(g0.Provider,{value:{state:t,dispatch:n,goToMenu:r,goToLevelSelect:o,goToCollection:u,selectLevel:c,applyItem:f,undoItem:m,resetMakeover:p,selectCategory:g,completeMakeover:x,toggleMusic:_,toggleSfx:b},children:s})}function vn(){const s=ee.useContext(g0);if(s===void 0)throw new Error("useGame must be used within a GameProvider");return s}const Ob=({delay:s,left:t,size:n})=>k.jsx("div",{className:"absolute text-yellow-300 animate-pulse pointer-events-none",style:{left:t,top:`${Math.random()*100}%`,fontSize:`${n}px`,animationDelay:`${s}s`,opacity:.6+Math.random()*.4},children:""}),Zp=()=>{const{goToLevelSelect:s,goToCollection:t,state:n,toggleMusic:r,toggleSfx:o}=vn(),[u,c]=ee.useState([]);ee.useEffect(()=>{const p=Array.from({length:20},(g,x)=>({id:x,delay:Math.random()*3,left:`${Math.random()*100}%`,size:16+Math.random()*24}));c(p)},[]);const{musicEnabled:f,sfxEnabled:m}=n.progress.settings;return k.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center overflow-hidden",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 via-pink-800 to-indigo-900 animate-pulse"}),u.map(p=>k.jsx(Ob,{delay:p.delay,left:p.left,size:p.size},p.id)),k.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-8 p-8",children:[k.jsxs("div",{className:"text-center animate-float",children:[k.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-300 via-purple-300 to-indigo-300 drop-shadow-lg",style:{textShadow:"0 0 30px rgba(236, 72, 153, 0.5)"},children:" Enchanted "}),k.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 mt-2",style:{textShadow:"0 0 30px rgba(251, 191, 36, 0.5)"},children:"Glamour Kingdom"})]}),k.jsx("p",{className:"text-pink-200 text-lg md:text-xl text-center max-w-md",children:"Transform magical creatures with enchanted makeup and sparkles!"}),k.jsxs("div",{className:"flex items-center gap-2 bg-purple-900/50 px-6 py-3 rounded-full border border-purple-400/30",children:[k.jsx("span",{className:"text-2xl",children:""}),k.jsx("span",{className:"text-yellow-300 font-bold text-xl",children:n.progress.totalStars}),k.jsx("span",{className:"text-purple-200",children:"stars collected"})]}),k.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-xs",children:[k.jsx("button",{onClick:s,className:"btn-magic text-xl py-4 animate-glow",children:" Play"}),k.jsxs("button",{onClick:t,className:"btn-magic text-xl py-4 bg-gradient-to-r from-indigo-500 to-purple-500",children:[" Collection (",n.progress.collection.length,"/10)"]})]}),k.jsxs("div",{className:"flex gap-4 mt-4",children:[k.jsx("button",{onClick:r,className:`w-14 h-14 rounded-full flex items-center justify-center text-2xl transition-all ${f?"bg-purple-600 text-white shadow-lg shadow-purple-500/50":"bg-gray-700 text-gray-400"}`,children:f?"":""}),k.jsx("button",{onClick:o,className:`w-14 h-14 rounded-full flex items-center justify-center text-2xl transition-all ${m?"bg-pink-600 text-white shadow-lg shadow-pink-500/50":"bg-gray-700 text-gray-400"}`,children:m?"":""})]}),k.jsx("p",{className:"text-purple-300/60 text-sm mt-8",children:"Made with  for Aysel"})]})]})},li=[{id:"forest-fairy",name:"Luna the Forest Fairy",baseImageUrl:"/assets/characters/forest-fairy.svg",theme:"Spring Garden",unlocked:!0},{id:"water-mermaid",name:"Marina the Water Mermaid",baseImageUrl:"/assets/characters/water-mermaid.svg",theme:"Ocean Dreams",unlocked:!1},{id:"unicorn-princess",name:"Starlight the Unicorn Princess",baseImageUrl:"/assets/characters/unicorn-princess.svg",theme:"Rainbow Magic",unlocked:!1},{id:"moon-fairy",name:"Celeste the Moon Fairy",baseImageUrl:"/assets/characters/moon-fairy.svg",theme:"Starlight Night",unlocked:!1},{id:"flower-spirit",name:"Petal the Flower Spirit",baseImageUrl:"/assets/characters/flower-spirit.svg",theme:"Enchanted Garden",unlocked:!1},{id:"crystal-mermaid",name:"Crystal the Ice Mermaid",baseImageUrl:"/assets/characters/crystal-mermaid.svg",theme:"Ice Palace",unlocked:!1},{id:"sun-princess",name:"Aurora the Sun Princess",baseImageUrl:"/assets/characters/sun-princess.svg",theme:"Golden Kingdom",unlocked:!1},{id:"shadow-fairy",name:"Violet the Shadow Fairy",baseImageUrl:"/assets/characters/shadow-fairy.svg",theme:"Mystic Forest",unlocked:!1},{id:"rainbow-unicorn",name:"Prism the Rainbow Unicorn",baseImageUrl:"/assets/characters/rainbow-unicorn.svg",theme:"Cloud Castle",unlocked:!1},{id:"queen-magic",name:"Empress Enchantia",baseImageUrl:"/assets/characters/queen-magic.svg",theme:"Enchanted Throne",unlocked:!1}],Fs=(s,t)=>{const r={lips:"makeup/lips",eyes:"makeup/eyes",cheeks:"makeup/cheeks",hair:"hairstyles",accessories:"accessories",wings:"makeup/wings"}[s],o=s==="hair"?"hair":s==="accessories"?"accessories":s;return t.map((u,c)=>({id:`${s}-${c+1}`,name:u.name,category:s,imageUrl:`/assets/${r}/${o}-${c+1}.svg`,rarity:u.rarity,position:u.position,scale:1}))},y0=Fs("lips",[{name:"Rose Petal Pink",rarity:"common",position:{x:0,y:80}},{name:"Cherry Blossom",rarity:"common",position:{x:0,y:80}},{name:"Coral Dream",rarity:"common",position:{x:0,y:80}},{name:"Fairy Berry",rarity:"rare",position:{x:0,y:80}},{name:"Sparkle Gloss",rarity:"rare",position:{x:0,y:80}},{name:"Rainbow Kiss",rarity:"legendary",position:{x:0,y:80}}]),x0=Fs("eyes",[{name:"Starlight Shimmer",rarity:"common",position:{x:0,y:-20}},{name:"Ocean Blue",rarity:"common",position:{x:0,y:-20}},{name:"Forest Green",rarity:"common",position:{x:0,y:-20}},{name:"Sunset Orange",rarity:"rare",position:{x:0,y:-20}},{name:"Galaxy Purple",rarity:"rare",position:{x:0,y:-20}},{name:"Diamond Sparkle",rarity:"legendary",position:{x:0,y:-20}}]),_0=Fs("cheeks",[{name:"Peach Glow",rarity:"common",position:{x:0,y:40}},{name:"Pink Cloud",rarity:"common",position:{x:0,y:40}},{name:"Coral Dust",rarity:"common",position:{x:0,y:40}},{name:"Fairy Dust",rarity:"rare",position:{x:0,y:40}},{name:"Glitter Blush",rarity:"rare",position:{x:0,y:40}},{name:"Moonbeam Glow",rarity:"legendary",position:{x:0,y:40}}]),b0=Fs("hair",[{name:"Flowing Waves",rarity:"common",position:{x:0,y:-100}},{name:"Braided Crown",rarity:"common",position:{x:0,y:-100}},{name:"Curly Locks",rarity:"common",position:{x:0,y:-100}},{name:"Flower Braid",rarity:"rare",position:{x:0,y:-100}},{name:"Star Streaks",rarity:"rare",position:{x:0,y:-100}},{name:"Rainbow Cascade",rarity:"legendary",position:{x:0,y:-100}}]),v0=Fs("accessories",[{name:"Flower Crown",rarity:"common",position:{x:0,y:-120}},{name:"Crystal Tiara",rarity:"common",position:{x:0,y:-120}},{name:"Pearl Necklace",rarity:"common",position:{x:0,y:100}},{name:"Star Earrings",rarity:"rare",position:{x:0,y:-10}},{name:"Magic Wand",rarity:"rare",position:{x:80,y:50}},{name:"Enchanted Crown",rarity:"legendary",position:{x:0,y:-130}}]),S0=Fs("wings",[{name:"Butterfly Wings",rarity:"common",position:{x:0,y:0}},{name:"Fairy Wings",rarity:"common",position:{x:0,y:0}},{name:"Crystal Wings",rarity:"common",position:{x:0,y:0}},{name:"Rainbow Wings",rarity:"rare",position:{x:0,y:0}},{name:"Starlight Wings",rarity:"rare",position:{x:0,y:0}},{name:"Galaxy Wings",rarity:"legendary",position:{x:0,y:0}}]),_i=[...y0,...x0,..._0,...b0,...v0,...S0],Nb=s=>{switch(s){case"lips":return y0;case"eyes":return x0;case"cheeks":return _0;case"hair":return b0;case"accessories":return v0;case"wings":return S0;default:return[]}},Db=[{id:"lips",name:"Lips",icon:""},{id:"eyes",name:"Eyes",icon:""},{id:"cheeks",name:"Cheeks",icon:""},{id:"hair",name:"Hair",icon:""},{id:"accessories",name:"Accessories",icon:""},{id:"wings",name:"Wings",icon:""}],A0=[{id:1,name:"Spring Garden",character:li[0],backgroundUrl:"/assets/backgrounds/spring-garden.jpg",availableItems:_i,unlockRequirement:null},{id:2,name:"Ocean Dreams",character:li[1],backgroundUrl:"/assets/backgrounds/ocean-dreams.jpg",availableItems:_i,unlockRequirement:1},{id:3,name:"Rainbow Magic",character:li[2],backgroundUrl:"/assets/backgrounds/rainbow-magic.jpg",availableItems:_i,unlockRequirement:2},{id:4,name:"Starlight Night",character:li[3],backgroundUrl:"/assets/backgrounds/starlight-night.jpg",availableItems:_i,unlockRequirement:3},{id:5,name:"Enchanted Garden",character:li[4],backgroundUrl:"/assets/backgrounds/enchanted-garden.jpg",availableItems:_i,unlockRequirement:4},{id:6,name:"Ice Palace",character:li[5],backgroundUrl:"/assets/backgrounds/ice-palace.jpg",availableItems:_i,unlockRequirement:5},{id:7,name:"Golden Kingdom",character:li[6],backgroundUrl:"/assets/backgrounds/golden-kingdom.jpg",availableItems:_i,unlockRequirement:6},{id:8,name:"Mystic Forest",character:li[7],backgroundUrl:"/assets/backgrounds/mystic-forest.jpg",availableItems:_i,unlockRequirement:7},{id:9,name:"Cloud Castle",character:li[8],backgroundUrl:"/assets/backgrounds/cloud-castle.jpg",availableItems:_i,unlockRequirement:8},{id:10,name:"Enchanted Throne",character:li[9],backgroundUrl:"/assets/backgrounds/enchanted-throne.jpg",availableItems:_i,unlockRequirement:9}],Ub=s=>A0.find(t=>t.id===s),kb=(s,t)=>{const n=Ub(s);return n?n.unlockRequirement===null?!0:t.includes(n.unlockRequirement):!1},Gb=({level:s,isUnlocked:t,stars:n,onSelect:r})=>k.jsxs("button",{onClick:t?r:void 0,disabled:!t,className:`relative w-full aspect-square rounded-2xl overflow-hidden transition-all duration-300 ${t?"transform hover:scale-105 hover:shadow-xl hover:shadow-purple-500/30 cursor-pointer":"opacity-50 cursor-not-allowed grayscale"}`,children:[k.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-br from-purple-600 via-pink-500 to-indigo-600":"bg-gradient-to-br from-gray-600 to-gray-800"}`}),k.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:k.jsx("div",{className:"text-6xl opacity-80",children:t?Lb(s.id):""})}),k.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3",children:[k.jsx("p",{className:"text-white font-bold text-sm",children:s.name}),k.jsx("p",{className:"text-pink-300 text-xs",children:s.character.name})]}),t&&k.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5",children:[1,2,3].map(o=>k.jsx("span",{className:`text-lg ${o<=n?"text-yellow-400":"text-gray-600"}`,children:""},o))}),k.jsx("div",{className:"absolute top-2 left-2 w-8 h-8 rounded-full bg-purple-900/80 flex items-center justify-center",children:k.jsx("span",{className:"text-white font-bold text-sm",children:s.id})})]});function Lb(s){return["","","","","","","","","",""][s-1]||""}const jb=()=>{const{goToMenu:s,selectLevel:t,state:n}=vn(),{unlockedLevels:r,collection:o}=n.progress,u=c=>o.find(m=>m.levelId===c)?.stars||0;return k.jsxs("div",{className:"w-full h-full flex flex-col bg-gradient-to-br from-purple-900 via-indigo-900 to-purple-800 overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-900/50",children:[k.jsx("button",{onClick:s,className:"w-12 h-12 rounded-full bg-purple-700 hover:bg-purple-600 flex items-center justify-center text-2xl transition-colors",children:""}),k.jsx("h1",{className:"text-2xl font-bold text-pink-200",children:"Choose Your Level"}),k.jsx("div",{className:"w-12"})," "]}),k.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:k.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 max-w-4xl mx-auto",children:A0.map(c=>k.jsx(Gb,{level:c,isUnlocked:kb(c.id,r),stars:u(c.id),onSelect:()=>t(c)},c.id))})}),k.jsx("div",{className:"p-4 bg-purple-900/50",children:k.jsxs("div",{className:"max-w-md mx-auto",children:[k.jsxs("div",{className:"flex justify-between text-sm text-purple-200 mb-2",children:[k.jsx("span",{children:"Progress"}),k.jsxs("span",{children:[r.length,"/10 levels"]})]}),k.jsx("div",{className:"h-3 bg-purple-950 rounded-full overflow-hidden",children:k.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-purple-500 rounded-full transition-all duration-500",style:{width:`${r.length/10*100}%`}})})]})})]})},Hb=({makeover:s,characterName:t})=>k.jsxs("div",{className:"relative bg-gradient-to-br from-purple-700 to-pink-700 rounded-2xl overflow-hidden shadow-lg",children:[k.jsx("div",{className:"aspect-square flex items-center justify-center bg-purple-800/50",children:k.jsx("div",{className:"text-6xl",children:Yb(s.characterId)})}),k.jsxs("div",{className:"p-3 bg-purple-900/80",children:[k.jsx("p",{className:"text-white font-bold text-sm truncate",children:t}),k.jsxs("p",{className:"text-purple-300 text-xs",children:[s.appliedItems.length," items used"]})]}),k.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5 bg-purple-900/80 px-2 py-1 rounded-full",children:[1,2,3].map(n=>k.jsx("span",{className:`text-sm ${n<=s.stars?"text-yellow-400":"text-gray-600"}`,children:""},n))})]});function Yb(s){return{"forest-fairy":"","water-mermaid":"","unicorn-princess":"","moon-fairy":"","flower-spirit":"","crystal-mermaid":"","sun-princess":"","shadow-fairy":"","rainbow-unicorn":"","queen-magic":""}[s]||""}const Xb=({index:s})=>k.jsxs("div",{className:"bg-purple-900/30 rounded-2xl border-2 border-dashed border-purple-600/50 aspect-square flex flex-col items-center justify-center",children:[k.jsx("span",{className:"text-4xl text-purple-600/50",children:""}),k.jsxs("span",{className:"text-purple-400/50 text-sm mt-2",children:["Level ",s+1]})]}),qb=()=>{const{goToMenu:s,state:t}=vn(),{collection:n,totalStars:r}=t.progress,o=c=>li.find(m=>m.id===c)?.name||"Unknown",u=new Map;return n.forEach(c=>{const f=u.get(c.levelId);(!f||c.stars>f.stars)&&u.set(c.levelId,c)}),k.jsxs("div",{className:"w-full h-full flex flex-col bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 overflow-hidden",children:[k.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-900/50",children:[k.jsx("button",{onClick:s,className:"w-12 h-12 rounded-full bg-purple-700 hover:bg-purple-600 flex items-center justify-center text-2xl transition-colors",children:""}),k.jsx("h1",{className:"text-2xl font-bold text-pink-200",children:" Collection"}),k.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/20 px-4 py-2 rounded-full",children:[k.jsx("span",{className:"text-xl",children:""}),k.jsx("span",{className:"text-yellow-300 font-bold",children:r})]})]}),k.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:n.length===0?k.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[k.jsx("span",{className:"text-6xl mb-4",children:""}),k.jsx("h2",{className:"text-2xl font-bold text-pink-200 mb-2",children:"Your collection is empty!"}),k.jsx("p",{className:"text-purple-300",children:"Complete makeovers to fill your collection book with beautiful creations."})]}):k.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 max-w-4xl mx-auto",children:Array.from({length:10},(c,f)=>{const m=f+1,p=u.get(m);return p?k.jsx(Hb,{makeover:p,characterName:o(p.characterId)},m):k.jsx(Xb,{index:f},m)})})}),k.jsx("div",{className:"p-4 bg-purple-900/50",children:k.jsxs("div",{className:"max-w-md mx-auto flex justify-around",children:[k.jsxs("div",{className:"text-center",children:[k.jsx("p",{className:"text-3xl font-bold text-pink-300",children:u.size}),k.jsx("p",{className:"text-purple-300 text-sm",children:"Creatures"})]}),k.jsxs("div",{className:"text-center",children:[k.jsx("p",{className:"text-3xl font-bold text-yellow-300",children:r}),k.jsx("p",{className:"text-purple-300 text-sm",children:"Total Stars"})]}),k.jsxs("div",{className:"text-center",children:[k.jsx("p",{className:"text-3xl font-bold text-purple-300",children:n.length}),k.jsx("p",{className:"text-purple-300 text-sm",children:"Makeovers"})]})]})})]})},Vb=()=>{const{state:s,goToLevelSelect:t,goToMenu:n}=vn(),[r,o]=ee.useState(0),[u,c]=ee.useState(!1),[f,m]=ee.useState(!1),p=s.progress.collection[s.progress.collection.length-1],g=p?.stars||0,x=s.currentLevel?.character.name||"Character";return ee.useEffect(()=>{const _=[];for(let w=1;w<=g;w++){const S=setTimeout(()=>{o(w)},w*500);_.push(S)}const b=setTimeout(()=>{c(!0)},g*500+300),A=setTimeout(()=>{m(!0)},g*500+800);return()=>{_.forEach(clearTimeout),clearTimeout(b),clearTimeout(A)}},[g]),k.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-purple-900 via-pink-800 to-indigo-900 overflow-hidden relative",children:[k.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:30}).map((_,b)=>k.jsx("div",{className:"absolute animate-bounce",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${1+Math.random()}s`,fontSize:`${16+Math.random()*16}px`},children:["","","","",""][Math.floor(Math.random()*5)]},b))}),k.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6 p-8 text-center",children:[k.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-pink-200 animate-pulse",children:" Makeover Complete! "}),k.jsxs("div",{className:"bg-purple-800/50 rounded-2xl px-8 py-4",children:[k.jsx("p",{className:"text-purple-200",children:"You transformed"}),k.jsx("p",{className:"text-2xl font-bold text-white",children:x})]}),k.jsx("div",{className:"flex gap-4 my-4",children:[1,2,3].map(_=>k.jsx("div",{className:`transform transition-all duration-500 ${_<=r?"scale-100 opacity-100":"scale-0 opacity-0"}`,children:k.jsx("span",{className:`text-6xl ${_<=r?"text-yellow-400 animate-bounce":"text-gray-600"}`,style:{animationDelay:`${_*.1}s`,textShadow:_<=r?"0 0 20px #fbbf24":"none"},children:""})},_))}),k.jsxs("div",{className:`transition-all duration-500 ${u?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-4"}`,children:[k.jsx("p",{className:"text-xl text-pink-300 font-bold",children:Eb(g)}),p&&k.jsxs("p",{className:"text-purple-300 mt-2",children:[p.appliedItems.length," magical items used"]})]}),k.jsx("div",{className:`bg-yellow-500/20 rounded-full px-6 py-3 transition-all duration-500 ${u?"opacity-100":"opacity-0"}`,children:k.jsxs("span",{className:"text-yellow-300 font-bold",children:["Total: ",s.progress.totalStars," "]})}),k.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 mt-4 transition-all duration-500 ${f?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-4"}`,children:[k.jsx("button",{onClick:t,className:"btn-magic text-lg px-8 py-3",children:" Next Level"}),k.jsx("button",{onClick:n,className:"px-8 py-3 rounded-xl bg-purple-700 hover:bg-purple-600 text-white font-bold transition-colors",children:" Home"})]}),s.currentLevel&&s.currentLevel.id<10&&k.jsx("div",{className:`mt-4 bg-green-500/20 rounded-full px-6 py-2 transition-all duration-500 ${f?"opacity-100":"opacity-0"}`,children:k.jsxs("span",{className:"text-green-300",children:[" Level ",s.currentLevel.id+1," Unlocked!"]})})]})]})},Pb="modulepreload",Fb=function(s){return"/aysel_game/"+s},Wp={},to=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");o=m(n.map(p=>{if(p=Fb(p),p in Wp)return;Wp[p]=!0;const g=p.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":Pb,g||(_.as="script"),_.crossOrigin="",_.href=p,f&&_.setAttribute("nonce",f),document.head.appendChild(_),g)return new Promise((b,A)=>{_.addEventListener("load",b),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};var st=(s=>(s.Application="application",s.WebGLPipes="webgl-pipes",s.WebGLPipesAdaptor="webgl-pipes-adaptor",s.WebGLSystem="webgl-system",s.WebGPUPipes="webgpu-pipes",s.WebGPUPipesAdaptor="webgpu-pipes-adaptor",s.WebGPUSystem="webgpu-system",s.CanvasSystem="canvas-system",s.CanvasPipesAdaptor="canvas-pipes-adaptor",s.CanvasPipes="canvas-pipes",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s.MaskEffect="mask-effect",s.BlendMode="blend-mode",s.TextureSource="texture-source",s.Environment="environment",s.ShapeBuilder="shape-builder",s.Batcher="batcher",s))(st||{});const sh=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},Dl=(s,t)=>sh(s).priority??t,pe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(sh).forEach(t=>{t.type.forEach(n=>this._removeHandlers[n]?.(t))}),this},add(...s){return s.map(sh).forEach(t=>{t.type.forEach(n=>{const r=this._addHandlers,o=this._queue;r[n]?r[n]?.(t):(o[n]=o[n]||[],o[n]?.push(t))})}),this},handle(s,t,n){const r=this._addHandlers,o=this._removeHandlers;if(r[s]||o[s])throw new Error(`Extension type ${s} already has a handler`);r[s]=t,o[s]=n;const u=this._queue;return u[s]&&(u[s]?.forEach(c=>t(c)),delete u[s]),this},handleByMap(s,t){return this.handle(s,n=>{n.name&&(t[n.name]=n.ref)},n=>{n.name&&delete t[n.name]})},handleByNamedList(s,t,n=-1){return this.handle(s,r=>{t.findIndex(u=>u.name===r.name)>=0||(t.push({name:r.name,value:r.ref}),t.sort((u,c)=>Dl(c.value,n)-Dl(u.value,n)))},r=>{const o=t.findIndex(u=>u.name===r.name);o!==-1&&t.splice(o,1)})},handleByList(s,t,n=-1){return this.handle(s,r=>{t.includes(r.ref)||(t.push(r.ref),t.sort((o,u)=>Dl(u,n)-Dl(o,n)))},r=>{const o=t.indexOf(r.ref);o!==-1&&t.splice(o,1)})},mixin(s,...t){for(const n of t)Object.defineProperties(s.prototype,Object.getOwnPropertyDescriptors(n))}},Ib={extension:{type:st.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await to(()=>import("./browserAll-4N1w8Jsf.js"),__vite__mapDeps([0,1,2]))}},Qb={extension:{type:st.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await to(()=>import("./webworkerAll-BQs0i_AF.js"),__vite__mapDeps([1,2]))}};class me{constructor(t,n,r){this._x=n||0,this._y=r||0,this._observer=t}clone(t){return new me(t??this._observer,this._x,this._y)}set(t=0,n=t){return(this._x!==t||this._y!==n)&&(this._x=t,this._y=n,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var Oc={exports:{}},Kp;function Zb(){return Kp||(Kp=1,(function(s){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(m,p,g){this.fn=m,this.context=p,this.once=g||!1}function u(m,p,g,x,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new o(g,x||m,_),A=n?n+p:p;return m._events[A]?m._events[A].fn?m._events[A]=[m._events[A],b]:m._events[A].push(b):(m._events[A]=b,m._eventsCount++),m}function c(m,p){--m._eventsCount===0?m._events=new r:delete m._events[p]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],g,x;if(this._eventsCount===0)return p;for(x in g=this._events)t.call(g,x)&&p.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},f.prototype.listeners=function(p){var g=n?n+p:p,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var _=0,b=x.length,A=new Array(b);_<b;_++)A[_]=x[_].fn;return A},f.prototype.listenerCount=function(p){var g=n?n+p:p,x=this._events[g];return x?x.fn?1:x.length:0},f.prototype.emit=function(p,g,x,_,b,A){var w=n?n+p:p;if(!this._events[w])return!1;var S=this._events[w],M=arguments.length,C,R;if(S.fn){switch(S.once&&this.removeListener(p,S.fn,void 0,!0),M){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,g),!0;case 3:return S.fn.call(S.context,g,x),!0;case 4:return S.fn.call(S.context,g,x,_),!0;case 5:return S.fn.call(S.context,g,x,_,b),!0;case 6:return S.fn.call(S.context,g,x,_,b,A),!0}for(R=1,C=new Array(M-1);R<M;R++)C[R-1]=arguments[R];S.fn.apply(S.context,C)}else{var N=S.length,F;for(R=0;R<N;R++)switch(S[R].once&&this.removeListener(p,S[R].fn,void 0,!0),M){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,g);break;case 3:S[R].fn.call(S[R].context,g,x);break;case 4:S[R].fn.call(S[R].context,g,x,_);break;default:if(!C)for(F=1,C=new Array(M-1);F<M;F++)C[F-1]=arguments[F];S[R].fn.apply(S[R].context,C)}}return!0},f.prototype.on=function(p,g,x){return u(this,p,g,x,!1)},f.prototype.once=function(p,g,x){return u(this,p,g,x,!0)},f.prototype.removeListener=function(p,g,x,_){var b=n?n+p:p;if(!this._events[b])return this;if(!g)return c(this,b),this;var A=this._events[b];if(A.fn)A.fn===g&&(!_||A.once)&&(!x||A.context===x)&&c(this,b);else{for(var w=0,S=[],M=A.length;w<M;w++)(A[w].fn!==g||_&&!A[w].once||x&&A[w].context!==x)&&S.push(A[w]);S.length?this._events[b]=S.length===1?S[0]:S:c(this,b)}return this},f.prototype.removeAllListeners=function(p){var g;return p?(g=n?n+p:p,this._events[g]&&c(this,g)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,s.exports=f})(Oc)),Oc.exports}var Wb=Zb();const ci=f0(Wb),Kb=Math.PI*2,$b=180/Math.PI,Jb=Math.PI/180;class ye{constructor(t=0,n=0){this.x=0,this.y=0,this.x=t,this.y=n}clone(){return new ye(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,n=t){return this.x=t,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Nc.x=0,Nc.y=0,Nc}}const Nc=new ye;class _t{constructor(t=1,n=0,r=0,o=1,u=0,c=0){this.array=null,this.a=t,this.b=n,this.c=r,this.d=o,this.tx=u,this.ty=c}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,n,r,o,u,c){return this.a=t,this.b=n,this.c=r,this.d=o,this.tx=u,this.ty=c,this}toArray(t,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,n){n=n||new ye;const r=t.x,o=t.y;return n.x=this.a*r+this.c*o+this.tx,n.y=this.b*r+this.d*o+this.ty,n}applyInverse(t,n){n=n||new ye;const r=this.a,o=this.b,u=this.c,c=this.d,f=this.tx,m=this.ty,p=1/(r*c+u*-o),g=t.x,x=t.y;return n.x=c*p*g+-u*p*x+(m*u-f*c)*p,n.y=r*p*x+-o*p*g+(-m*r+f*o)*p,n}translate(t,n){return this.tx+=t,this.ty+=n,this}scale(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this}rotate(t){const n=Math.cos(t),r=Math.sin(t),o=this.a,u=this.c,c=this.tx;return this.a=o*n-this.b*r,this.b=o*r+this.b*n,this.c=u*n-this.d*r,this.d=u*r+this.d*n,this.tx=c*n-this.ty*r,this.ty=c*r+this.ty*n,this}append(t){const n=this.a,r=this.b,o=this.c,u=this.d;return this.a=t.a*n+t.b*o,this.b=t.a*r+t.b*u,this.c=t.c*n+t.d*o,this.d=t.c*r+t.d*u,this.tx=t.tx*n+t.ty*o+this.tx,this.ty=t.tx*r+t.ty*u+this.ty,this}appendFrom(t,n){const r=t.a,o=t.b,u=t.c,c=t.d,f=t.tx,m=t.ty,p=n.a,g=n.b,x=n.c,_=n.d;return this.a=r*p+o*x,this.b=r*g+o*_,this.c=u*p+c*x,this.d=u*g+c*_,this.tx=f*p+m*x+n.tx,this.ty=f*g+m*_+n.ty,this}setTransform(t,n,r,o,u,c,f,m,p){return this.a=Math.cos(f+p)*u,this.b=Math.sin(f+p)*u,this.c=-Math.sin(f-m)*c,this.d=Math.cos(f-m)*c,this.tx=t-(r*this.a+o*this.c),this.ty=n-(r*this.b+o*this.d),this}prepend(t){const n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const r=this.a,o=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=o*t.a+this.d*t.c,this.d=o*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this}decompose(t){const n=this.a,r=this.b,o=this.c,u=this.d,c=t.pivot,f=-Math.atan2(-o,u),m=Math.atan2(r,n),p=Math.abs(f+m);return p<1e-5||Math.abs(Kb-p)<1e-5?(t.rotation=m,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=f,t.skew.y=m),t.scale.x=Math.sqrt(n*n+r*r),t.scale.y=Math.sqrt(o*o+u*u),t.position.x=this.tx+(c.x*n+c.y*o),t.position.y=this.ty+(c.x*r+c.y*u),t}invert(){const t=this.a,n=this.b,r=this.c,o=this.d,u=this.tx,c=t*o-n*r;return this.a=o/c,this.b=-n/c,this.c=-r/c,this.d=t/c,this.tx=(r*this.ty-o*u)/c,this.ty=-(t*this.ty-n*u)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new _t;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return ev.identity()}static get shared(){return tv.identity()}}const tv=new _t,ev=new _t,qn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Vn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Pn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Fn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ah=[],w0=[],Ul=Math.sign;function iv(){for(let s=0;s<16;s++){const t=[];ah.push(t);for(let n=0;n<16;n++){const r=Ul(qn[s]*qn[n]+Pn[s]*Vn[n]),o=Ul(Vn[s]*qn[n]+Fn[s]*Vn[n]),u=Ul(qn[s]*Pn[n]+Pn[s]*Fn[n]),c=Ul(Vn[s]*Pn[n]+Fn[s]*Fn[n]);for(let f=0;f<16;f++)if(qn[f]===r&&Vn[f]===o&&Pn[f]===u&&Fn[f]===c){t.push(f);break}}}for(let s=0;s<16;s++){const t=new _t;t.set(qn[s],Vn[s],Pn[s],Fn[s],0,0),w0.push(t)}}iv();const Dt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>qn[s],uY:s=>Vn[s],vX:s=>Pn[s],vY:s=>Fn[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>ah[s][t],sub:(s,t)=>ah[s][Dt.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?Dt.S:Dt.N:Math.abs(t)*2<=Math.abs(s)?s>0?Dt.E:Dt.W:t>0?s>0?Dt.SE:Dt.SW:s>0?Dt.NE:Dt.NW,matrixAppendRotationInv:(s,t,n=0,r=0)=>{const o=w0[Dt.inv(t)];o.tx=n,o.ty=r,s.append(o)},transformRectCoords:(s,t,n,r)=>{const{x:o,y:u,width:c,height:f}=s,{x:m,y:p,width:g,height:x}=t;return n===Dt.E?(r.set(o+m,u+p,c,f),r):n===Dt.S?r.set(g-u-f+m,o+p,f,c):n===Dt.W?r.set(g-o-c+m,x-u-f+p,c,f):n===Dt.N?r.set(u+m,x-o-c+p,f,c):r.set(o+m,u+p,c,f)}},kl=[new ye,new ye,new ye,new ye];class qt{constructor(t=0,n=0,r=0,o=0){this.type="rectangle",this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(o)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new qt(0,0,0,0)}clone(){return new qt(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(t,n,r,o=.5){const{width:u,height:c}=this;if(u<=0||c<=0)return!1;const f=this.x,m=this.y,p=r*(1-o),g=r-p,x=f-p,_=f+u+p,b=m-p,A=m+c+p,w=f+g,S=f+u-g,M=m+g,C=m+c-g;return t>=x&&t<=_&&n>=b&&n<=A&&!(t>w&&t<S&&n>M&&n<C)}intersects(t,n){if(!n){const W=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=W)return!1;const Z=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>Z}const r=this.left,o=this.right,u=this.top,c=this.bottom;if(o<=r||c<=u)return!1;const f=kl[0].set(t.left,t.top),m=kl[1].set(t.left,t.bottom),p=kl[2].set(t.right,t.top),g=kl[3].set(t.right,t.bottom);if(p.x<=f.x||m.y<=f.y)return!1;const x=Math.sign(n.a*n.d-n.b*n.c);if(x===0||(n.apply(f,f),n.apply(m,m),n.apply(p,p),n.apply(g,g),Math.max(f.x,m.x,p.x,g.x)<=r||Math.min(f.x,m.x,p.x,g.x)>=o||Math.max(f.y,m.y,p.y,g.y)<=u||Math.min(f.y,m.y,p.y,g.y)>=c))return!1;const _=x*(m.y-f.y),b=x*(f.x-m.x),A=_*r+b*u,w=_*o+b*u,S=_*r+b*c,M=_*o+b*c;if(Math.max(A,w,S,M)<=_*f.x+b*f.y||Math.min(A,w,S,M)>=_*g.x+b*g.y)return!1;const C=x*(f.y-p.y),R=x*(p.x-f.x),N=C*r+R*u,F=C*o+R*u,q=C*r+R*c,L=C*o+R*c;return!(Math.max(N,F,q,L)<=C*f.x+R*f.y||Math.min(N,F,q,L)>=C*g.x+R*g.y)}pad(t=0,n=t){return this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this}fit(t){const n=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),o=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(r-n,0),this.y=o,this.height=Math.max(u-o,0),this}ceil(t=1,n=.001){const r=Math.ceil((this.x+this.width-n)*t)/t,o=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=r-this.x,this.height=o-this.y,this}scale(t,n=t){return this.x*=t,this.y*=n,this.width*=t,this.height*=n,this}enlarge(t){const n=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),o=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=r-n,this.y=o,this.height=u-o,this}getBounds(t){return t||(t=new qt),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const n=t.x,r=t.y,o=t.x+t.width,u=t.y+t.height;return n>=this.x&&n<this.x+this.width&&r>=this.y&&r<this.y+this.height&&o>=this.x&&o<this.x+this.width&&u>=this.y&&u<this.y+this.height}set(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Dc={default:-1};function Qt(s="default"){return Dc[s]===void 0&&(Dc[s]=-1),++Dc[s]}const $p=new Set,Rt="8.0.0",nv="8.3.4",Gs={quiet:!1,noColor:!1},dt=(s,t,n=3)=>{if(Gs.quiet||$p.has(t))return;let r=new Error().stack;const o=`${t}
Deprecated since v${s}`,u=typeof console.groupCollapsed=="function"&&!Gs.noColor;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",o):(r=r.split(`
`).splice(n).join(`
`),u?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",o),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",o),console.warn(r))),$p.add(t)};Object.defineProperties(dt,{quiet:{get:()=>Gs.quiet,set:s=>{Gs.quiet=s},enumerable:!0,configurable:!1},noColor:{get:()=>Gs.noColor,set:s=>{Gs.noColor=s},enumerable:!0,configurable:!1}});const T0=()=>{};function Ys(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function Jp(s){return!(s&s-1)&&!!s}function M0(s){const t={};for(const n in s)s[n]!==void 0&&(t[n]=s[n]);return t}const tg=Object.create(null);function sv(s){const t=tg[s];return t===void 0&&(tg[s]=Qt("resource")),t}const C0=class E0 extends ci{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...E0.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){dt(Rt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=sv(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};C0.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Xs=C0;const z0=class R0 extends ci{constructor(t={}){super(),this.options=t,this.uid=Qt("textureSource"),this._resourceType="textureSource",this._resourceId=Qt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...R0.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new Xs(M0(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(t){this._style.maxAnisotropy=t}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Qt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,n,r){r||(r=this._resolution),t||(t=this.width),n||(n=this.height);const o=Math.round(t*r),u=Math.round(n*r);return this.width=o/r,this.height=u/r,this._resolution=r,this.pixelWidth===o&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=o,this.pixelHeight=u,this.emit("resize",this),this._resourceId=Qt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Jp(this.pixelWidth)&&Jp(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};z0.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let hi=z0;class wh extends hi{constructor(t){const n=t.resource||new Float32Array(t.width*t.height*4);let r=t.format;r||(n instanceof Float32Array?r="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?r="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?r="rgba16uint":(n instanceof Int8Array,r="bgra8unorm")),super({...t,resource:n,format:r}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}wh.extension=st.TextureSource;const eg=new _t;class av{constructor(t,n){this.mapCoord=new _t,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,n){n===void 0&&(n=t);const r=this.mapCoord;for(let o=0;o<t.length;o+=2){const u=t[o],c=t[o+1];n[o]=u*r.a+c*r.c+r.tx,n[o+1]=u*r.b+c*r.d+r.ty}return n}update(){const t=this._texture;this._updateID++;const n=t.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const r=t.orig,o=t.trim;o&&(eg.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(eg));const u=t.source,c=this.uClampFrame,f=this.clampMargin/u._resolution,m=this.clampOffset/u._resolution;return c[0]=(t.frame.x+f+m)/u.width,c[1]=(t.frame.y+f+m)/u.height,c[2]=(t.frame.x+t.frame.width-f+m)/u.width,c[3]=(t.frame.y+t.frame.height-f+m)/u.height,this.uClampOffset[0]=this.clampOffset/u.pixelWidth,this.uClampOffset[1]=this.clampOffset/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class St extends ci{constructor({source:t,label:n,frame:r,orig:o,trim:u,defaultAnchor:c,defaultBorders:f,rotate:m,dynamic:p}={}){if(super(),this.uid=Qt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new qt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=t?.source??new hi,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:g,height:x}=this._source;this.frame.width=g,this.frame.height=x}this.orig=o||this.frame,this.trim=u,this.rotate=m??0,this.defaultAnchor=c,this.defaultBorders=f,this.destroyed=!1,this.dynamic=p||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new av(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:n}=this,{width:r,height:o}=this._source,u=n.x/r,c=n.y/o,f=n.width/r,m=n.height/o;let p=this.rotate;if(p){const g=f/2,x=m/2,_=u+g,b=c+x;p=Dt.add(p,Dt.NW),t.x0=_+g*Dt.uX(p),t.y0=b+x*Dt.uY(p),p=Dt.add(p,2),t.x1=_+g*Dt.uX(p),t.y1=b+x*Dt.uY(p),p=Dt.add(p,2),t.x2=_+g*Dt.uX(p),t.y2=b+x*Dt.uY(p),p=Dt.add(p,2),t.x3=_+g*Dt.uX(p),t.y3=b+x*Dt.uY(p)}else t.x0=u,t.y0=c,t.x1=u+f,t.y1=c,t.x2=u+f,t.y2=c+m,t.x3=u,t.y3=c+m}destroy(t=!1){this._source&&(this._source.off("resize",this.update,this),t&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return dt(Rt,"Texture.baseTexture is now Texture.source"),this._source}}St.EMPTY=new St({label:"EMPTY",source:new hi({label:"EMPTY"})});St.EMPTY.destroy=T0;St.WHITE=new St({source:new wh({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});St.WHITE.destroy=T0;function rv(s,t,n){const{width:r,height:o}=n.orig,u=n.trim;if(u){const c=u.width,f=u.height;s.minX=u.x-t._x*r,s.maxX=s.minX+c,s.minY=u.y-t._y*o,s.maxY=s.minY+f}else s.minX=-t._x*r,s.maxX=s.minX+r,s.minY=-t._y*o,s.maxY=s.minY+o}const ig=new _t;class ui{constructor(t=1/0,n=1/0,r=-1/0,o=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=ig,this.minX=t,this.minY=n,this.maxX=r,this.maxY=o}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new qt);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=ig,this}set(t,n,r,o){this.minX=t,this.minY=n,this.maxX=r,this.maxY=o}addFrame(t,n,r,o,u){u||(u=this.matrix);const c=u.a,f=u.b,m=u.c,p=u.d,g=u.tx,x=u.ty;let _=this.minX,b=this.minY,A=this.maxX,w=this.maxY,S=c*t+m*n+g,M=f*t+p*n+x;S<_&&(_=S),M<b&&(b=M),S>A&&(A=S),M>w&&(w=M),S=c*r+m*n+g,M=f*r+p*n+x,S<_&&(_=S),M<b&&(b=M),S>A&&(A=S),M>w&&(w=M),S=c*t+m*o+g,M=f*t+p*o+x,S<_&&(_=S),M<b&&(b=M),S>A&&(A=S),M>w&&(w=M),S=c*r+m*o+g,M=f*r+p*o+x,S<_&&(_=S),M<b&&(b=M),S>A&&(A=S),M>w&&(w=M),this.minX=_,this.minY=b,this.maxX=A,this.maxY=w}addRect(t,n){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,n)}addBounds(t,n){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,n)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const n=this.minX,r=this.minY,o=this.maxX,u=this.maxY,{a:c,b:f,c:m,d:p,tx:g,ty:x}=t;let _=c*n+m*r+g,b=f*n+p*r+x;this.minX=_,this.minY=b,this.maxX=_,this.maxY=b,_=c*o+m*r+g,b=f*o+p*r+x,this.minX=_<this.minX?_:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=b>this.maxY?b:this.maxY,_=c*n+m*u+g,b=f*n+p*u+x,this.minX=_<this.minX?_:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=b>this.maxY?b:this.maxY,_=c*o+m*u+g,b=f*o+p*u+x,this.minX=_<this.minX?_:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=b>this.maxY?b:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,n,r,o){return this.minX<t&&(this.minX=t),this.maxX>n&&(this.maxX=n),this.minY<r&&(this.minY=r),this.maxY>o&&(this.maxY=o),this}pad(t,n=t){return this.minX-=t,this.maxX+=t,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new ui(this.minX,this.minY,this.maxX,this.maxY)}scale(t,n=t){return this.minX*=t,this.minY*=n,this.maxX*=t,this.maxY*=n,this}get x(){return this.minX}set x(t){const n=this.maxX-this.minX;this.minX=t,this.maxX=t+n}get y(){return this.minY}set y(t){const n=this.maxY-this.minY;this.minY=t,this.maxY=t+n}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,n,r,o){let u=this.minX,c=this.minY,f=this.maxX,m=this.maxY;o||(o=this.matrix);const p=o.a,g=o.b,x=o.c,_=o.d,b=o.tx,A=o.ty;for(let w=n;w<r;w+=2){const S=t[w],M=t[w+1],C=p*S+x*M+b,R=g*S+_*M+A;u=C<u?C:u,c=R<c?R:c,f=C>f?C:f,m=R>m?R:m}this.minX=u,this.minY=c,this.maxX=f,this.maxY=m}containsPoint(t,n){return this.minX<=t&&this.minY<=n&&this.maxX>=t&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var lv={grad:.9,turn:360,rad:360/(2*Math.PI)},Yi=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},oe=function(s,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*s)/n+0},Je=function(s,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),s>n?n:s>t?s:t},B0=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},ng=function(s){return{r:Je(s.r,0,255),g:Je(s.g,0,255),b:Je(s.b,0,255),a:Je(s.a)}},Uc=function(s){return{r:oe(s.r),g:oe(s.g),b:oe(s.b),a:oe(s.a,3)}},ov=/^#([0-9a-f]{3,8})$/i,Gl=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},O0=function(s){var t=s.r,n=s.g,r=s.b,o=s.a,u=Math.max(t,n,r),c=u-Math.min(t,n,r),f=c?u===t?(n-r)/c:u===n?2+(r-t)/c:4+(t-n)/c:0;return{h:60*(f<0?f+6:f),s:u?c/u*100:0,v:u/255*100,a:o}},N0=function(s){var t=s.h,n=s.s,r=s.v,o=s.a;t=t/360*6,n/=100,r/=100;var u=Math.floor(t),c=r*(1-n),f=r*(1-(t-u)*n),m=r*(1-(1-t+u)*n),p=u%6;return{r:255*[r,f,c,c,m,r][p],g:255*[m,r,r,f,c,c][p],b:255*[c,c,m,r,r,f][p],a:o}},sg=function(s){return{h:B0(s.h),s:Je(s.s,0,100),l:Je(s.l,0,100),a:Je(s.a)}},ag=function(s){return{h:oe(s.h),s:oe(s.s),l:oe(s.l),a:oe(s.a,3)}},rg=function(s){return N0((n=(t=s).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},ir=function(s){return{h:(t=O0(s)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},uv=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cv=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hv=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fv=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rh={string:[[function(s){var t=ov.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?oe(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?oe(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=hv.exec(s)||fv.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:ng({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=uv.exec(s)||cv.exec(s);if(!t)return null;var n,r,o=sg({h:(n=t[1],r=t[2],r===void 0&&(r="deg"),Number(n)*(lv[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return rg(o)},"hsl"]],object:[[function(s){var t=s.r,n=s.g,r=s.b,o=s.a,u=o===void 0?1:o;return Yi(t)&&Yi(n)&&Yi(r)?ng({r:Number(t),g:Number(n),b:Number(r),a:Number(u)}):null},"rgb"],[function(s){var t=s.h,n=s.s,r=s.l,o=s.a,u=o===void 0?1:o;if(!Yi(t)||!Yi(n)||!Yi(r))return null;var c=sg({h:Number(t),s:Number(n),l:Number(r),a:Number(u)});return rg(c)},"hsl"],[function(s){var t=s.h,n=s.s,r=s.v,o=s.a,u=o===void 0?1:o;if(!Yi(t)||!Yi(n)||!Yi(r))return null;var c=(function(f){return{h:B0(f.h),s:Je(f.s,0,100),v:Je(f.v,0,100),a:Je(f.a)}})({h:Number(t),s:Number(n),v:Number(r),a:Number(u)});return N0(c)},"hsv"]]},lg=function(s,t){for(var n=0;n<t.length;n++){var r=t[n][0](s);if(r)return[r,t[n][1]]}return[null,void 0]},dv=function(s){return typeof s=="string"?lg(s.trim(),rh.string):typeof s=="object"&&s!==null?lg(s,rh.object):[null,void 0]},kc=function(s,t){var n=ir(s);return{h:n.h,s:Je(n.s+100*t,0,100),l:n.l,a:n.a}},Gc=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},og=function(s,t){var n=ir(s);return{h:n.h,s:n.s,l:Je(n.l+100*t,0,100),a:n.a}},lh=(function(){function s(t){this.parsed=dv(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return oe(Gc(this.rgba),2)},s.prototype.isDark=function(){return Gc(this.rgba)<.5},s.prototype.isLight=function(){return Gc(this.rgba)>=.5},s.prototype.toHex=function(){return t=Uc(this.rgba),n=t.r,r=t.g,o=t.b,c=(u=t.a)<1?Gl(oe(255*u)):"","#"+Gl(n)+Gl(r)+Gl(o)+c;var t,n,r,o,u,c},s.prototype.toRgb=function(){return Uc(this.rgba)},s.prototype.toRgbString=function(){return t=Uc(this.rgba),n=t.r,r=t.g,o=t.b,(u=t.a)<1?"rgba("+n+", "+r+", "+o+", "+u+")":"rgb("+n+", "+r+", "+o+")";var t,n,r,o,u},s.prototype.toHsl=function(){return ag(ir(this.rgba))},s.prototype.toHslString=function(){return t=ag(ir(this.rgba)),n=t.h,r=t.s,o=t.l,(u=t.a)<1?"hsla("+n+", "+r+"%, "+o+"%, "+u+")":"hsl("+n+", "+r+"%, "+o+"%)";var t,n,r,o,u},s.prototype.toHsv=function(){return t=O0(this.rgba),{h:oe(t.h),s:oe(t.s),v:oe(t.v),a:oe(t.a,3)};var t},s.prototype.invert=function(){return bi({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),bi(kc(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),bi(kc(this.rgba,-t))},s.prototype.grayscale=function(){return bi(kc(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),bi(og(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),bi(og(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?bi({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):oe(this.rgba.a,3);var n},s.prototype.hue=function(t){var n=ir(this.rgba);return typeof t=="number"?bi({h:t,s:n.s,l:n.l,a:n.a}):oe(n.h)},s.prototype.isEqual=function(t){return this.toHex()===bi(t).toHex()},s})(),bi=function(s){return s instanceof lh?s:new lh(s)},ug=[],mv=function(s){s.forEach(function(t){ug.indexOf(t)<0&&(t(lh,rh),ug.push(t))})};function pv(s,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var u={};s.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var f,m,p=r[this.toHex()];if(p)return p;if(c?.closest){var g=this.toRgb(),x=1/0,_="black";if(!u.length)for(var b in n)u[b]=new s(n[b]).toRgb();for(var A in n){var w=(f=g,m=u[A],Math.pow(f.r-m.r,2)+Math.pow(f.g-m.g,2)+Math.pow(f.b-m.b,2));w<x&&(x=w,_=A)}return _}},t.string.push([function(c){var f=c.toLowerCase(),m=f==="transparent"?"#0000":n[f];return m?new s(m).toRgb():null},"name"])}mv([pv]);const qs=class $a{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof $a)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,n){const r=typeof t;if(r!==typeof n)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===n;if(Array.isArray(t)&&Array.isArray(n)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(n))return t.length!==n.length?!1:t.every((u,c)=>u===n[c]);if(t!==null&&n!==null){const u=Object.keys(t),c=Object.keys(n);return u.length!==c.length?!1:u.every(f=>t[f]===n[f])}return t===n}toRgba(){const[t,n,r,o]=this._components;return{r:t,g:n,b:r,a:o}}toRgb(){const[t,n,r]=this._components;return{r:t,g:n,b:r}}toRgbaString(){const[t,n,r]=this.toUint8RgbArray();return`rgba(${t},${n},${r},${this.alpha})`}toUint8RgbArray(t){const[n,r,o]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(n*255),t[1]=Math.round(r*255),t[2]=Math.round(o*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[n,r,o,u]=this._components;return t[0]=n,t[1]=r,t[2]=o,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[n,r,o]=this._components;return t[0]=n,t[1]=r,t[2]=o,t}toNumber(){return this._int}toBgrNumber(){const[t,n,r]=this.toUint8RgbArray();return(r<<16)+(n<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[n,r,o,u]=$a._temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=r,this._components[2]*=o,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,n=!0){return n&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,n=!0){if(t===1)return(255<<24)+this._int;if(t===0)return n?0:this._int;let r=this._int>>16&255,o=this._int>>8&255,u=this._int&255;return n&&(r=r*t+.5|0,o=o*t+.5|0,u=u*t+.5|0),(t*255<<24)+(r<<16)+(o<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let n,r,o,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const c=t;n=(c>>16&255)/255,r=(c>>8&255)/255,o=(c&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,r,o,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,r,o,u=255]=t,n/=255,r/=255,o/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const f=$a.HEX_PATTERN.exec(t);f&&(t=`#${f[2]}`)}const c=bi(t);c.isValid()&&({r:n,g:r,b:o,a:u}=c.rgba,n/=255,r/=255,o/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=r,this._components[2]=o,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,n,r]=this._components;this._int=(t*255<<16)+(n*255<<8)+(r*255|0)}_clamp(t,n=0,r=1){return typeof t=="number"?Math.min(Math.max(t,n),r):(t.forEach((o,u)=>{t[u]=Math.min(Math.max(o,n),r)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof $a||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};qs.shared=new qs;qs._temp=new qs;qs.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ie=qs;const gv={cullArea:null,cullable:!1,cullableChildren:!0};let Lc=0;const cg=500;function Yt(...s){Lc!==cg&&(Lc++,Lc===cg?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...s))}const dr={_registeredResources:new Set,register(s){this._registeredResources.add(s)},unregister(s){this._registeredResources.delete(s)},release(){this._registeredResources.forEach(s=>s.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(s){return this._registeredResources.has(s)},reset(){this._registeredResources.clear()}};class yv{constructor(t,n){this._pool=[],this._count=0,this._index=0,this._classType=t,n&&this.prepopulate(n)}prepopulate(t){for(let n=0;n<t;n++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let n;return this._index>0?n=this._pool[--this._index]:(n=new this._classType,this._count++),n.init?.(t),n}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let t=0;t<this._index;t++)this._pool[t].destroy();this._pool.length=0,this._count=0,this._index=0}}class xv{constructor(){this._poolsByClass=new Map}prepopulate(t,n){this.getPool(t).prepopulate(n)}get(t,n){return this.getPool(t).get(n)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new yv(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(n=>{const r=t[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;t[r]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),t}clear(){this._poolsByClass.forEach(t=>t.clear()),this._poolsByClass.clear()}}const ti=new xv;dr.register(ti);const _v={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(s){typeof s=="boolean"&&s===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(s===!0?{}:s))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(s){dt("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(s)}};function bv(s,t,n){const r=s.length;let o;if(t>=r||n===0)return;n=t+n>r?r-t:n;const u=r-n;for(o=t;o<u;++o)s[o]=s[o+n];s.length=u}const vv={allowChildren:!0,removeChildren(s=0,t){const n=t??this.children.length,r=n-s,o=[];if(r>0&&r<=n){for(let c=n-1;c>=s;c--){const f=this.children[c];f&&(o.push(f),f.parent=null)}bv(this.children,s,n);const u=this.renderGroup||this.parentRenderGroup;u&&u.removeChildren(o);for(let c=0;c<o.length;++c){const f=o[c];f.parentRenderLayer?.detach(f),this.emit("childRemoved",f,this,c),o[c].emit("removed",this)}return o.length>0&&this._didViewChangeTick++,o}else if(r===0&&this.children.length===0)return o;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(s){const t=this.getChildAt(s);return this.removeChild(t)},getChildAt(s){if(s<0||s>=this.children.length)throw new Error(`getChildAt: Index (${s}) does not exist.`);return this.children[s]},setChildIndex(s,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(s),this.addChildAt(s,t)},getChildIndex(s){const t=this.children.indexOf(s);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(s,t){this.allowChildren||dt(Rt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(t<0||t>n.length)throw new Error(`${s}addChildAt: The index ${t} supplied is out of bounds ${n.length}`);if(s.parent){const o=s.parent.children.indexOf(s);if(s.parent===this&&o===t)return s;o!==-1&&s.parent.children.splice(o,1)}t===n.length?n.push(s):n.splice(t,0,s),s.parent=this,s.didChange=!0,s._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(s),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",s,this,t),s.emit("added",this),s},swapChildren(s,t){if(s===t)return;const n=this.getChildIndex(s),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=s;const o=this.renderGroup||this.parentRenderGroup;o&&(o.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...s){return s.length===1?this.reparentChildAt(s[0],this.children.length):(s.forEach(t=>this.reparentChildAt(t,this.children.length)),s[0])},reparentChildAt(s,t){if(s.parent===this)return this.setChildIndex(s,t),s;const n=s.worldTransform.clone();s.removeFromParent(),this.addChildAt(s,t);const r=this.worldTransform.clone();return r.invert(),n.prepend(r),s.setFromMatrix(n),s},replaceChild(s,t){s.updateLocalTransform(),this.addChildAt(t,this.getChildIndex(s)),t.setFromMatrix(s.localTransform),t.updateLocalTransform(),this.removeChild(s)}},Sv={collectRenderables(s,t,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(s,t,n):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,s):this.collectRenderablesWithEffects(s,t,n))},collectRenderablesSimple(s,t,n){const r=this.children,o=r.length;for(let u=0;u<o;u++)r[u].collectRenderables(s,t,n)},collectRenderablesWithEffects(s,t,n){const{renderPipes:r}=t;for(let o=0;o<this.effects.length;o++){const u=this.effects[o];r[u.pipe].push(u,this,s)}this.collectRenderablesSimple(s,t,n);for(let o=this.effects.length-1;o>=0;o--){const u=this.effects[o];r[u.pipe].pop(u,this,s)}}};class hg{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class Av{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const r=this._tests[n];if(r.test(t))return ti.get(r.maskClass,t)}return t}returnMaskEffect(t){ti.return(t)}}const oh=new Av;pe.handleByList(st.MaskEffect,oh._effectClasses);const wv={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0)},addEffect(s){this.effects.indexOf(s)===-1&&(this.effects.push(s),this.effects.sort((n,r)=>n.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(s){const t=this.effects.indexOf(s);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(s){const t=this._maskEffect;t?.mask!==s&&(t&&(this.removeEffect(t),oh.returnMaskEffect(t),this._maskEffect=null),s!=null&&(this._maskEffect=oh.getMaskEffect(s),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(s){this._maskOptions={...this._maskOptions,...s},s.mask&&(this.mask=s.mask),this._markStructureAsChanged()},set filters(s){!Array.isArray(s)&&s&&(s=[s]);const t=this._filterEffect||(this._filterEffect=new hg);s=s;const n=s?.length>0,r=t.filters?.length>0,o=n!==r;s=Array.isArray(s)?s.slice(0):s,t.filters=Object.freeze(s),o&&(n?this.addEffect(t):(this.removeEffect(t),t.filters=s??null))},get filters(){return this._filterEffect?.filters},set filterArea(s){this._filterEffect||(this._filterEffect=new hg),this._filterEffect.filterArea=s},get filterArea(){return this._filterEffect?.filterArea}},Tv={label:null,get name(){return dt(Rt,"Container.name property has been removed, use Container.label instead"),this.label},set name(s){dt(Rt,"Container.name property has been removed, use Container.label instead"),this.label=s},getChildByName(s,t=!1){return this.getChildByLabel(s,t)},getChildByLabel(s,t=!1){const n=this.children;for(let r=0;r<n.length;r++){const o=n[r];if(o.label===s||s instanceof RegExp&&s.test(o.label))return o}if(t)for(let r=0;r<n.length;r++){const u=n[r].getChildByLabel(s,!0);if(u)return u}return null},getChildrenByLabel(s,t=!1,n=[]){const r=this.children;for(let o=0;o<r.length;o++){const u=r[o];(u.label===s||s instanceof RegExp&&s.test(u.label))&&n.push(u)}if(t)for(let o=0;o<r.length;o++)r[o].getChildrenByLabel(s,!0,n);return n}},be=ti.getPool(_t),qi=ti.getPool(ui),Mv=new _t,Cv={getFastGlobalBounds(s,t){t||(t=new ui),t.clear(),this._getGlobalBoundsRecursive(!!s,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(n.worldTransform),t},_getGlobalBoundsRecursive(s,t,n){let r=t;if(s&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const o=!!this.effects.length;if((this.renderGroup||o)&&(r=qi.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;r.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const u=this.children;for(let c=0;c<u.length;c++)u[c]._getGlobalBoundsRecursive(s,r,n)}if(o){let u=!1;const c=this.renderGroup||this.parentRenderGroup;for(let f=0;f<this.effects.length;f++)this.effects[f].addBounds&&(u||(u=!0,r.applyMatrix(c.worldTransform)),this.effects[f].addBounds(r,!0));u&&r.applyMatrix(c.worldTransform.copyTo(Mv).invert()),t.addBounds(r),qi.return(r)}else this.renderGroup&&(t.addBounds(r,this.relativeGroupTransform),qi.return(r))}};function D0(s,t,n){n.clear();let r,o;return s.parent?t?r=s.parent.worldTransform:(o=be.get().identity(),r=Th(s,o)):r=_t.IDENTITY,U0(s,n,r,t),o&&be.return(o),n.isValid||n.set(0,0,0,0),n}function U0(s,t,n,r){if(!s.visible||!s.measurable)return;let o;r?o=s.worldTransform:(s.updateLocalTransform(),o=be.get(),o.appendFrom(s.localTransform,n));const u=t,c=!!s.effects.length;if(c&&(t=qi.get().clear()),s.boundsArea)t.addRect(s.boundsArea,o);else{const f=s.bounds;f&&!f.isEmpty()&&(t.matrix=o,t.addBounds(f));for(let m=0;m<s.children.length;m++)U0(s.children[m],t,o,r)}if(c){for(let f=0;f<s.effects.length;f++)s.effects[f].addBounds?.(t);u.addBounds(t,_t.IDENTITY),qi.return(t)}r||be.return(o)}function Th(s,t){const n=s.parent;return n&&(Th(n,t),n.updateLocalTransform(),t.append(n.localTransform)),t}function k0(s,t){if(s===16777215||!t)return t;if(t===16777215||!s)return s;const n=s>>16&255,r=s>>8&255,o=s&255,u=t>>16&255,c=t>>8&255,f=t&255,m=n*u/255|0,p=r*c/255|0,g=o*f/255|0;return(m<<16)+(p<<8)+g}const fg=16777215;function dg(s,t){return s===fg?t:t===fg?s:k0(s,t)}function Kl(s){return((s&255)<<16)+(s&65280)+(s>>16&255)}const Ev={getGlobalAlpha(s){if(s)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,n=this.parent;for(;n;)t*=n.alpha,n=n.parent;return t},getGlobalTransform(s=new _t,t){if(t)return s.copyFrom(this.worldTransform);this.updateLocalTransform();const n=Th(this,be.get().identity());return s.appendFrom(this.localTransform,n),be.return(n),s},getGlobalTint(s){if(s)return this.renderGroup?Kl(this.renderGroup.worldColor):this.parentRenderGroup?Kl(dg(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,n=this.parent;for(;n;)t=dg(t,n.localColor),n=n.parent;return Kl(t)}};function G0(s,t,n){return t.clear(),n||(n=_t.IDENTITY),L0(s,t,n,s,!0),t.isValid||t.set(0,0,0,0),t}function L0(s,t,n,r,o){let u;if(o)u=be.get(),u=n.copyTo(u);else{if(!s.visible||!s.measurable)return;s.updateLocalTransform();const m=s.localTransform;u=be.get(),u.appendFrom(m,n)}const c=t,f=!!s.effects.length;if(f&&(t=qi.get().clear()),s.boundsArea)t.addRect(s.boundsArea,u);else{s.renderPipeId&&(t.matrix=u,t.addBounds(s.bounds));const m=s.children;for(let p=0;p<m.length;p++)L0(m[p],t,u,r,!1)}if(f){for(let m=0;m<s.effects.length;m++)s.effects[m].addLocalBounds?.(t,r);c.addBounds(t,_t.IDENTITY),qi.return(t)}be.return(u)}function j0(s,t){const n=s.children;for(let r=0;r<n.length;r++){const o=n[r],u=o.uid,c=(o._didViewChangeTick&65535)<<16|o._didContainerChangeTick&65535,f=t.index;(t.data[f]!==u||t.data[f+1]!==c)&&(t.data[t.index]=u,t.data[t.index+1]=c,t.didChange=!0),t.index=f+2,o.children.length&&j0(o,t)}return t.didChange}const zv=new _t,Rv={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(s,t){const n=Math.sign(this.scale.x)||1;t!==0?this.scale.x=s/t*n:this.scale.x=n},_setHeight(s,t){const n=Math.sign(this.scale.y)||1;t!==0?this.scale.y=s/t*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new ui});const s=this._localBoundsCacheData;return s.index=1,s.didChange=!1,s.data[0]!==this._didViewChangeTick&&(s.didChange=!0,s.data[0]=this._didViewChangeTick),j0(this,s),s.didChange&&G0(this,s.localBounds,zv),s.localBounds},getBounds(s,t){return D0(this,s,t||new ui)}},Bv={_onRender:null,set onRender(s){const t=this.renderGroup||this.parentRenderGroup;if(!s){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=s},get onRender(){return this._onRender}},Ov={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(s){this._zIndex!==s&&(this._zIndex=s,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Nv))}};function Nv(s,t){return s._zIndex-t._zIndex}const Dv={getGlobalPosition(s=new ye,t=!1){return this.parent?this.parent.toGlobal(this._position,s,t):(s.x=this._position.x,s.y=this._position.y),s},toGlobal(s,t,n=!1){const r=this.getGlobalTransform(be.get(),n);return t=r.apply(s,t),be.return(r),t},toLocal(s,t,n,r){t&&(s=t.toGlobal(s,n,r));const o=this.getGlobalTransform(be.get(),r);return n=o.applyInverse(s,n),be.return(o),n}};class H0{constructor(){this.uid=Qt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Uv=0;class kv{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new Xs(this.textureOptions)}createTexture(t,n,r){const o=new hi({...this.textureOptions,width:t,height:n,resolution:1,antialias:r,autoGarbageCollect:!1});return new St({source:o,label:`texturePool_${Uv++}`})}getOptimalTexture(t,n,r=1,o){let u=Math.ceil(t*r-1e-6),c=Math.ceil(n*r-1e-6);u=Ys(u),c=Ys(c);const f=(u<<17)+(c<<1)+(o?1:0);this._texturePool[f]||(this._texturePool[f]=[]);let m=this._texturePool[f].pop();return m||(m=this.createTexture(u,c,o)),m.source._resolution=r,m.source.width=u/r,m.source.height=c/r,m.source.pixelWidth=u,m.source.pixelHeight=c,m.frame.x=0,m.frame.y=0,m.frame.width=t,m.frame.height=n,m.updateUvs(),this._poolKeyHash[m.uid]=f,m}getSameSizeTexture(t,n=!1){const r=t.source;return this.getOptimalTexture(t.width,t.height,r._resolution,n)}returnTexture(t,n=!1){const r=this._poolKeyHash[t.uid];n&&(t.source.style=this.textureStyle),this._texturePool[r].push(t)}clear(t){if(t=t!==!1,t)for(const n in this._texturePool){const r=this._texturePool[n];if(r)for(let o=0;o<r.length;o++)r[o].destroy(!0)}this._texturePool={}}}const Y0=new kv;dr.register(Y0);class Gv{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new _t,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new H0,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const n=t.children;for(let r=0;r<n.length;r++){const o=n[r];o._updateFlags=15,this.addChild(o)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Y0.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const t=this._parentCacheAsTextureRenderGroup;t&&!t.textureNeedsUpdate&&t.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const n=this.childrenToUpdate[t];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const n=this.renderGroupChildren.indexOf(t);n>-1&&this.renderGroupChildren.splice(n,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const n=t.children;for(let r=0;r<n.length;r++)this.addChild(n[r])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const n=t.children;for(let r=0;r<n.length;r++)this.removeChild(n[r])}removeChildren(t){for(let n=0;n<t.length;n++)this.removeChild(t[n])}onChildUpdate(t){let n=this.childrenToUpdate[t.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const n=this.root.children;for(let r=0;r<n.length;r++)this._getChildren(n[r],t);return t}_getChildren(t,n=[]){if(n.push(t),t.renderGroup)return n;const r=t.children;for(let o=0;o<r.length;o++)this._getChildren(r[o],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new _t),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new _t),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new _t),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function Lv(s,t,n={}){for(const r in t)!n[r]&&t[r]!==void 0&&(s[r]=t[r])}const jc=new me(null),Ll=new me(null),Hc=new me(null,1,1),jl=new me(null),mg=1,jv=2,Yc=4;class He extends ci{constructor(t={}){super(),this.uid=Qt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new _t,this.relativeGroupTransform=new _t,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new me(this,0,0),this._scale=Hc,this._pivot=Ll,this._origin=jl,this._skew=jc,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],Lv(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(n=>this.addChild(n)),t.parent?.addChild(this)}static mixin(t){dt("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),pe.mixin(He,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||dt(Rt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let o=0;o<t.length;o++)this.addChild(t[o]);return t[0]}const n=t[0],r=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),r&&(r.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,r&&r.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...t){if(t.length>1){for(let o=0;o<t.length;o++)this.removeChild(t[o]);return t[0]}const n=t[0],r=this.children.indexOf(n);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,r),n.emit("removed",this)),n}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=ti.get(Gv,this),this.groupTransform=_t.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),ti.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new _t),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*$b}set angle(t){this.rotation=t*Jb}get pivot(){return this._pivot===Ll&&(this._pivot=new me(this,0,0)),this._pivot}set pivot(t){this._pivot===Ll&&(this._pivot=new me(this,0,0),this._origin!==jl&&Yt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===jc&&(this._skew=new me(this,0,0)),this._skew}set skew(t){this._skew===jc&&(this._skew=new me(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Hc&&(this._scale=new me(this,1,1)),this._scale}set scale(t){this._scale===Hc&&(this._scale=new me(this,0,0)),typeof t=="string"&&(t=parseFloat(t)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get origin(){return this._origin===jl&&(this._origin=new me(this,0,0)),this._origin}set origin(t){this._origin===jl&&(this._origin=new me(this,0,0),this._pivot!==Ll&&Yt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._origin.set(t):this._origin.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const n=this.getLocalBounds().width;this._setWidth(t,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const n=this.getLocalBounds().height;this._setHeight(t,n)}getSize(t){t||(t={});const n=this.getLocalBounds();return t.width=Math.abs(this.scale.x*n.width),t.height=Math.abs(this.scale.y*n.height),t}setSize(t,n){const r=this.getLocalBounds();typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,r.width),n!==void 0&&this._setHeight(n,r.height)}_updateSkew(){const t=this._rotation,n=this._skew;this._cx=Math.cos(t+n._y),this._sx=Math.sin(t+n._y),this._cy=-Math.sin(t-n._x),this._sy=Math.cos(t-n._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this.origin.set(typeof t.originX=="number"?t.originX:this.origin.x,typeof t.originY=="number"?t.originY:this.origin.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const n=this.localTransform,r=this._scale,o=this._pivot,u=this._origin,c=this._position,f=r._x,m=r._y,p=o._x,g=o._y,x=-u._x,_=-u._y;n.a=this._cx*f,n.b=this._sx*f,n.c=this._cy*m,n.d=this._sy*m,n.tx=c._x-(p*n.a+g*n.c)+(x*n.a+_*n.c)-x,n.ty=c._y-(p*n.b+g*n.d)+(x*n.b+_*n.d)-_}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=mg,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const r=ie.shared.setValue(t??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=mg,this._onUpdate())}get tint(){return Kl(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=jv,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const n=t?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Yc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const n=t?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Yc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const n=t?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=Yc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t?.children)&&n)for(let o=0;o<n.length;++o)n[o].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}pe.mixin(He,vv,Cv,Dv,Bv,Rv,wv,Tv,Ov,gv,_v,Ev,Sv);class Mh extends He{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new ui(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const n=this.bounds,{x:r,y:o}=t;return r>=n.minX&&r<=n.maxX&&o>=n.minY&&o<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null;for(const n in this._gpuData)this._gpuData[n].destroy?.();this._gpuData=null}collectRenderablesSimple(t,n,r){const{renderPipes:o}=n;o.blendMode.pushBlendMode(this,this.groupBlendMode,t),o[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const c=this.children,f=c.length;for(let m=0;m<f;m++)c[m].collectRenderables(t,n,r);o.blendMode.popBlendMode(t)}}class Qn extends Mh{constructor(t=St.EMPTY){t instanceof St&&(t={texture:t});const{texture:n=St.EMPTY,anchor:r,roundPixels:o,width:u,height:c,...f}=t;super({label:"Sprite",...f}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new me({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=o??!1,u!==void 0&&(this.width=u),c!==void 0&&(this.height=c)}static from(t,n=!1){return t instanceof St?new Qn(t):new Qn(St.from(t,n))}set texture(t){t||(t=St.EMPTY);const n=this._texture;n!==t&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return rv(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return dt("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,n=this._texture,r=this._bounds,{width:o,height:u}=n.orig;r.minX=-t._x*o,r.maxX=r.minX+o,r.minY=-t._y*u,r.maxY=r.minY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const r=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,n){typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const Hv=new ui;function X0(s,t,n){const r=Hv;s.measurable=!0,D0(s,n,r),t.addBoundsMask(r),s.measurable=!1}function q0(s,t,n){const r=qi.get();s.measurable=!0;const o=be.get().identity(),u=V0(s,n,o);G0(s,r,u),s.measurable=!1,t.addBoundsMask(r),be.return(o),qi.return(r)}function V0(s,t,n){return s?(s!==t&&(V0(s.parent,t,n),s.updateLocalTransform(),n.append(s.localTransform)),n):(Yt("Mask bounds, renderable is not inside the root container"),n)}class P0{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof Qn),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(t,n){this.inverse||X0(this.mask,t,n)}addLocalBounds(t,n){q0(this.mask,t,n)}containsPoint(t,n){const r=this.mask;return n(r,t)}destroy(){this.reset()}static test(t){return t instanceof Qn}}P0.extension=st.MaskEffect;class F0{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}F0.extension=st.MaskEffect;class I0{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(t,n){X0(this.mask,t,n)}addLocalBounds(t,n){q0(this.mask,t,n)}containsPoint(t,n){const r=this.mask;return n(r,t)}destroy(){this.reset()}static test(t){return t instanceof He}}I0.extension=st.MaskEffect;const Yv={createCanvas:(s,t)=>{const n=document.createElement("canvas");return n.width=s,n.height=t,n},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")};let pg=Yv;const Gt={get(){return pg},set(s){pg=s}};class Q0 extends hi{constructor(t){t.resource||(t.resource=Gt.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,n=this.height,r=this._resolution){const o=super.resize(t,n,r);return o&&this.resizeCanvas(),o}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}Q0.extension=st.TextureSource;class Zn extends hi{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Zn.extension=st.TextureSource;var uh=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(uh||{});class Xc{constructor(t,n=null,r=0,o=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=n,this.priority=r,this._once=o}match(t,n=null){return this._fn===t&&this._context===n}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=t?null:n,this.previous=null,n}}const Z0=class je{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Xc(null,null,1/0),this.deltaMS=1/je.targetFPMS,this.elapsedMS=1/je.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,n,r=uh.NORMAL){return this._addListener(new Xc(t,n,r))}addOnce(t,n,r=uh.NORMAL){return this._addListener(new Xc(t,n,r,!0))}_addListener(t){let n=this._head.next,r=this._head;if(!n)t.connect(r);else{for(;n;){if(t.priority>n.priority){t.connect(r);break}r=n,n=n.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,n){let r=this._head.next;for(;r;)r.match(t,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,n=this._head;for(;n=n.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*je.targetFPMS;const r=this._head;let o=r.next;for(;o;)o=o.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,je.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,t);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!je._shared){const t=je._shared=new je;t.autoStart=!0,t._protected=!0}return je._shared}static get system(){if(!je._system){const t=je._system=new je;t.autoStart=!0,t._protected=!0}return je._system}};Z0.targetFPMS=.06;let Hl=Z0,qc;async function W0(){return qc??(qc=(async()=>{const t=Gt.get().createCanvas(1,1).getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const n=await new Promise(c=>{const f=document.createElement("video");f.onloadeddata=()=>c(f),f.onerror=()=>c(null),f.autoplay=!1,f.crossOrigin="anonymous",f.preload="auto",f.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",f.load()});if(!n)return"premultiply-alpha-on-upload";const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(o),t.deleteTexture(r),t.getExtension("WEBGL_lose_context")?.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),qc}const ro=class K0 extends hi{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...K0.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Hl.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,n=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await W0(),this._load=new Promise((r,o)=>{this.isValid?r(this):(this._resolve=r,this._reject=o,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Hl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Hl.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Hl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};ro.extension=st.TextureSource;ro.defaultOptions={...hi.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};ro.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let nr=ro;const oi=(s,t,n=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(r=>typeof r=="string"||n?t(r):r):s);class Xv{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const n=this._cache.get(t);return n||Yt(`[Assets] Asset id ${t} was not found in the Cache`),n}set(t,n){const r=oi(t);let o;for(let m=0;m<this.parsers.length;m++){const p=this.parsers[m];if(p.test(n)){o=p.getCacheableAssets(r,n);break}}const u=new Map(Object.entries(o||{}));o||r.forEach(m=>{u.set(m,n)});const c=[...u.keys()],f={cacheKeys:c,keys:r};r.forEach(m=>{this._cacheMap.set(m,f)}),c.forEach(m=>{const p=o?o[m]:n;this._cache.has(m)&&this._cache.get(m)!==p&&Yt("[Cache] already has key:",m),this._cache.set(m,u.get(m))})}remove(t){if(!this._cacheMap.has(t)){Yt(`[Assets] Asset id ${t} was not found in the Cache`);return}const n=this._cacheMap.get(t);n.cacheKeys.forEach(o=>{this._cache.delete(o)}),n.keys.forEach(o=>{this._cacheMap.delete(o)})}get parsers(){return this._parsers}}const Ht=new Xv,ch=[];pe.handleByList(st.TextureSource,ch);function $0(s={}){const t=s&&s.resource,n=t?s.resource:s,r=t?s:{resource:s};for(let o=0;o<ch.length;o++){const u=ch[o];if(u.test(n))return new u(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function qv(s={},t=!1){const n=s&&s.resource,r=n?s.resource:s,o=n?s:{resource:s};if(!t&&Ht.has(r))return Ht.get(r);const u=new St({source:$0(o)});return u.on("destroy",()=>{Ht.has(r)&&Ht.remove(r)}),t||Ht.set(r,u),u}function Vv(s,t=!1){return typeof s=="string"?Ht.get(s):s instanceof hi?new St({source:s}):qv(s,t)}St.from=Vv;hi.from=$0;pe.add(P0,F0,I0,nr,Zn,Q0,wh);var Sn=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(Sn||{});function ri(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function Pa(s){return s.split("?")[0].split("#")[0]}function Pv(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fv(s,t,n){return s.replace(new RegExp(Pv(t),"g"),n)}function Iv(s,t){let n="",r=0,o=-1,u=0,c=-1;for(let f=0;f<=s.length;++f){if(f<s.length)c=s.charCodeAt(f);else{if(c===47)break;c=47}if(c===47){if(!(o===f-1||u===1))if(o!==f-1&&u===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const m=n.lastIndexOf("/");if(m!==n.length-1){m===-1?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),o=f,u=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=f,u=0;continue}}}else n.length>0?n+=`/${s.slice(o+1,f)}`:n=s.slice(o+1,f),r=f-o-1;o=f,u=0}else c===46&&u!==-1?++u:u=-1}return n}const Ye={toPosix(s){return Fv(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){ri(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const n=/^[^/:]+:\/{0,2}/.exec(s);return n?n[0]:""},toAbsolute(s,t,n){if(ri(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const r=Pa(this.toPosix(t??Gt.get().getBaseUrl())),o=Pa(this.toPosix(n??this.rootname(r)));return s=this.toPosix(s),s.startsWith("/")?Ye.join(o,s.slice(1)):this.isAbsolute(s)?s:this.join(r,s)},normalize(s){if(ri(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const n=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const r=s.endsWith("/");return s=Iv(s),s.length>0&&r&&(s+="/"),n?`/${s}`:t+s},isAbsolute(s){return ri(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let n=0;n<s.length;++n){const r=s[n];if(ri(r),r.length>0)if(t===void 0)t=r;else{const o=s[n-1]??"";this.joinExtensions.includes(this.extname(o).toLowerCase())?t+=`/../${r}`:t+=`/${r}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(ri(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const n=t===47;let r=-1,o=!0;const u=this.getProtocol(s),c=s;s=s.slice(u.length);for(let f=s.length-1;f>=1;--f)if(t=s.charCodeAt(f),t===47){if(!o){r=f;break}}else o=!1;return r===-1?n?"/":this.isUrl(c)?u+s:u:n&&r===1?"//":u+s.slice(0,r)},rootname(s){ri(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const n=s.indexOf("/",t.length);n!==-1?t=s.slice(0,n):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){ri(s),t&&ri(t),s=Pa(this.toPosix(s));let n=0,r=-1,o=!0,u;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let c=t.length-1,f=-1;for(u=s.length-1;u>=0;--u){const m=s.charCodeAt(u);if(m===47){if(!o){n=u+1;break}}else f===-1&&(o=!1,f=u+1),c>=0&&(m===t.charCodeAt(c)?--c===-1&&(r=u):(c=-1,r=f))}return n===r?r=f:r===-1&&(r=s.length),s.slice(n,r)}for(u=s.length-1;u>=0;--u)if(s.charCodeAt(u)===47){if(!o){n=u+1;break}}else r===-1&&(o=!1,r=u+1);return r===-1?"":s.slice(n,r)},extname(s){ri(s),s=Pa(this.toPosix(s));let t=-1,n=0,r=-1,o=!0,u=0;for(let c=s.length-1;c>=0;--c){const f=s.charCodeAt(c);if(f===47){if(!o){n=c+1;break}continue}r===-1&&(o=!1,r=c+1),f===46?t===-1?t=c:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||r===-1||u===0||u===1&&t===r-1&&t===n+1?"":s.slice(t,r)},parse(s){ri(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=Pa(this.toPosix(s));let n=s.charCodeAt(0);const r=this.isAbsolute(s);let o;t.root=this.rootname(s),r||this.hasProtocol(s)?o=1:o=0;let u=-1,c=0,f=-1,m=!0,p=s.length-1,g=0;for(;p>=o;--p){if(n=s.charCodeAt(p),n===47){if(!m){c=p+1;break}continue}f===-1&&(m=!1,f=p+1),n===46?u===-1?u=p:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||f===-1||g===0||g===1&&u===f-1&&u===c+1?f!==-1&&(c===0&&r?t.base=t.name=s.slice(1,f):t.base=t.name=s.slice(c,f)):(c===0&&r?(t.name=s.slice(1,u),t.base=s.slice(1,f)):(t.name=s.slice(c,u),t.base=s.slice(c,f)),t.ext=s.slice(u,f)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function J0(s,t,n,r,o){const u=t[n];for(let c=0;c<u.length;c++){const f=u[c];n<t.length-1?J0(s.replace(r[n],f),t,n+1,r,o):o.push(s.replace(r[n],f))}}function Qv(s){const t=/\{(.*?)\}/g,n=s.match(t),r=[];if(n){const o=[];n.forEach(u=>{const c=u.substring(1,u.length-1).split(",");o.push(c)}),J0(s,o,0,n,r)}else r.push(s);return r}const eo=s=>!Array.isArray(s);class Is{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,n)=>`${t}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(t,n)=>n.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const n=t;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}getAlias(t){const{alias:n,src:r}=t;return oi(n||r,u=>typeof u=="string"?u:Array.isArray(u)?u.map(c=>c?.src??c):u?.src?u.src:u,!0)}addManifest(t){this._manifest&&Yt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(t,n){const r=[];let o=n;Array.isArray(n)||(o=Object.entries(n).map(([u,c])=>typeof c=="string"||Array.isArray(c)?{alias:u,src:c}:{alias:u,...c})),o.forEach(u=>{const c=u.src,f=u.alias;let m;if(typeof f=="string"){const p=this._createBundleAssetId(t,f);r.push(p),m=[f,p]}else{const p=f.map(g=>this._createBundleAssetId(t,g));r.push(...p),m=[...f,...p]}this.add({...u,alias:m,src:c})}),this._bundles[t]=r}add(t){const n=[];Array.isArray(t)?n.push(...t):n.push(t);let r;r=u=>{this.hasKey(u)&&Yt(`[Resolver] already has key: ${u} overwriting`)},oi(n).forEach(u=>{const{src:c}=u;let{data:f,format:m,loadParser:p,parser:g}=u;const x=oi(c).map(w=>typeof w=="string"?Qv(w):Array.isArray(w)?w:[w]),_=this.getAlias(u);Array.isArray(_)?_.forEach(r):r(_);const b=[],A=w=>({...this._parsers.find(M=>M.test(w))?.parse(w),src:w});x.forEach(w=>{w.forEach(S=>{let M={};if(typeof S!="object"?M=A(S):(f=S.data??f,m=S.format??m,(S.loadParser||S.parser)&&(p=S.loadParser??p,g=S.parser??g),M={...A(S.src),...S}),!_)throw new Error(`[Resolver] alias is undefined for this asset: ${M.src}`);M=this._buildResolvedAsset(M,{aliases:_,data:f,format:m,loadParser:p,parser:g,progressSize:u.progressSize}),b.push(M)})}),_.forEach(w=>{this._assetMap[w]=b})})}resolveBundle(t){const n=eo(t);t=oi(t);const r={};return t.forEach(o=>{const u=this._bundles[o];if(u){const c=this.resolve(u),f={};for(const m in c){const p=c[m];f[this._extractAssetIdFromBundle(o,m)]=p}r[o]=f}}),n?r[t[0]]:r}resolveUrl(t){const n=this.resolve(t);if(typeof t!="string"){const r={};for(const o in n)r[o]=n[o].src;return r}return n.src}resolve(t){const n=eo(t);t=oi(t);const r={};return t.forEach(o=>{if(!this._resolverHash[o])if(this._assetMap[o]){let u=this._assetMap[o];const c=this._getPreferredOrder(u);c?.priority.forEach(f=>{c.params[f].forEach(m=>{const p=u.filter(g=>g[f]?g[f]===m:!1);p.length&&(u=p)})}),this._resolverHash[o]=u[0]}else this._resolverHash[o]=this._buildResolvedAsset({alias:[o],src:o},{});r[o]=this._resolverHash[o]}),n?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let n=0;n<t.length;n++){const r=t[n],o=this._preferredOrder.find(u=>u.params.format.includes(r.format));if(o)return o}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const n=/\?/.test(t)?"&":"?";return`${t}${n}${this._defaultSearchParams}`}_buildResolvedAsset(t,n){const{aliases:r,data:o,loadParser:u,parser:c,format:f,progressSize:m}=n;return(this._basePath||this._rootPath)&&(t.src=Ye.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=r??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...o||{},...t.data},t.loadParser=u??t.loadParser,t.parser=c??t.parser,t.format=f??t.format??Zv(t.src),m!==void 0&&(t.progressSize=m),t}}Is.RETINA_PREFIX=/@([0-9\.]+)x/;function Zv(s){return s.split(".").pop().split("?").shift().split("#").shift()}const hh=(s,t)=>{const n=t.split("?")[1];return n&&(s+=`?${n}`),s},ty=class Ja{constructor(t,n){this.linkedSheets=[];let r=t;t?.source instanceof hi&&(r={texture:t,data:n});const{texture:o,data:u,cachePrefix:c=""}=r;this.cachePrefix=c,this._texture=o instanceof St?o:null,this.textureSource=o.source,this.textures={},this.animations={},this.data=u;const f=parseFloat(u.meta.scale);f?(this.resolution=f,o.source.resolution=this.resolution):this.resolution=o.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Ja.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t;const r=Ja.BATCH_SIZE;for(;n-t<r&&n<this._frameKeys.length;){const o=this._frameKeys[n],u=this._frames[o],c=u.frame;if(c){let f=null,m=null;const p=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,g=new qt(0,0,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution);u.rotated?f=new qt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):f=new qt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(m=new qt(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[o]=new St({source:this.textureSource,frame:f,orig:g,trim:m,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:o.toString()})}n++}}_processAnimations(){const t=this.data.animations||{};for(const n in t){this.animations[n]=[];for(let r=0;r<t[n].length;r++){const o=t[n][r];this.animations[n].push(this.textures[o])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ja.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ja.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};ty.BATCH_SIZE=1e3;let gg=ty;const Wv=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function ey(s,t,n){const r={};if(s.forEach(o=>{r[o]=t}),Object.keys(t.textures).forEach(o=>{r[`${t.cachePrefix}${o}`]=t.textures[o]}),!n){const o=Ye.dirname(s[0]);t.linkedSheets.forEach((u,c)=>{const f=ey([`${o}/${t.data.meta.related_multi_packs[c]}`],u,!0);Object.assign(r,f)})}return r}const Kv={extension:st.Asset,cache:{test:s=>s instanceof gg,getCacheableAssets:(s,t)=>ey(s,t,!1)},resolver:{extension:{type:st.ResolveParser,name:"resolveSpritesheet"},test:s=>{const n=s.split("?")[0].split("."),r=n.pop(),o=n.pop();return r==="json"&&Wv.includes(o)},parse:s=>{const t=s.split(".");return{resolution:parseFloat(Is.RETINA_PREFIX.exec(s)?.[1]??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:st.LoadParser,priority:Sn.Normal,name:"spritesheetLoader"},async testParse(s,t){return Ye.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,n){const{texture:r,imageFilename:o,textureOptions:u,cachePrefix:c}=t?.data??{};let f=Ye.dirname(t.src);f&&f.lastIndexOf("/")!==f.length-1&&(f+="/");let m;if(r instanceof St)m=r;else{const x=hh(f+(o??s.meta.image),t.src);m=(await n.load([{src:x,data:u}]))[x]}const p=new gg({texture:m.source,data:s,cachePrefix:c});await p.parse();const g=s?.meta?.related_multi_packs;if(Array.isArray(g)){const x=[];for(const b of g){if(typeof b!="string")continue;let A=f+b;t.data?.ignoreMultiPack||(A=hh(A,t.src),x.push(n.load({src:A,data:{textureOptions:u,ignoreMultiPack:!0}})))}const _=await Promise.all(x);p.linkedSheets=_,_.forEach(b=>{b.linkedSheets=[p].concat(p.linkedSheets.filter(A=>A!==b))})}return p},async unload(s,t,n){await n.unload(s.textureSource._sourceOrigin),s.destroy(!1)}}};pe.add(Kv);const Vc=Object.create(null),yg=Object.create(null);function Ch(s,t){let n=yg[s];return n===void 0&&(Vc[t]===void 0&&(Vc[t]=1),yg[s]=n=Vc[t]++),n}let Yl;function iy(){return(!Yl||Yl?.isContextLost())&&(Yl=Gt.get().createCanvas().getContext("webgl",{})),Yl}let Xl;function $v(){if(!Xl){Xl="mediump";const s=iy();s&&s.getShaderPrecisionFormat&&(Xl=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision?"highp":"mediump")}return Xl}function Jv(s,t,n){return t?s:n?(s=s.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${s}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${s}
        `}function t1(s,t,n){const r=n?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(s.substring(0,9)!=="precision"){let o=n?t.requestedFragmentPrecision:t.requestedVertexPrecision;return o==="highp"&&r!=="highp"&&(o="mediump"),`precision ${o} float;
${s}`}else if(r!=="highp"&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}function e1(s,t){return t?`#version 300 es
${s}`:s}const i1={},n1={};function s1(s,{name:t="pixi-program"},n=!0){t=t.replace(/\s+/g,"-"),t+=n?"-fragment":"-vertex";const r=n?i1:n1;return r[t]?(r[t]++,t+=`-${r[t]}`):r[t]=1,s.indexOf("#define SHADER_NAME")!==-1?s:`${`#define SHADER_NAME ${t}`}
${s}`}function a1(s,t){return t?s.replace("#version 300 es",""):s}const Pc={stripVersion:a1,ensurePrecision:t1,addProgramDefines:Jv,setProgramName:s1,insertVersion:e1},Fa=Object.create(null),ny=class fh{constructor(t){t={...fh.defaultOptions,...t};const n=t.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:$v()},setProgramName:{name:t.name},addProgramDefines:n,insertVersion:n};let o=t.fragment,u=t.vertex;Object.keys(Pc).forEach(c=>{const f=r[c];o=Pc[c](o,f,!0),u=Pc[c](u,f,!1)}),this.fragment=o,this.vertex=u,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Ch(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Fa[this._cacheKey]=null}static from(t){const n=`${t.vertex}:${t.fragment}`;return Fa[n]||(Fa[n]=new fh(t),Fa[n]._cacheKey=n),Fa[n]}};ny.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let sy=ny;const xg={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function r1(s){return xg[s]??xg.float32}const l1={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function o1({source:s,entryPoint:t}){const n={},r=s.indexOf(`fn ${t}`);if(r!==-1){const o=s.indexOf("->",r);if(o!==-1){const u=s.substring(r,o),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let f;for(;(f=c.exec(u))!==null;){const m=l1[f[3]]??"float32";n[f[2]]={location:parseInt(f[1],10),format:m,stride:r1(m).stride,offset:0,instance:!1,start:0}}}}return n}function Fc(s){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,o=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,f=/(\w+)\s*:\s*([\w\<\>]+)/g,m=/struct\s+(\w+)/,p=s.match(t)?.map(x=>({group:parseInt(x.match(n)[1],10),binding:parseInt(x.match(r)[1],10),name:x.match(o)[2],isUniform:x.match(o)[1]==="<uniform>",type:x.match(u)[1]}));if(!p)return{groups:[],structs:[]};const g=s.match(c)?.map(x=>{const _=x.match(m)[1],b=x.match(f).reduce((A,w)=>{const[S,M]=w.split(":");return A[S.trim()]=M.trim(),A},{});return b?{name:_,members:b}:null}).filter(({name:x})=>p.some(_=>_.type===x))??[];return{groups:p,structs:g}}var tr=(s=>(s[s.VERTEX=1]="VERTEX",s[s.FRAGMENT=2]="FRAGMENT",s[s.COMPUTE=4]="COMPUTE",s))(tr||{});function u1({groups:s}){const t=[];for(let n=0;n<s.length;n++){const r=s[n];t[r.group]||(t[r.group]=[]),r.isUniform?t[r.group].push({binding:r.binding,visibility:tr.VERTEX|tr.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?t[r.group].push({binding:r.binding,visibility:tr.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&t[r.group].push({binding:r.binding,visibility:tr.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function c1({groups:s}){const t=[];for(let n=0;n<s.length;n++){const r=s[n];t[r.group]||(t[r.group]={}),t[r.group][r.name]=r.binding}return t}function h1(s,t){const n=new Set,r=new Set,o=[...s.structs,...t.structs].filter(c=>n.has(c.name)?!1:(n.add(c.name),!0)),u=[...s.groups,...t.groups].filter(c=>{const f=`${c.name}-${c.binding}`;return r.has(f)?!1:(r.add(f),!0)});return{structs:o,groups:u}}const Ia=Object.create(null);class lo{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:r,layout:o,gpuLayout:u,name:c}=t;if(this.name=c,this.fragment=n,this.vertex=r,n.source===r.source){const f=Fc(n.source);this.structsAndGroups=f}else{const f=Fc(r.source),m=Fc(n.source);this.structsAndGroups=h1(f,m)}this.layout=o??c1(this.structsAndGroups),this.gpuLayout=u??u1(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:n}=this,r=t.source+n.source+t.entryPoint+n.entryPoint;this._layoutKey=Ch(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=o1(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,Ia[this._cacheKey]=null}static from(t){const n=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Ia[n]||(Ia[n]=new lo(t),Ia[n]._cacheKey=n),Ia[n]}}const ay=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],f1=ay.reduce((s,t)=>(s[t]=!0,s),{});function d1(s,t){switch(s){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ry=class ly{constructor(t,n){this._touched=0,this.uid=Qt("uniform"),this._resourceType="uniformGroup",this._resourceId=Qt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...ly.defaultOptions,...n},this.uniformStructures=t;const r={};for(const o in t){const u=t[o];if(u.name=o,u.size=u.size??1,!f1[u.type]){const c=u.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(c){const[,f,m]=c;throw new Error(`Uniform type ${u.type} is not supported. Use type: '${f}', size: ${m} instead.`)}throw new Error(`Uniform type ${u.type} is not supported. Supported uniform types are: ${ay.join(", ")}`)}u.value??(u.value=d1(u.type,u.size)),r[o]=u.value}this.uniforms=r,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=Ch(Object.keys(r).map(o=>`${o}-${t[o].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};ry.defaultOptions={ubo:!1,isStatic:!1};let oy=ry;class $l{constructor(t){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const r in t){const o=t[r];this.setResource(o,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let n=0;for(const r in this.resources)t[n++]=this.resources[r]._resourceId;this._key=t.join("|")}setResource(t,n){const r=this.resources[n];t!==r&&(r&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[n]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const n=this.resources;for(const r in n)n[r]._touched=t}destroy(){const t=this.resources;for(const n in t)t[n]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const n=this.resources;for(const r in n)n[r]===t&&(n[r]=null)}else this._updateKey()}}var dh=(s=>(s[s.WEBGL=1]="WEBGL",s[s.WEBGPU=2]="WEBGPU",s[s.BOTH=3]="BOTH",s))(dh||{});class Eh extends ci{constructor(t){super(),this.uid=Qt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:n,glProgram:r,groups:o,resources:u,compatibleRenderers:c,groupMap:f}=t;this.gpuProgram=n,this.glProgram=r,c===void 0&&(c=0,n&&(c|=dh.WEBGPU),r&&(c|=dh.WEBGL)),this.compatibleRenderers=c;const m={};if(!u&&!o&&(u={}),u&&o)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&o&&!f)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&o&&f)for(const p in f)for(const g in f[p]){const x=f[p][g];m[x]={group:p,binding:g,name:x}}else if(n&&o&&!f){const p=n.structsAndGroups.groups;f={},p.forEach(g=>{f[g.group]=f[g.group]||{},f[g.group][g.binding]=g.name,m[g.name]=g})}else if(u){o={},f={},n&&n.structsAndGroups.groups.forEach(x=>{f[x.group]=f[x.group]||{},f[x.group][x.binding]=x.name,m[x.name]=x});let p=0;for(const g in u)m[g]||(o[99]||(o[99]=new $l,this._ownedBindGroups.push(o[99])),m[g]={group:99,binding:p,name:g},f[99]=f[99]||{},f[99][p]=g,p++);for(const g in u){const x=g;let _=u[g];!_.source&&!_._resourceType&&(_=new oy(_));const b=m[x];b&&(o[b.group]||(o[b.group]=new $l,this._ownedBindGroups.push(o[b.group])),o[b.group].setResource(_,b.binding))}}this.groups=o,this._uniformBindMap=f,this.resources=this._buildResourceAccessor(o,m)}addResource(t,n,r){var o,u;(o=this._uniformBindMap)[n]||(o[n]={}),(u=this._uniformBindMap[n])[r]||(u[r]=t),this.groups[n]||(this.groups[n]=new $l,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(t,n){const r={};for(const o in n){const u=n[o];Object.defineProperty(r,u.name,{get(){return t[u.group].getResource(u.binding)},set(c){t[u.group].setResource(c,u.binding)}})}return r}destroy(t=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(n=>{n.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(t){const{gpu:n,gl:r,...o}=t;let u,c;return n&&(u=lo.from(n)),r&&(c=sy.from(r)),new Eh({gpuProgram:u,glProgram:c,...o})}}const mh=[];pe.handleByNamedList(st.Environment,mh);async function m1(s){if(!s)for(let t=0;t<mh.length;t++){const n=mh[t];if(n.value.test()){await n.value.load();return}}}let Qa;function p1(){if(typeof Qa=="boolean")return Qa;try{Qa=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Qa=!1}return Qa}function _g(s,t,n=2){const r=t&&t.length,o=r?t[0]*n:s.length;let u=uy(s,0,o,n,!0);const c=[];if(!u||u.next===u.prev)return c;let f,m,p;if(r&&(u=b1(s,t,u,n)),s.length>80*n){f=s[0],m=s[1];let g=f,x=m;for(let _=n;_<o;_+=n){const b=s[_],A=s[_+1];b<f&&(f=b),A<m&&(m=A),b>g&&(g=b),A>x&&(x=A)}p=Math.max(g-f,x-m),p=p!==0?32767/p:0}return lr(u,c,n,f,m,p,0),c}function uy(s,t,n,r,o){let u;if(o===B1(s,t,n,r)>0)for(let c=t;c<n;c+=r)u=bg(c/r|0,s[c],s[c+1],u);else for(let c=n-r;c>=t;c-=r)u=bg(c/r|0,s[c],s[c+1],u);return u&&Vs(u,u.next)&&(ur(u),u=u.next),u}function Wn(s,t){if(!s)return s;t||(t=s);let n=s,r;do if(r=!1,!n.steiner&&(Vs(n,n.next)||Vt(n.prev,n,n.next)===0)){if(ur(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function lr(s,t,n,r,o,u,c){if(!s)return;!c&&u&&T1(s,r,o,u);let f=s;for(;s.prev!==s.next;){const m=s.prev,p=s.next;if(u?y1(s,r,o,u):g1(s)){t.push(m.i,s.i,p.i),ur(s),s=p.next,f=p.next;continue}if(s=p,s===f){c?c===1?(s=x1(Wn(s),t),lr(s,t,n,r,o,u,2)):c===2&&_1(s,t,n,r,o,u):lr(Wn(s),t,n,r,o,u,1);break}}}function g1(s){const t=s.prev,n=s,r=s.next;if(Vt(t,n,r)>=0)return!1;const o=t.x,u=n.x,c=r.x,f=t.y,m=n.y,p=r.y,g=Math.min(o,u,c),x=Math.min(f,m,p),_=Math.max(o,u,c),b=Math.max(f,m,p);let A=r.next;for(;A!==t;){if(A.x>=g&&A.x<=_&&A.y>=x&&A.y<=b&&er(o,f,u,m,c,p,A.x,A.y)&&Vt(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function y1(s,t,n,r){const o=s.prev,u=s,c=s.next;if(Vt(o,u,c)>=0)return!1;const f=o.x,m=u.x,p=c.x,g=o.y,x=u.y,_=c.y,b=Math.min(f,m,p),A=Math.min(g,x,_),w=Math.max(f,m,p),S=Math.max(g,x,_),M=ph(b,A,t,n,r),C=ph(w,S,t,n,r);let R=s.prevZ,N=s.nextZ;for(;R&&R.z>=M&&N&&N.z<=C;){if(R.x>=b&&R.x<=w&&R.y>=A&&R.y<=S&&R!==o&&R!==c&&er(f,g,m,x,p,_,R.x,R.y)&&Vt(R.prev,R,R.next)>=0||(R=R.prevZ,N.x>=b&&N.x<=w&&N.y>=A&&N.y<=S&&N!==o&&N!==c&&er(f,g,m,x,p,_,N.x,N.y)&&Vt(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;R&&R.z>=M;){if(R.x>=b&&R.x<=w&&R.y>=A&&R.y<=S&&R!==o&&R!==c&&er(f,g,m,x,p,_,R.x,R.y)&&Vt(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;N&&N.z<=C;){if(N.x>=b&&N.x<=w&&N.y>=A&&N.y<=S&&N!==o&&N!==c&&er(f,g,m,x,p,_,N.x,N.y)&&Vt(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function x1(s,t){let n=s;do{const r=n.prev,o=n.next.next;!Vs(r,o)&&hy(r,n,n.next,o)&&or(r,o)&&or(o,r)&&(t.push(r.i,n.i,o.i),ur(n),ur(n.next),n=s=o),n=n.next}while(n!==s);return Wn(n)}function _1(s,t,n,r,o,u){let c=s;do{let f=c.next.next;for(;f!==c.prev;){if(c.i!==f.i&&E1(c,f)){let m=fy(c,f);c=Wn(c,c.next),m=Wn(m,m.next),lr(c,t,n,r,o,u,0),lr(m,t,n,r,o,u,0);return}f=f.next}c=c.next}while(c!==s)}function b1(s,t,n,r){const o=[];for(let u=0,c=t.length;u<c;u++){const f=t[u]*r,m=u<c-1?t[u+1]*r:s.length,p=uy(s,f,m,r,!1);p===p.next&&(p.steiner=!0),o.push(C1(p))}o.sort(v1);for(let u=0;u<o.length;u++)n=S1(o[u],n);return n}function v1(s,t){let n=s.x-t.x;if(n===0&&(n=s.y-t.y,n===0)){const r=(s.next.y-s.y)/(s.next.x-s.x),o=(t.next.y-t.y)/(t.next.x-t.x);n=r-o}return n}function S1(s,t){const n=A1(s,t);if(!n)return t;const r=fy(n,s);return Wn(r,r.next),Wn(n,n.next)}function A1(s,t){let n=t;const r=s.x,o=s.y;let u=-1/0,c;if(Vs(s,n))return n;do{if(Vs(s,n.next))return n.next;if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const x=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(x<=r&&x>u&&(u=x,c=n.x<n.next.x?n:n.next,x===r))return c}n=n.next}while(n!==t);if(!c)return null;const f=c,m=c.x,p=c.y;let g=1/0;n=c;do{if(r>=n.x&&n.x>=m&&r!==n.x&&cy(o<p?r:u,o,m,p,o<p?u:r,o,n.x,n.y)){const x=Math.abs(o-n.y)/(r-n.x);or(n,s)&&(x<g||x===g&&(n.x>c.x||n.x===c.x&&w1(c,n)))&&(c=n,g=x)}n=n.next}while(n!==f);return c}function w1(s,t){return Vt(s.prev,s,t.prev)<0&&Vt(t.next,s,s.next)<0}function T1(s,t,n,r){let o=s;do o.z===0&&(o.z=ph(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==s);o.prevZ.nextZ=null,o.prevZ=null,M1(o)}function M1(s){let t,n=1;do{let r=s,o;s=null;let u=null;for(t=0;r;){t++;let c=r,f=0;for(let p=0;p<n&&(f++,c=c.nextZ,!!c);p++);let m=n;for(;f>0||m>0&&c;)f!==0&&(m===0||!c||r.z<=c.z)?(o=r,r=r.nextZ,f--):(o=c,c=c.nextZ,m--),u?u.nextZ=o:s=o,o.prevZ=u,u=o;r=c}u.nextZ=null,n*=2}while(t>1);return s}function ph(s,t,n,r,o){return s=(s-n)*o|0,t=(t-r)*o|0,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,s|t<<1}function C1(s){let t=s,n=s;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==s);return n}function cy(s,t,n,r,o,u,c,f){return(o-c)*(t-f)>=(s-c)*(u-f)&&(s-c)*(r-f)>=(n-c)*(t-f)&&(n-c)*(u-f)>=(o-c)*(r-f)}function er(s,t,n,r,o,u,c,f){return!(s===c&&t===f)&&cy(s,t,n,r,o,u,c,f)}function E1(s,t){return s.next.i!==t.i&&s.prev.i!==t.i&&!z1(s,t)&&(or(s,t)&&or(t,s)&&R1(s,t)&&(Vt(s.prev,s,t.prev)||Vt(s,t.prev,t))||Vs(s,t)&&Vt(s.prev,s,s.next)>0&&Vt(t.prev,t,t.next)>0)}function Vt(s,t,n){return(t.y-s.y)*(n.x-t.x)-(t.x-s.x)*(n.y-t.y)}function Vs(s,t){return s.x===t.x&&s.y===t.y}function hy(s,t,n,r){const o=Vl(Vt(s,t,n)),u=Vl(Vt(s,t,r)),c=Vl(Vt(n,r,s)),f=Vl(Vt(n,r,t));return!!(o!==u&&c!==f||o===0&&ql(s,n,t)||u===0&&ql(s,r,t)||c===0&&ql(n,s,r)||f===0&&ql(n,t,r))}function ql(s,t,n){return t.x<=Math.max(s.x,n.x)&&t.x>=Math.min(s.x,n.x)&&t.y<=Math.max(s.y,n.y)&&t.y>=Math.min(s.y,n.y)}function Vl(s){return s>0?1:s<0?-1:0}function z1(s,t){let n=s;do{if(n.i!==s.i&&n.next.i!==s.i&&n.i!==t.i&&n.next.i!==t.i&&hy(n,n.next,s,t))return!0;n=n.next}while(n!==s);return!1}function or(s,t){return Vt(s.prev,s,s.next)<0?Vt(s,t,s.next)>=0&&Vt(s,s.prev,t)>=0:Vt(s,t,s.prev)<0||Vt(s,s.next,t)<0}function R1(s,t){let n=s,r=!1;const o=(s.x+t.x)/2,u=(s.y+t.y)/2;do n.y>u!=n.next.y>u&&n.next.y!==n.y&&o<(n.next.x-n.x)*(u-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==s);return r}function fy(s,t){const n=gh(s.i,s.x,s.y),r=gh(t.i,t.x,t.y),o=s.next,u=t.prev;return s.next=t,t.prev=s,n.next=o,o.prev=n,r.next=n,n.prev=r,u.next=r,r.prev=u,r}function bg(s,t,n,r){const o=gh(s,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function ur(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function gh(s,t,n){return{i:s,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function B1(s,t,n,r){let o=0;for(let u=t,c=n-r;u<n;u+=r)o+=(s[c]-s[u])*(s[u+1]+s[c+1]),c=u;return o}const O1=_g.default||_g;var dy=(s=>(s[s.NONE=0]="NONE",s[s.COLOR=16384]="COLOR",s[s.STENCIL=1024]="STENCIL",s[s.DEPTH=256]="DEPTH",s[s.COLOR_DEPTH=16640]="COLOR_DEPTH",s[s.COLOR_STENCIL=17408]="COLOR_STENCIL",s[s.DEPTH_STENCIL=1280]="DEPTH_STENCIL",s[s.ALL=17664]="ALL",s))(dy||{});class N1{constructor(t){this.items=[],this._name=t}emit(t,n,r,o,u,c,f,m){const{name:p,items:g}=this;for(let x=0,_=g.length;x<_;x++)g[x][p](t,n,r,o,u,c,f,m);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const n=this.items.indexOf(t);return n!==-1&&this.items.splice(n,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const D1=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],my=class py extends ci{constructor(t){super(),this.uid=Qt("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const n=[...D1,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(t={}){const n=t.skipExtensionImports===!0?!0:t.manageImports===!1;await m1(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)t={...this._systemsHash[r].constructor.defaultOptions,...t};t={...py.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(t);this._initOptions=t}render(t,n){let r=t;if(r instanceof He&&(r={container:r},n&&(dt(Rt,"passing a second argument is deprecated, please use render options instead"),r.target=n.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const o=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=o?r.clearColor:ie.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.visible&&(r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r))}resize(t,n,r){const o=this.view.resolution;this.view.resize(t,n,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==o&&this.runners.resolutionChange.emit(r)}clear(t={}){const n=this;t.target||(t.target=n.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=dy.ALL);const{clear:r,clearColor:o,target:u}=t;ie.shared.setValue(o??this.background.colorRgba),n.renderTarget.clear(u,r,ie.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(n=>{this.runners[n]=new N1(n)})}_addSystems(t){let n;for(n in t){const r=t[n];this._addSystem(r.value,r.name)}}_addSystem(t,n){const r=new t(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const o in this.runners)this.runners[o].add(r);return this}_addPipes(t,n){const r=n.reduce((o,u)=>(o[u.name]=u.value,o),{});t.forEach(o=>{const u=o.value,c=o.name,f=r[c];this.renderPipes[c]=new u(this,f?new f:null),this.runners.destroy.add(this.renderPipes[c])})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),(t===!0||typeof t=="object"&&t.releaseGlobalResources)&&dr.release(),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!p1())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};my.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let gy=my,Pl;function U1(s){return Pl!==void 0||(Pl=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:s??gy.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Gt.get().getWebGLRenderingContext())return!1;let r=Gt.get().createCanvas().getContext("webgl",t);const o=!!r?.getContextAttributes()?.stencil;if(r){const u=r.getExtension("WEBGL_lose_context");u&&u.loseContext()}return r=null,o}catch{return!1}})()),Pl}let Fl;async function k1(s={}){return Fl!==void 0||(Fl=await(async()=>{const t=Gt.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(s)).requestDevice(),!0}catch{return!1}})()),Fl}const vg=["webgl","webgpu","canvas"];async function G1(s){let t=[];s.preference?(t.push(s.preference),vg.forEach(u=>{u!==s.preference&&t.push(u)})):t=vg.slice();let n,r={};for(let u=0;u<t.length;u++){const c=t[u];if(c==="webgpu"&&await k1()){const{WebGPURenderer:f}=await to(async()=>{const{WebGPURenderer:m}=await import("./WebGPURenderer-CnMIJNDG.js");return{WebGPURenderer:m}},__vite__mapDeps([3,2,4]));n=f,r={...s,...s.webgpu};break}else if(c==="webgl"&&U1(s.failIfMajorPerformanceCaveat??gy.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:f}=await to(async()=>{const{WebGLRenderer:m}=await import("./WebGLRenderer-C5Rdp7WI.js");return{WebGLRenderer:m}},__vite__mapDeps([5,2,4]));n=f,r={...s,...s.webgl};break}else if(c==="canvas")throw r={...s},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!n)throw new Error("No available renderer for the current environment");const o=new n;return await o.init(r),o}const yy="8.14.3";class xy{static init(){globalThis.__PIXI_APP_INIT__?.(this,yy)}static destroy(){}}xy.extension=st.Application;class L1{constructor(t){this._renderer=t}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,yy)}destroy(){this._renderer=null}}L1.extension={type:[st.WebGLSystem,st.WebGPUSystem],name:"initHook",priority:-10};const _y=class yh{constructor(...t){this.stage=new He,t[0]!==void 0&&dt(Rt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.stage||(this.stage=new He),this.renderer=await G1(t),yh._plugins.forEach(n=>{n.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return dt(Rt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,n=!1){const r=yh._plugins.slice(0);r.reverse(),r.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};_y._plugins=[];let by=_y;pe.handleByList(st.Application,by._plugins);pe.add(xy);class vy extends ci{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return dt(Rt,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return dt(Rt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return dt(Rt,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return dt(Rt,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return dt(Rt,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners();for(const n in this.chars)this.chars[n].texture?.destroy();this.chars=null,t&&(this.pages.forEach(n=>n.texture.destroy(!0)),this.pages=null)}}class j1{constructor(t=0,n=0,r=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=t,this.resetTtl=r,this.size=0,this.ttl=n}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(t){if(this.has(t)){const n=this.items[t];delete this.items[t],this.size--,n.prev!==null&&(n.prev.next=n.next),n.next!==null&&(n.next.prev=n.prev),this.first===n&&(this.first=n.next),this.last===n&&(this.last=n.prev)}return this}entries(t=this.keys()){return t.map(n=>[n,this.get(n)])}evict(t=!1){if(t||this.size>0){const n=this.first;delete this.items[n.key],--this.size===0?(this.first=null,this.last=null):(this.first=n.next,this.first.prev=null)}return this}expiresAt(t){let n;return this.has(t)&&(n=this.items[t].expiry),n}get(t){const n=this.items[t];if(n!==void 0){if(this.ttl>0&&n.expiry<=Date.now()){this.delete(t);return}return this.moveToEnd(n),n.value}}has(t){return t in this.items}moveToEnd(t){this.last!==t&&(t.prev!==null&&(t.prev.next=t.next),t.next!==null&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),t.prev=this.last,t.next=null,this.last!==null&&(this.last.next=t),this.last=t,this.first===null&&(this.first=t))}keys(){const t=[];let n=this.first;for(;n!==null;)t.push(n.key),n=n.next;return t}setWithEvicted(t,n,r=this.resetTtl){let o=null;if(this.has(t))this.set(t,n,!0,r);else{this.max>0&&this.size===this.max&&(o={...this.first},this.evict(!0));let u=this.items[t]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:n};++this.size===1?this.first=u:this.last.next=u,this.last=u}return o}set(t,n,r=!1,o=this.resetTtl){let u=this.items[t];return r||u!==void 0?(u.value=n,r===!1&&o&&(u.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(u)):(this.max>0&&this.size===this.max&&this.evict(!0),u=this.items[t]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:n},++this.size===1?this.first=u:this.last.next=u,this.last=u),this}values(t=this.keys()){return t.map(n=>this.get(n))}}function Sy(s=1e3,t=0,n=!1){if(isNaN(s)||s<0)throw new TypeError("Invalid max value");if(isNaN(t)||t<0)throw new TypeError("Invalid ttl value");if(typeof n!="boolean")throw new TypeError("Invalid resetTtl value");return new j1(s,t,n)}const H1=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function io(s){const t=typeof s.fontSize=="number"?`${s.fontSize}px`:s.fontSize;let n=s.fontFamily;Array.isArray(s.fontFamily)||(n=s.fontFamily.split(","));for(let r=n.length-1;r>=0;r--){let o=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&!H1.includes(o)&&(o=`"${o}"`),n[r]=o}return`${s.fontStyle} ${s.fontVariant} ${s.fontWeight} ${t} ${n.join(",")}`}const Ic={willReadFrequently:!0},fi=class it{static get experimentalLetterSpacingSupported(){let t=it._experimentalLetterSpacingSupported;if(t===void 0){const n=Gt.get().getCanvasRenderingContext2D().prototype;t=it._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(t,n,r,o,u,c,f,m,p){this.text=t,this.style=n,this.width=r,this.height=o,this.lines=u,this.lineWidths=c,this.lineHeight=f,this.maxLineWidth=m,this.fontProperties=p}static measureText(t=" ",n,r=it._canvas,o=n.wordWrap){const u=`${t}-${n.styleKey}-wordWrap-${o}`;if(it._measurementCache.has(u))return it._measurementCache.get(u);const c=io(n),f=it.measureFont(c);f.fontSize===0&&(f.fontSize=n.fontSize,f.ascent=n.fontSize);const m=it.__context;m.font=c;const g=(o?it._wordWrap(t,n,r):t).split(/(?:\r\n|\r|\n)/),x=new Array(g.length);let _=0;for(let C=0;C<g.length;C++){const R=it._measureText(g[C],n.letterSpacing,m);x[C]=R,_=Math.max(_,R)}const b=n._stroke?.width||0;let A=_+b;n.dropShadow&&(A+=n.dropShadow.distance);const w=n.lineHeight||f.fontSize;let S=Math.max(w,f.fontSize+b)+(g.length-1)*(w+n.leading);n.dropShadow&&(S+=n.dropShadow.distance);const M=new it(t,n,A,S,g,x,w+n.leading,_,f);return it._measurementCache.set(u,M),M}static _measureText(t,n,r){let o=!1;it.experimentalLetterSpacingSupported&&(it.experimentalLetterSpacing?(r.letterSpacing=`${n}px`,r.textLetterSpacing=`${n}px`,o=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const u=r.measureText(t);let c=u.width;const f=-u.actualBoundingBoxLeft;let p=u.actualBoundingBoxRight-f;if(c>0)if(o)c-=n,p-=n;else{const g=(it.graphemeSegmenter(t).length-1)*n;c+=g,p+=g}return Math.max(c,p)}static _wordWrap(t,n,r=it._canvas){const o=r.getContext("2d",Ic);let u=0,c="",f="";const m=Object.create(null),{letterSpacing:p,whiteSpace:g}=n,x=it._collapseSpaces(g),_=it._collapseNewlines(g);let b=!x;const A=n.wordWrapWidth+p,w=it._tokenize(t);for(let S=0;S<w.length;S++){let M=w[S];if(it._isNewline(M)){if(!_){f+=it._addLine(c),b=!x,c="",u=0;continue}M=" "}if(x){const R=it.isBreakingSpace(M),N=it.isBreakingSpace(c[c.length-1]);if(R&&N)continue}const C=it._getFromCache(M,p,m,o);if(C>A)if(c!==""&&(f+=it._addLine(c),c="",u=0),it.canBreakWords(M,n.breakWords)){const R=it.wordWrapSplit(M);for(let N=0;N<R.length;N++){let F=R[N],q=F,L=1;for(;R[N+L];){const Q=R[N+L];if(!it.canBreakChars(q,Q,M,N,n.breakWords))F+=Q;else break;q=Q,L++}N+=L-1;const W=it._getFromCache(F,p,m,o);W+u>A&&(f+=it._addLine(c),b=!1,c="",u=0),c+=F,u+=W}}else{c.length>0&&(f+=it._addLine(c),c="",u=0);const R=S===w.length-1;f+=it._addLine(M,!R),b=!1,c="",u=0}else C+u>A&&(b=!1,f+=it._addLine(c),c="",u=0),(c.length>0||!it.isBreakingSpace(M)||b)&&(c+=M,u+=C)}return f+=it._addLine(c,!1),f}static _addLine(t,n=!0){return t=it._trimRight(t),t=n?`${t}
`:t,t}static _getFromCache(t,n,r,o){let u=r[t];return typeof u!="number"&&(u=it._measureText(t,n,o)+n,r[t]=u),u}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let n=t.length-1;n>=0;n--){const r=t[n];if(!it.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:it._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return typeof t!="string"?!1:it._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const n=[];let r="";if(typeof t!="string")return n;for(let o=0;o<t.length;o++){const u=t[o],c=t[o+1];if(it.isBreakingSpace(u,c)||it._isNewline(u)){r!==""&&(n.push(r),r=""),u==="\r"&&c===`
`?(n.push(`\r
`),o++):n.push(u);continue}r+=u}return r!==""&&n.push(r),n}static canBreakWords(t,n){return n}static canBreakChars(t,n,r,o,u){return!0}static wordWrapSplit(t){return it.graphemeSegmenter(t)}static measureFont(t){if(it._fonts[t])return it._fonts[t];const n=it._context;n.font=t;const r=n.measureText(it.METRICS_STRING+it.BASELINE_SYMBOL),o={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return it._fonts[t]=o,o}static clearMetrics(t=""){t?delete it._fonts[t]:it._fonts={}}static get _canvas(){if(!it.__canvas){let t;try{const n=new OffscreenCanvas(0,0);if(n.getContext("2d",Ic)?.measureText)return it.__canvas=n,n;t=Gt.get().createCanvas()}catch{t=Gt.get().createCanvas()}t.width=t.height=10,it.__canvas=t}return it.__canvas}static get _context(){return it.__context||(it.__context=it._canvas.getContext("2d",Ic)),it.__context}};fi.METRICS_STRING="|q";fi.BASELINE_SYMBOL="M";fi.BASELINE_MULTIPLIER=1.4;fi.HEIGHT_MULTIPLIER=2;fi.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const s=new Intl.Segmenter;return t=>{const n=s.segment(t),r=[];let o=0;for(const u of n)r[o++]=u.segment;return r}}return s=>[...s]})();fi.experimentalLetterSpacing=!1;fi._fonts={};fi._newlines=[10,13];fi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];fi._measurementCache=Sy(1e3);let Si=fi;const Sg=[{offset:0,color:"white"},{offset:1,color:"black"}],zh=class xh{constructor(...t){this.uid=Qt("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let n=Y1(t);n={...n.type==="radial"?xh.defaultRadialOptions:xh.defaultLinearOptions,...M0(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(o=>{this.addColorStop(o.offset,o.color)})}addColorStop(t,n){return this.colorStops.push({offset:t,color:ie.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:n}=this.start,{x:r,y:o}=this.end,u=r-t,c=o-n;const f=u<0||c<0;if(this._wrapMode==="clamp-to-edge"){if(u<0){const S=t;t=r,r=S,u*=-1}if(c<0){const S=n;n=o,o=S,c*=-1}}const m=this.colorStops.length?this.colorStops:Sg,p=this._textureSize,{canvas:g,context:x}=wg(p,1),_=f?x.createLinearGradient(this._textureSize,0,0,0):x.createLinearGradient(0,0,this._textureSize,0);Ag(_,m),x.fillStyle=_,x.fillRect(0,0,p,1),this.texture=new St({source:new Zn({resource:g,addressMode:this._wrapMode})});const b=Math.sqrt(u*u+c*c),A=Math.atan2(c,u),w=new _t;w.scale(b/p,1),w.rotate(A),w.translate(t,n),this.textureSpace==="local"&&w.scale(p,p),this.transform=w}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Sg,n=this._textureSize,{canvas:r,context:o}=wg(n,n),{x:u,y:c}=this.center,{x:f,y:m}=this.outerCenter,p=this.innerRadius,g=this.outerRadius,x=f-g,_=m-g,b=n/(g*2),A=(u-x)*b,w=(c-_)*b,S=o.createRadialGradient(A,w,p*b,(f-x)*b,(m-_)*b,g*b);Ag(S,t),o.fillStyle=t[t.length-1].color,o.fillRect(0,0,n,n),o.fillStyle=S,o.translate(A,w),o.rotate(this.rotation),o.scale(1,this.scale),o.translate(-A,-w),o.fillRect(0,0,n,n),this.texture=new St({source:new Zn({resource:r,addressMode:this._wrapMode})});const M=new _t;M.scale(1/b,1/b),M.translate(x,_),this.textureSpace==="local"&&M.scale(n,n),this.transform=M}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};zh.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};zh.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Pi=zh;function Ag(s,t){for(let n=0;n<t.length;n++){const r=t[n];s.addColorStop(r.offset,r.color)}}function wg(s,t){const n=Gt.get().createCanvas(s,t),r=n.getContext("2d");return{canvas:n,context:r}}function Y1(s){let t=s[0]??{};return(typeof t=="number"||s[1])&&(dt("8.5.2","use options object instead"),t={type:"linear",start:{x:s[0],y:s[1]},end:{x:s[2],y:s[3]},textureSpace:s[4],textureSize:s[5]??Pi.defaultLinearOptions.textureSize}),t}const Tg={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class oo{constructor(t,n){this.uid=Qt("fillPattern"),this._tick=0,this.transform=new _t,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),n&&(t.source.style.addressModeU=Tg[n].addressModeU,t.source.style.addressModeV=Tg[n].addressModeV)}setTransform(t){const n=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._tick++}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture=t,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Qc,Mg;function X1(){if(Mg)return Qc;Mg=1,Qc=n;var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(u){var c=[];return u.replace(t,function(f,m,p){var g=m.toLowerCase();for(p=o(p),g=="m"&&p.length>2&&(c.push([m].concat(p.splice(0,2))),g="l",m=m=="m"?"l":"L");;){if(p.length==s[g])return p.unshift(m),c.push(p);if(p.length<s[g])throw new Error("malformed path data");c.push([m].concat(p.splice(0,s[g])))}}),c}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function o(u){var c=u.match(r);return c?c.map(Number):[]}return Qc}var q1=X1();const V1=f0(q1);function P1(s,t){const n=V1(s),r=[];let o=null,u=0,c=0;for(let f=0;f<n.length;f++){const m=n[f],p=m[0],g=m;switch(p){case"M":u=g[1],c=g[2],t.moveTo(u,c);break;case"m":u+=g[1],c+=g[2],t.moveTo(u,c);break;case"H":u=g[1],t.lineTo(u,c);break;case"h":u+=g[1],t.lineTo(u,c);break;case"V":c=g[1],t.lineTo(u,c);break;case"v":c+=g[1],t.lineTo(u,c);break;case"L":u=g[1],c=g[2],t.lineTo(u,c);break;case"l":u+=g[1],c+=g[2],t.lineTo(u,c);break;case"C":u=g[5],c=g[6],t.bezierCurveTo(g[1],g[2],g[3],g[4],u,c);break;case"c":t.bezierCurveTo(u+g[1],c+g[2],u+g[3],c+g[4],u+g[5],c+g[6]),u+=g[5],c+=g[6];break;case"S":u=g[3],c=g[4],t.bezierCurveToShort(g[1],g[2],u,c);break;case"s":t.bezierCurveToShort(u+g[1],c+g[2],u+g[3],c+g[4]),u+=g[3],c+=g[4];break;case"Q":u=g[3],c=g[4],t.quadraticCurveTo(g[1],g[2],u,c);break;case"q":t.quadraticCurveTo(u+g[1],c+g[2],u+g[3],c+g[4]),u+=g[3],c+=g[4];break;case"T":u=g[1],c=g[2],t.quadraticCurveToShort(u,c);break;case"t":u+=g[1],c+=g[2],t.quadraticCurveToShort(u,c);break;case"A":u=g[6],c=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,c);break;case"a":u+=g[6],c+=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,c);break;case"Z":case"z":t.closePath(),r.length>0&&(o=r.pop(),o?(u=o.startX,c=o.startY):(u=0,c=0)),o=null;break;default:Yt(`Unknown SVG path command: ${p}`)}p!=="Z"&&p!=="z"&&o===null&&(o={startX:u,startY:c},r.push(o))}return t}class Rh{constructor(t=0,n=0,r=0){this.type="circle",this.x=t,this.y=n,this.radius=r}clone(){return new Rh(this.x,this.y,this.radius)}contains(t,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let o=this.x-t,u=this.y-n;return o*=o,u*=u,o+u<=r}strokeContains(t,n,r,o=.5){if(this.radius===0)return!1;const u=this.x-t,c=this.y-n,f=this.radius,m=(1-o)*r,p=Math.sqrt(u*u+c*c);return p<=f+m&&p>f-(r-m)}getBounds(t){return t||(t=new qt),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Bh{constructor(t=0,n=0,r=0,o=0){this.type="ellipse",this.x=t,this.y=n,this.halfWidth=r,this.halfHeight=o}clone(){return new Bh(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(t-this.x)/this.halfWidth,o=(n-this.y)/this.halfHeight;return r*=r,o*=o,r+o<=1}strokeContains(t,n,r,o=.5){const{halfWidth:u,halfHeight:c}=this;if(u<=0||c<=0)return!1;const f=r*(1-o),m=r-f,p=u-m,g=c-m,x=u+f,_=c+f,b=t-this.x,A=n-this.y,w=b*b/(p*p)+A*A/(g*g),S=b*b/(x*x)+A*A/(_*_);return w>1&&S<=1}getBounds(t){return t||(t=new qt),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function F1(s,t,n,r,o,u){const c=s-n,f=t-r,m=o-n,p=u-r,g=c*m+f*p,x=m*m+p*p;let _=-1;x!==0&&(_=g/x);let b,A;_<0?(b=n,A=r):_>1?(b=o,A=u):(b=n+_*m,A=r+_*p);const w=s-b,S=t-A;return w*w+S*S}let I1,Q1;class sr{constructor(...t){this.type="polygon";let n=Array.isArray(t[0])?t[0]:t;if(typeof n[0]!="number"){const r=[];for(let o=0,u=n.length;o<u;o++)r.push(n[o].x,n[o].y);n=r}this.points=n,this.closePath=!0}isClockwise(){let t=0;const n=this.points,r=n.length;for(let o=0;o<r;o+=2){const u=n[o],c=n[o+1],f=n[(o+2)%r],m=n[(o+3)%r];t+=(f-u)*(m+c)}return t<0}containsPolygon(t){const n=this.getBounds(I1),r=t.getBounds(Q1);if(!n.containsRect(r))return!1;const o=t.points;for(let u=0;u<o.length;u+=2){const c=o[u],f=o[u+1];if(!this.contains(c,f))return!1}return!0}clone(){const t=this.points.slice(),n=new sr(t);return n.closePath=this.closePath,n}contains(t,n){let r=!1;const o=this.points.length/2;for(let u=0,c=o-1;u<o;c=u++){const f=this.points[u*2],m=this.points[u*2+1],p=this.points[c*2],g=this.points[c*2+1];m>n!=g>n&&t<(p-f)*((n-m)/(g-m))+f&&(r=!r)}return r}strokeContains(t,n,r,o=.5){const u=r*r,c=u*(1-o),f=u-c,{points:m}=this,p=m.length-(this.closePath?0:2);for(let g=0;g<p;g+=2){const x=m[g],_=m[g+1],b=m[(g+2)%m.length],A=m[(g+3)%m.length],w=F1(t,n,x,_,b,A),S=Math.sign((b-x)*(n-_)-(A-_)*(t-x));if(w<=(S<0?f:c))return!0}return!1}getBounds(t){t||(t=new qt);const n=this.points;let r=1/0,o=-1/0,u=1/0,c=-1/0;for(let f=0,m=n.length;f<m;f+=2){const p=n[f],g=n[f+1];r=p<r?p:r,o=p>o?p:o,u=g<u?g:u,c=g>c?g:c}return t.x=r,t.width=o-r,t.y=u,t.height=c-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,n)=>`${t}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return dt("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return dt("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const Il=(s,t,n,r,o,u,c)=>{const f=s-n,m=t-r,p=Math.sqrt(f*f+m*m);return p>=o-u&&p<=o+c};class Oh{constructor(t=0,n=0,r=0,o=0,u=20){this.type="roundedRectangle",this.x=t,this.y=n,this.width=r,this.height=o,this.radius=u}getBounds(t){return t||(t=new qt),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new Oh(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let o=t-(this.x+r),u=n-(this.y+r);const c=r*r;if(o*o+u*u<=c||(o=t-(this.x+this.width-r),o*o+u*u<=c)||(u=n-(this.y+this.height-r),o*o+u*u<=c)||(o=t-(this.x+r),o*o+u*u<=c))return!0}return!1}strokeContains(t,n,r,o=.5){const{x:u,y:c,width:f,height:m,radius:p}=this,g=r*(1-o),x=r-g,_=u+p,b=c+p,A=f-p*2,w=m-p*2,S=u+f,M=c+m;return(t>=u-g&&t<=u+x||t>=S-x&&t<=S+g)&&n>=b&&n<=b+w||(n>=c-g&&n<=c+x||n>=M-x&&n<=M+g)&&t>=_&&t<=_+A?!0:t<_&&n<b&&Il(t,n,_,b,p,x,g)||t>S-p&&n<b&&Il(t,n,S-p,b,p,x,g)||t>S-p&&n>M-p&&Il(t,n,S-p,M-p,p,x,g)||t<_&&n>M-p&&Il(t,n,_,M-p,p,x,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const Ay={};function Z1(s,t,n){let r=2166136261;for(let o=0;o<t;o++)r^=s[o].uid,r=Math.imul(r,16777619),r>>>=0;return Ay[r]||W1(s,t,r,n)}function W1(s,t,n,r){const o={};let u=0;for(let f=0;f<r;f++){const m=f<t?s[f]:St.EMPTY.source;o[u++]=m.source,o[u++]=m.style}const c=new $l(o);return Ay[n]=c,c}class Cg{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function Eg(s,t){const n=s.byteLength/8|0,r=new Float64Array(s,0,n);new Float64Array(t,0,n).set(r);const u=s.byteLength-n*8;if(u>0){const c=new Uint8Array(s,n*8,u);new Uint8Array(t,n*8,u).set(c)}}const K1={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var $1=(s=>(s[s.DISABLED=0]="DISABLED",s[s.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",s[s.MASK_ACTIVE=2]="MASK_ACTIVE",s[s.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",s[s.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",s[s.NONE=5]="NONE",s))($1||{});function zg(s,t){return t.alphaMode==="no-premultiply-alpha"&&K1[s]||s}const J1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function tS(s){let t="";for(let n=0;n<s;++n)n>0&&(t+=`
else `),n<s-1&&(t+=`if(test == ${n}.0){}`);return t}function eS(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const r=J1.replace(/%forloop%/gi,tS(s));if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))s=s/2|0;else break}}finally{t.deleteShader(n)}return s}let Us=null;function iS(){if(Us)return Us;const s=iy();return Us=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),Us=eS(Us,s),s.getExtension("WEBGL_lose_context")?.loseContext(),Us}class nS{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const n=this.textures[t];this.textures[t]=null,this.ids[n.uid]=null}this.count=0}}class sS{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new nS,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const ar=[];let no=0;dr.register({clear:()=>{if(ar.length>0)for(const s of ar)s&&s.destroy();ar.length=0,no=0}});function Rg(){return no>0?ar[--no]:new sS}function Bg(s){ar[no++]=s}let Za=0;const wy=class Ty{constructor(t){this.uid=Qt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...Ty.defaultOptions,...t},t.maxTextures||(dt("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=iS());const{maxTextures:n,attributesInitialSize:r,indicesInitialSize:o}=t;this.attributeBuffer=new Cg(r*4),this.indexBuffer=new Uint16Array(o),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)Bg(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,n){const r=t._batch.textures.ids[n._source.uid];return!r&&r!==0?!1:(t._textureId=r,t.texture=n,!0)}updateElement(t){this.dirty=!0;const n=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId)}break(t){const n=this._elements;if(!n[this.elementStart])return;let r=Rg(),o=r.textures;o.clear();const u=n[this.elementStart];let c=zg(u.blendMode,u.texture._source),f=u.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const m=this.attributeBuffer.float32View,p=this.attributeBuffer.uint32View,g=this.indexBuffer;let x=this._batchIndexSize,_=this._batchIndexStart,b="startBatch";const A=this.maxTextures;for(let w=this.elementStart;w<this.elementSize;++w){const S=n[w];n[w]=null;const C=S.texture._source,R=zg(S.blendMode,C),N=c!==R||f!==S.topology;if(C._batchTick===Za&&!N){S._textureId=C._textureBindLocation,x+=S.indexSize,S.packAsQuad?(this.packQuadAttributes(S,m,p,S._attributeStart,S._textureId),this.packQuadIndex(g,S._indexStart,S._attributeStart/this.vertexSize)):(this.packAttributes(S,m,p,S._attributeStart,S._textureId),this.packIndex(S,g,S._indexStart,S._attributeStart/this.vertexSize)),S._batch=r;continue}C._batchTick=Za,(o.count>=A||N)&&(this._finishBatch(r,_,x-_,o,c,f,t,b),b="renderBatch",_=x,c=R,f=S.topology,r=Rg(),o=r.textures,o.clear(),++Za),S._textureId=C._textureBindLocation=o.count,o.ids[C.uid]=o.count,o.textures[o.count++]=C,S._batch=r,x+=S.indexSize,S.packAsQuad?(this.packQuadAttributes(S,m,p,S._attributeStart,S._textureId),this.packQuadIndex(g,S._indexStart,S._attributeStart/this.vertexSize)):(this.packAttributes(S,m,p,S._attributeStart,S._textureId),this.packIndex(S,g,S._indexStart,S._attributeStart/this.vertexSize))}o.count>0&&(this._finishBatch(r,_,x-_,o,c,f,t,b),_=x,++Za),this.elementStart=this.elementSize,this._batchIndexStart=_,this._batchIndexSize=x}_finishBatch(t,n,r,o,u,c,f,m){t.gpuBindGroup=null,t.bindGroup=null,t.action=m,t.batcher=this,t.textures=o,t.blendMode=u,t.topology=c,t.start=n,t.size=r,++Za,this.batches[this.batchIndex++]=t,f.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const n=Math.max(t,this.attributeBuffer.size*2),r=new Cg(n);Eg(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(t){const n=this.indexBuffer;let r=Math.max(t,n.length*1.5);r+=r%2;const o=r>65535?new Uint32Array(r):new Uint16Array(r);if(o.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let u=0;u<n.length;u++)o[u]=n[u];else Eg(n.buffer,o.buffer);this.indexBuffer=o}packQuadIndex(t,n,r){t[n]=r+0,t[n+1]=r+1,t[n+2]=r+2,t[n+3]=r+0,t[n+4]=r+2,t[n+5]=r+3}packIndex(t,n,r,o){const u=t.indices,c=t.indexSize,f=t.indexOffset,m=t.attributeOffset;for(let p=0;p<c;p++)n[r++]=o+u[p+f]-m}destroy(t={}){if(this.batches!==null){for(let n=0;n<this.batches.length;n++)Bg(this.batches[n]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,t.shader&&(this.shader?.destroy(),this.shader=null);for(let n=0;n<this._elements.length;n++)this._elements[n]&&(this._elements[n]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};wy.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let aS=wy;var Ee=(s=>(s[s.MAP_READ=1]="MAP_READ",s[s.MAP_WRITE=2]="MAP_WRITE",s[s.COPY_SRC=4]="COPY_SRC",s[s.COPY_DST=8]="COPY_DST",s[s.INDEX=16]="INDEX",s[s.VERTEX=32]="VERTEX",s[s.UNIFORM=64]="UNIFORM",s[s.STORAGE=128]="STORAGE",s[s.INDIRECT=256]="INDIRECT",s[s.QUERY_RESOLVE=512]="QUERY_RESOLVE",s[s.STATIC=1024]="STATIC",s))(Ee||{});class cr extends ci{constructor(t){let{data:n,size:r}=t;const{usage:o,label:u,shrinkToFit:c}=t;super(),this.uid=Qt("buffer"),this._resourceType="buffer",this._resourceId=Qt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,r??(r=n?.byteLength);const f=!!n;this.descriptor={size:r,usage:o,mappedAtCreation:f,label:u},this.shrinkToFit=c??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Ee.STATIC)}set static(t){t?this.descriptor.usage|=Ee.STATIC:this.descriptor.usage&=~Ee.STATIC}setDataWithSize(t,n,r){if(this._updateID++,this._updateSize=n*t.BYTES_PER_ELEMENT,this._data===t){r&&this.emit("update",this);return}const o=this._data;if(this._data=t,this._dataInt32=null,!o||o.length!==t.length){!this.shrinkToFit&&o&&t.byteLength<o.byteLength?r&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Qt("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function My(s,t){if(!(s instanceof cr)){let n=t?Ee.INDEX:Ee.VERTEX;s instanceof Array&&(t?(s=new Uint32Array(s),n=Ee.INDEX|Ee.COPY_DST):(s=new Float32Array(s),n=Ee.VERTEX|Ee.COPY_DST)),s=new cr({data:s,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return s}function rS(s,t,n){const r=s.getAttribute(t);if(!r)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const o=r.buffer.data;let u=1/0,c=1/0,f=-1/0,m=-1/0;const p=o.BYTES_PER_ELEMENT,g=(r.offset||0)/p,x=(r.stride||8)/p;for(let _=g;_<o.length;_+=x){const b=o[_],A=o[_+1];b>f&&(f=b),A>m&&(m=A),b<u&&(u=b),A<c&&(c=A)}return n.minX=u,n.minY=c,n.maxX=f,n.maxY=m,n}function lS(s){return(s instanceof cr||Array.isArray(s)||s.BYTES_PER_ELEMENT)&&(s={buffer:s}),s.buffer=My(s.buffer,!1),s}class oS extends ci{constructor(t={}){super(),this.uid=Qt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new ui,this._boundsDirty=!0;const{attributes:n,indexBuffer:r,topology:o}=t;if(this.buffers=[],this.attributes={},n)for(const u in n)this.addAttribute(u,n[u]);this.instanceCount=t.instanceCount??1,r&&this.addIndex(r),this.topology=o||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const n=this.attributes[t];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(t,n){const r=lS(n);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=r}addIndex(t){this.indexBuffer=My(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,rS(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(n=>n.destroy()),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const uS=new Float32Array(1),cS=new Uint32Array(1);class hS extends oS{constructor(){const n=new cr({data:uS,label:"attribute-batch-buffer",usage:Ee.VERTEX|Ee.COPY_DST,shrinkToFit:!1}),r=new cr({data:cS,label:"index-batch-buffer",usage:Ee.INDEX|Ee.COPY_DST,shrinkToFit:!1}),o=24;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:o,offset:0},aUV:{buffer:n,format:"float32x2",stride:o,offset:8},aColor:{buffer:n,format:"unorm8x4",stride:o,offset:16},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:o,offset:20}},indexBuffer:r})}}function Og(s,t,n){if(s)for(const r in s){const o=r.toLocaleLowerCase(),u=t[o];if(u){let c=s[r];r==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&u.push(`//----${n}----//`),u.push(c)}else Yt(`${r} placement hook does not exist in shader`)}}const fS=/\{\{(.*?)\}\}/g;function Ng(s){const t={};return(s.match(fS)?.map(r=>r.replace(/[{()}]/g,""))??[]).forEach(r=>{t[r]=[]}),t}function Dg(s,t){let n;const r=/@in\s+([^;]+);/g;for(;(n=r.exec(s))!==null;)t.push(n[1])}function Ug(s,t,n=!1){const r=[];Dg(t,r),s.forEach(f=>{f.header&&Dg(f.header,r)});const o=r;n&&o.sort();const u=o.map((f,m)=>`       @location(${m}) ${f},`).join(`
`);let c=t.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${u}
`),c}function kg(s,t){let n;const r=/@out\s+([^;]+);/g;for(;(n=r.exec(s))!==null;)t.push(n[1])}function dS(s){const n=/\b(\w+)\s*:/g.exec(s);return n?n[1]:""}function mS(s){const t=/@.*?\s+/g;return s.replace(t,"")}function pS(s,t){const n=[];kg(t,n),s.forEach(m=>{m.header&&kg(m.header,n)});let r=0;const o=n.sort().map(m=>m.indexOf("builtin")>-1?m:`@location(${r++}) ${m}`).join(`,
`),u=n.sort().map(m=>`       var ${mS(m)};`).join(`
`),c=`return VSOutput(
            ${n.sort().map(m=>` ${dS(m)}`).join(`,
`)});`;let f=t.replace(/@out\s+[^;]+;\s*/g,"");return f=f.replace("{{struct}}",`
${o}
`),f=f.replace("{{start}}",`
${u}
`),f=f.replace("{{return}}",`
${c}
`),f}function Gg(s,t){let n=s;for(const r in t){const o=t[r];o.join(`
`).length?n=n.replace(`{{${r}}}`,`//-----${r} START-----//
${o.join(`
`)}
//----${r} FINISH----//`):n=n.replace(`{{${r}}}`,"")}return n}const bn=Object.create(null),Zc=new Map;let gS=0;function yS({template:s,bits:t}){const n=Cy(s,t);if(bn[n])return bn[n];const{vertex:r,fragment:o}=_S(s,t);return bn[n]=Ey(r,o,t),bn[n]}function xS({template:s,bits:t}){const n=Cy(s,t);return bn[n]||(bn[n]=Ey(s.vertex,s.fragment,t)),bn[n]}function _S(s,t){const n=t.map(c=>c.vertex).filter(c=>!!c),r=t.map(c=>c.fragment).filter(c=>!!c);let o=Ug(n,s.vertex,!0);o=pS(n,o);const u=Ug(r,s.fragment,!0);return{vertex:o,fragment:u}}function Cy(s,t){return t.map(n=>(Zc.has(n)||Zc.set(n,gS++),Zc.get(n))).sort((n,r)=>n-r).join("-")+s.vertex+s.fragment}function Ey(s,t,n){const r=Ng(s),o=Ng(t);return n.forEach(u=>{Og(u.vertex,r,u.name),Og(u.fragment,o,u.name)}),{vertex:Gg(s,r),fragment:Gg(t,o)}}const bS=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,vS=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,SS=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,AS=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,wS={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},TS={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function MS({bits:s,name:t}){const n=yS({template:{fragment:vS,vertex:bS},bits:[wS,...s]});return lo.from({name:t,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function CS({bits:s,name:t}){return new sy({name:t,...xS({template:{vertex:SS,fragment:AS},bits:[TS,...s]})})}const ES={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},zS={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Wc={};function RS(s){const t=[];if(s===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<s;r++)t.push(`@group(1) @binding(${n++}) var textureSource${r+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${n++}) var textureSampler${r+1}: sampler;`)}return t.join(`
`)}function BS(s){const t=[];if(s===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let n=0;n<s;n++)n===s-1?t.push("  default:{"):t.push(`  case ${n}:{`),t.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function OS(s){return Wc[s]||(Wc[s]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${RS(s)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${BS(s)}
            `}}),Wc[s]}const Kc={};function NS(s){const t=[];for(let n=0;n<s;n++)n>0&&t.push("else"),n<s-1&&t.push(`if(vTextureId < ${n}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${n}], vUV);`),t.push("}");return t.join(`
`)}function DS(s){return Kc[s]||(Kc[s]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${s}];

            `,main:`

                ${NS(s)}
            `}}),Kc[s]}const US={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},kS={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Lg={};function GS(s){let t=Lg[s];if(t)return t;const n=new Int32Array(s);for(let r=0;r<s;r++)n[r]=r;return t=Lg[s]=new oy({uTextures:{value:n,type:"i32",size:s}},{isStatic:!0}),t}class jg extends Eh{constructor(t){const n=CS({name:"batch",bits:[zS,DS(t),kS]}),r=MS({name:"batch",bits:[ES,OS(t),US]});super({glProgram:n,gpuProgram:r,resources:{batchSamplers:GS(t)}}),this.maxTextures=t}}let Wa=null;const zy=class Ry extends aS{constructor(t){super(t),this.geometry=new hS,this.name=Ry.extension.name,this.vertexSize=6,Wa??(Wa=new jg(t.maxTextures)),this.shader=Wa}packAttributes(t,n,r,o,u){const c=u<<16|t.roundPixels&65535,f=t.transform,m=f.a,p=f.b,g=f.c,x=f.d,_=f.tx,b=f.ty,{positions:A,uvs:w}=t,S=t.color,M=t.attributeOffset,C=M+t.attributeSize;for(let R=M;R<C;R++){const N=R*2,F=A[N],q=A[N+1];n[o++]=m*F+g*q+_,n[o++]=x*q+p*F+b,n[o++]=w[N],n[o++]=w[N+1],r[o++]=S,r[o++]=c}}packQuadAttributes(t,n,r,o,u){const c=t.texture,f=t.transform,m=f.a,p=f.b,g=f.c,x=f.d,_=f.tx,b=f.ty,A=t.bounds,w=A.maxX,S=A.minX,M=A.maxY,C=A.minY,R=c.uvs,N=t.color,F=u<<16|t.roundPixels&65535;n[o+0]=m*S+g*C+_,n[o+1]=x*C+p*S+b,n[o+2]=R.x0,n[o+3]=R.y0,r[o+4]=N,r[o+5]=F,n[o+6]=m*w+g*C+_,n[o+7]=x*C+p*w+b,n[o+8]=R.x1,n[o+9]=R.y1,r[o+10]=N,r[o+11]=F,n[o+12]=m*w+g*M+_,n[o+13]=x*M+p*w+b,n[o+14]=R.x2,n[o+15]=R.y2,r[o+16]=N,r[o+17]=F,n[o+18]=m*S+g*M+_,n[o+19]=x*M+p*S+b,n[o+20]=R.x3,n[o+21]=R.y3,r[o+22]=N,r[o+23]=F}_updateMaxTextures(t){this.shader.maxTextures!==t&&(Wa=new jg(t),this.shader=Wa)}destroy(){this.shader=null,super.destroy()}};zy.extension={type:[st.Batcher],name:"default"};let LS=zy;function jS(s,t,n,r,o,u,c,f=null){let m=0;n*=t,o*=u;const p=f.a,g=f.b,x=f.c,_=f.d,b=f.tx,A=f.ty;for(;m<c;){const w=s[n],S=s[n+1];r[o]=p*w+x*S+b,r[o+1]=g*w+_*S+A,o+=u,n+=t,m++}}function HS(s,t,n,r){let o=0;for(t*=n;o<r;)s[t]=0,s[t+1]=0,t+=n,o++}function By(s,t,n,r,o){const u=t.a,c=t.b,f=t.c,m=t.d,p=t.tx,g=t.ty;n||(n=0),r||(r=2),o||(o=s.length/r-n);let x=n*r;for(let _=0;_<o;_++){const b=s[x],A=s[x+1];s[x]=u*b+f*A+p,s[x+1]=c*b+m*A+g,x+=r}}const YS=new _t;class Oy{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,n=t>>16|t&65280|(t&255)<<16,r=this.renderable;return r?k0(n,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||YS}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const hr={extension:{type:st.ShapeBuilder,name:"circle"},build(s,t){let n,r,o,u,c,f;if(s.type==="circle"){const N=s;if(c=f=N.radius,c<=0)return!1;n=N.x,r=N.y,o=u=0}else if(s.type==="ellipse"){const N=s;if(c=N.halfWidth,f=N.halfHeight,c<=0||f<=0)return!1;n=N.x,r=N.y,o=u=0}else{const N=s,F=N.width/2,q=N.height/2;n=N.x+F,r=N.y+q,c=f=Math.max(0,Math.min(N.radius,Math.min(F,q))),o=F-c,u=q-f}if(o<0||u<0)return!1;const m=Math.ceil(2.3*Math.sqrt(c+f)),p=m*8+(o?4:0)+(u?4:0);if(p===0)return!1;if(m===0)return t[0]=t[6]=n+o,t[1]=t[3]=r+u,t[2]=t[4]=n-o,t[5]=t[7]=r-u,!0;let g=0,x=m*4+(o?2:0)+2,_=x,b=p,A=o+c,w=u,S=n+A,M=n-A,C=r+w;if(t[g++]=S,t[g++]=C,t[--x]=C,t[--x]=M,u){const N=r-w;t[_++]=M,t[_++]=N,t[--b]=N,t[--b]=S}for(let N=1;N<m;N++){const F=Math.PI/2*(N/m),q=o+Math.cos(F)*c,L=u+Math.sin(F)*f,W=n+q,Q=n-q,Z=r+L,K=r-L;t[g++]=W,t[g++]=Z,t[--x]=Z,t[--x]=Q,t[_++]=Q,t[_++]=K,t[--b]=K,t[--b]=W}A=o,w=u+f,S=n+A,M=n-A,C=r+w;const R=r-w;return t[g++]=S,t[g++]=C,t[--b]=R,t[--b]=S,o&&(t[g++]=M,t[g++]=C,t[--b]=R,t[--b]=M),!0},triangulate(s,t,n,r,o,u){if(s.length===0)return;let c=0,f=0;for(let g=0;g<s.length;g+=2)c+=s[g],f+=s[g+1];c/=s.length/2,f/=s.length/2;let m=r;t[m*n]=c,t[m*n+1]=f;const p=m++;for(let g=0;g<s.length;g+=2)t[m*n]=s[g],t[m*n+1]=s[g+1],g>0&&(o[u++]=m,o[u++]=p,o[u++]=m-1),m++;o[u++]=p+1,o[u++]=p,o[u++]=m-1}},XS={...hr,extension:{...hr.extension,name:"ellipse"}},qS={...hr,extension:{...hr.extension,name:"roundedRectangle"}},Ny=1e-4,Hg=1e-4;function VS(s){const t=s.length;if(t<6)return 1;let n=0;for(let r=0,o=s[t-2],u=s[t-1];r<t;r+=2){const c=s[r],f=s[r+1];n+=(c-o)*(f+u),o=c,u=f}return n<0?-1:1}function Yg(s,t,n,r,o,u,c,f){const m=s-n*o,p=t-r*o,g=s+n*u,x=t+r*u;let _,b;c?(_=r,b=-n):(_=-r,b=n);const A=m+_,w=p+b,S=g+_,M=x+b;return f.push(A,w),f.push(S,M),2}function Yn(s,t,n,r,o,u,c,f){const m=n-s,p=r-t;let g=Math.atan2(m,p),x=Math.atan2(o-s,u-t);f&&g<x?g+=Math.PI*2:!f&&g>x&&(x+=Math.PI*2);let _=g;const b=x-g,A=Math.abs(b),w=Math.sqrt(m*m+p*p),S=(15*A*Math.sqrt(w)/Math.PI>>0)+1,M=b/S;if(_+=M,f){c.push(s,t),c.push(n,r);for(let C=1,R=_;C<S;C++,R+=M)c.push(s,t),c.push(s+Math.sin(R)*w,t+Math.cos(R)*w);c.push(s,t),c.push(o,u)}else{c.push(n,r),c.push(s,t);for(let C=1,R=_;C<S;C++,R+=M)c.push(s+Math.sin(R)*w,t+Math.cos(R)*w),c.push(s,t);c.push(o,u),c.push(s,t)}return S*2}function PS(s,t,n,r,o,u){const c=Ny;if(s.length===0)return;const f=t;let m=f.alignment;if(t.alignment!==.5){let et=VS(s);m=(m-.5)*et+.5}const p=new ye(s[0],s[1]),g=new ye(s[s.length-2],s[s.length-1]),x=r,_=Math.abs(p.x-g.x)<c&&Math.abs(p.y-g.y)<c;if(x){s=s.slice(),_&&(s.pop(),s.pop(),g.set(s[s.length-2],s[s.length-1]));const et=(p.x+g.x)*.5,gt=(g.y+p.y)*.5;s.unshift(et,gt),s.push(et,gt)}const b=o,A=s.length/2;let w=s.length;const S=b.length/2,M=f.width/2,C=M*M,R=f.miterLimit*f.miterLimit;let N=s[0],F=s[1],q=s[2],L=s[3],W=0,Q=0,Z=-(F-L),K=N-q,ht=0,vt=0,At=Math.sqrt(Z*Z+K*K);Z/=At,K/=At,Z*=M,K*=M;const se=m,B=(1-se)*2,Y=se*2;x||(f.cap==="round"?w+=Yn(N-Z*(B-Y)*.5,F-K*(B-Y)*.5,N-Z*B,F-K*B,N+Z*Y,F+K*Y,b,!0)+2:f.cap==="square"&&(w+=Yg(N,F,Z,K,B,Y,!0,b))),b.push(N-Z*B,F-K*B),b.push(N+Z*Y,F+K*Y);for(let et=1;et<A-1;++et){N=s[(et-1)*2],F=s[(et-1)*2+1],q=s[et*2],L=s[et*2+1],W=s[(et+1)*2],Q=s[(et+1)*2+1],Z=-(F-L),K=N-q,At=Math.sqrt(Z*Z+K*K),Z/=At,K/=At,Z*=M,K*=M,ht=-(L-Q),vt=q-W,At=Math.sqrt(ht*ht+vt*vt),ht/=At,vt/=At,ht*=M,vt*=M;const gt=q-N,z=F-L,V=q-W,I=Q-L,$=gt*V+z*I,lt=z*V-I*gt,ut=lt<0;if(Math.abs(lt)<.001*Math.abs($)){b.push(q-Z*B,L-K*B),b.push(q+Z*Y,L+K*Y),$>=0&&(f.join==="round"?w+=Yn(q,L,q-Z*B,L-K*B,q-ht*B,L-vt*B,b,!1)+4:w+=2,b.push(q-ht*Y,L-vt*Y),b.push(q+ht*B,L+vt*B));continue}const wt=(-Z+N)*(-K+L)-(-Z+q)*(-K+F),ae=(-ht+W)*(-vt+L)-(-ht+q)*(-vt+Q),kt=(gt*ae-V*wt)/lt,di=(I*wt-z*ae)/lt,Fi=(kt-q)*(kt-q)+(di-L)*(di-L),ei=q+(kt-q)*B,mi=L+(di-L)*B,xe=q-(kt-q)*Y,ii=L-(di-L)*Y,Ws=Math.min(gt*gt+z*z,V*V+I*I),mr=ut?B:Y,pr=Ws+mr*mr*C;Fi<=pr?f.join==="bevel"||Fi/C>R?(ut?(b.push(ei,mi),b.push(q+Z*Y,L+K*Y),b.push(ei,mi),b.push(q+ht*Y,L+vt*Y)):(b.push(q-Z*B,L-K*B),b.push(xe,ii),b.push(q-ht*B,L-vt*B),b.push(xe,ii)),w+=2):f.join==="round"?ut?(b.push(ei,mi),b.push(q+Z*Y,L+K*Y),w+=Yn(q,L,q+Z*Y,L+K*Y,q+ht*Y,L+vt*Y,b,!0)+4,b.push(ei,mi),b.push(q+ht*Y,L+vt*Y)):(b.push(q-Z*B,L-K*B),b.push(xe,ii),w+=Yn(q,L,q-Z*B,L-K*B,q-ht*B,L-vt*B,b,!1)+4,b.push(q-ht*B,L-vt*B),b.push(xe,ii)):(b.push(ei,mi),b.push(xe,ii)):(b.push(q-Z*B,L-K*B),b.push(q+Z*Y,L+K*Y),f.join==="round"?ut?w+=Yn(q,L,q+Z*Y,L+K*Y,q+ht*Y,L+vt*Y,b,!0)+2:w+=Yn(q,L,q-Z*B,L-K*B,q-ht*B,L-vt*B,b,!1)+2:f.join==="miter"&&Fi/C<=R&&(ut?(b.push(xe,ii),b.push(xe,ii)):(b.push(ei,mi),b.push(ei,mi)),w+=2),b.push(q-ht*B,L-vt*B),b.push(q+ht*Y,L+vt*Y),w+=2)}N=s[(A-2)*2],F=s[(A-2)*2+1],q=s[(A-1)*2],L=s[(A-1)*2+1],Z=-(F-L),K=N-q,At=Math.sqrt(Z*Z+K*K),Z/=At,K/=At,Z*=M,K*=M,b.push(q-Z*B,L-K*B),b.push(q+Z*Y,L+K*Y),x||(f.cap==="round"?w+=Yn(q-Z*(B-Y)*.5,L-K*(B-Y)*.5,q-Z*B,L-K*B,q+Z*Y,L+K*Y,b,!1)+2:f.cap==="square"&&(w+=Yg(q,L,Z,K,B,Y,!1,b)));const at=Hg*Hg;for(let et=S;et<w+S-2;++et)N=b[et*2],F=b[et*2+1],q=b[(et+1)*2],L=b[(et+1)*2+1],W=b[(et+2)*2],Q=b[(et+2)*2+1],!(Math.abs(N*(L-Q)+q*(Q-F)+W*(F-L))<at)&&u.push(et,et+1,et+2)}function FS(s,t,n,r){const o=Ny;if(s.length===0)return;const u=s[0],c=s[1],f=s[s.length-2],m=s[s.length-1],p=t||Math.abs(u-f)<o&&Math.abs(c-m)<o,g=n,x=s.length/2,_=g.length/2;for(let b=0;b<x;b++)g.push(s[b*2]),g.push(s[b*2+1]);for(let b=0;b<x-1;b++)r.push(_+b,_+b+1);p&&r.push(_+x-1,_)}function Dy(s,t,n,r,o,u,c){const f=O1(s,t,2);if(!f)return;for(let p=0;p<f.length;p+=3)u[c++]=f[p]+o,u[c++]=f[p+1]+o,u[c++]=f[p+2]+o;let m=o*r;for(let p=0;p<s.length;p+=2)n[m]=s[p],n[m+1]=s[p+1],m+=r}const IS=[],QS={extension:{type:st.ShapeBuilder,name:"polygon"},build(s,t){for(let n=0;n<s.points.length;n++)t[n]=s.points[n];return!0},triangulate(s,t,n,r,o,u){Dy(s,IS,t,n,r,o,u)}},ZS={extension:{type:st.ShapeBuilder,name:"rectangle"},build(s,t){const n=s,r=n.x,o=n.y,u=n.width,c=n.height;return u>0&&c>0?(t[0]=r,t[1]=o,t[2]=r+u,t[3]=o,t[4]=r+u,t[5]=o+c,t[6]=r,t[7]=o+c,!0):!1},triangulate(s,t,n,r,o,u){let c=0;r*=n,t[r+c]=s[0],t[r+c+1]=s[1],c+=n,t[r+c]=s[2],t[r+c+1]=s[3],c+=n,t[r+c]=s[6],t[r+c+1]=s[7],c+=n,t[r+c]=s[4],t[r+c+1]=s[5],c+=n;const f=r/n;o[u++]=f,o[u++]=f+1,o[u++]=f+2,o[u++]=f+1,o[u++]=f+3,o[u++]=f+2}},WS={extension:{type:st.ShapeBuilder,name:"triangle"},build(s,t){return t[0]=s.x,t[1]=s.y,t[2]=s.x2,t[3]=s.y2,t[4]=s.x3,t[5]=s.y3,!0},triangulate(s,t,n,r,o,u){let c=0;r*=n,t[r+c]=s[0],t[r+c+1]=s[1],c+=n,t[r+c]=s[2],t[r+c+1]=s[3],c+=n,t[r+c]=s[4],t[r+c+1]=s[5];const f=r/n;o[u++]=f,o[u++]=f+1,o[u++]=f+2}},KS=new _t,$S=new qt;function JS(s,t,n,r){const o=t.matrix?s.copyFrom(t.matrix).invert():s.identity();if(t.textureSpace==="local"){const c=n.getBounds($S);t.width&&c.pad(t.width);const{x:f,y:m}=c,p=1/c.width,g=1/c.height,x=-f*p,_=-m*g,b=o.a,A=o.b,w=o.c,S=o.d;o.a*=p,o.b*=p,o.c*=g,o.d*=g,o.tx=x*b+_*w+o.tx,o.ty=x*A+_*S+o.ty}else o.translate(t.texture.frame.x,t.texture.frame.y),o.scale(1/t.texture.source.width,1/t.texture.source.height);const u=t.texture.source.style;return!(t.fill instanceof Pi)&&u.addressMode==="clamp-to-edge"&&(u.addressMode="repeat",u.update()),r&&o.append(KS.copyFrom(r).invert()),o}const uo={};pe.handleByMap(st.ShapeBuilder,uo);pe.add(ZS,QS,WS,hr,XS,qS);const tA=new qt,eA=new _t;function iA(s,t){const{geometryData:n,batches:r}=t;r.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let o=0;o<s.instructions.length;o++){const u=s.instructions[o];if(u.action==="texture")nA(u.data,r,n);else if(u.action==="fill"||u.action==="stroke"){const c=u.action==="stroke",f=u.data.path.shapePath,m=u.data.style,p=u.data.hole;c&&p&&Xg(p.shapePath,m,!0,r,n),p&&(f.shapePrimitives[f.shapePrimitives.length-1].holes=p.shapePath.shapePrimitives),Xg(f,m,c,r,n)}}}function nA(s,t,n){const r=[],o=uo.rectangle,u=tA;u.x=s.dx,u.y=s.dy,u.width=s.dw,u.height=s.dh;const c=s.transform;if(!o.build(u,r))return;const{vertices:f,uvs:m,indices:p}=n,g=p.length,x=f.length/2;c&&By(r,c),o.triangulate(r,f,2,x,p,g);const _=s.image,b=_.uvs;m.push(b.x0,b.y0,b.x1,b.y1,b.x3,b.y3,b.x2,b.y2);const A=ti.get(Oy);A.indexOffset=g,A.indexSize=p.length-g,A.attributeOffset=x,A.attributeSize=f.length/2-x,A.baseColor=s.style,A.alpha=s.alpha,A.texture=_,A.geometryData=n,t.push(A)}function Xg(s,t,n,r,o){const{vertices:u,uvs:c,indices:f}=o;s.shapePrimitives.forEach(({shape:m,transform:p,holes:g})=>{const x=[],_=uo[m.type];if(!_.build(m,x))return;const b=f.length,A=u.length/2;let w="triangle-list";if(p&&By(x,p),n){const R=m.closePath??!0,N=t;N.pixelLine?(FS(x,R,u,f),w="line-list"):PS(x,N,!1,R,u,f)}else if(g){const R=[],N=x.slice();sA(g).forEach(q=>{R.push(N.length/2),N.push(...q)}),Dy(N,R,u,2,A,f,b)}else _.triangulate(x,u,2,A,f,b);const S=c.length/2,M=t.texture;if(M!==St.WHITE){const R=JS(eA,t,m,p);jS(u,2,A,c,S,2,u.length/2-A,R)}else HS(c,S,2,u.length/2-A);const C=ti.get(Oy);C.indexOffset=b,C.indexSize=f.length-b,C.attributeOffset=A,C.attributeSize=u.length/2-A,C.baseColor=t.color,C.alpha=t.alpha,C.texture=M,C.geometryData=o,C.topology=w,r.push(C)})}function sA(s){const t=[];for(let n=0;n<s.length;n++){const r=s[n].shape,o=[];uo[r.type].build(r,o)&&t.push(o)}return t}class aA{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class rA{constructor(){this.instructions=new H0}init(t){const n=t.maxTextures;this.batcher?this.batcher._updateMaxTextures(n):this.batcher=new LS({maxTextures:n}),this.instructions.reset()}get geometry(){return dt(nv,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const Nh=class _h{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){_h.defaultOptions.bezierSmoothness=t?.bezierSmoothness??_h.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let n=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){n?this._cleanGraphicsContextData(t):n=this._initContext(t),iA(t,n);const r=t.batchMode;t.customShader||r==="no-batch"?n.isBatchable=!1:r==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,t.dirty=!1}return n}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const n=ti.get(rA,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:r,geometryData:o}=this._gpuContextHash[t.uid],u=o.vertices.length,c=o.indices.length;for(let g=0;g<r.length;g++)r[g].applyTransform=!1;const f=n.batcher;f.ensureAttributeBuffer(u),f.ensureIndexBuffer(c),f.begin();for(let g=0;g<r.length;g++){const x=r[g];f.add(x)}f.finish(n.instructions);const m=f.geometry;m.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),m.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const p=f.batches;for(let g=0;g<p.length;g++){const x=p[g];x.bindGroup=Z1(x.textures.textures,x.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[t.uid]=n,n}_initContext(t){const n=new aA;return n.context=t,this._gpuContextHash[t.uid]=n,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const n=this._gpuContextHash[t.uid];n.isBatchable||this._graphicsDataContextHash[t.uid]&&(ti.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),n.batches&&n.batches.forEach(r=>{ti.return(r)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};Nh.extension={type:[st.WebGLSystem,st.WebGPUSystem,st.CanvasSystem],name:"graphicsContext"};Nh.defaultOptions={bezierSmoothness:.5};let Uy=Nh;const lA=8,Ql=11920929e-14,oA=1;function ky(s,t,n,r,o,u,c,f,m,p){const x=Math.min(.99,Math.max(0,p??Uy.defaultOptions.bezierSmoothness));let _=(oA-x)/1;return _*=_,uA(t,n,r,o,u,c,f,m,s,_),s}function uA(s,t,n,r,o,u,c,f,m,p){bh(s,t,n,r,o,u,c,f,m,p,0),m.push(c,f)}function bh(s,t,n,r,o,u,c,f,m,p,g){if(g>lA)return;const x=(s+n)/2,_=(t+r)/2,b=(n+o)/2,A=(r+u)/2,w=(o+c)/2,S=(u+f)/2,M=(x+b)/2,C=(_+A)/2,R=(b+w)/2,N=(A+S)/2,F=(M+R)/2,q=(C+N)/2;if(g>0){let L=c-s,W=f-t;const Q=Math.abs((n-c)*W-(r-f)*L),Z=Math.abs((o-c)*W-(u-f)*L);if(Q>Ql&&Z>Ql){if((Q+Z)*(Q+Z)<=p*(L*L+W*W)){m.push(F,q);return}}else if(Q>Ql){if(Q*Q<=p*(L*L+W*W)){m.push(F,q);return}}else if(Z>Ql){if(Z*Z<=p*(L*L+W*W)){m.push(F,q);return}}else if(L=F-(s+c)/2,W=q-(t+f)/2,L*L+W*W<=p){m.push(F,q);return}}bh(s,t,x,_,M,C,F,q,m,p,g+1),bh(F,q,R,N,w,S,c,f,m,p,g+1)}const cA=8,hA=11920929e-14,fA=1;function dA(s,t,n,r,o,u,c,f){const p=Math.min(.99,Math.max(0,f??Uy.defaultOptions.bezierSmoothness));let g=(fA-p)/1;return g*=g,mA(t,n,r,o,u,c,s,g),s}function mA(s,t,n,r,o,u,c,f){vh(c,s,t,n,r,o,u,f,0),c.push(o,u)}function vh(s,t,n,r,o,u,c,f,m){if(m>cA)return;const p=(t+r)/2,g=(n+o)/2,x=(r+u)/2,_=(o+c)/2,b=(p+x)/2,A=(g+_)/2;let w=u-t,S=c-n;const M=Math.abs((r-u)*S-(o-c)*w);if(M>hA){if(M*M<=f*(w*w+S*S)){s.push(b,A);return}}else if(w=b-(t+u)/2,S=A-(n+c)/2,w*w+S*S<=f){s.push(b,A);return}vh(s,t,n,p,g,b,A,f,m+1),vh(s,b,A,x,_,u,c,f,m+1)}function Gy(s,t,n,r,o,u,c,f){let m=Math.abs(o-u);(!c&&o>u||c&&u>o)&&(m=2*Math.PI-m),f||(f=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(m/Math.PI)))),f=Math.max(f,3);let p=m/f,g=o;p*=c?-1:1;for(let x=0;x<f+1;x++){const _=Math.cos(g),b=Math.sin(g),A=t+_*r,w=n+b*r;s.push(A,w),g+=p}}function pA(s,t,n,r,o,u){const c=s[s.length-2],m=s[s.length-1]-n,p=c-t,g=o-n,x=r-t,_=Math.abs(m*x-p*g);if(_<1e-8||u===0){(s[s.length-2]!==t||s[s.length-1]!==n)&&s.push(t,n);return}const b=m*m+p*p,A=g*g+x*x,w=m*g+p*x,S=u*Math.sqrt(b)/_,M=u*Math.sqrt(A)/_,C=S*w/b,R=M*w/A,N=S*x+M*p,F=S*g+M*m,q=p*(M+C),L=m*(M+C),W=x*(S+R),Q=g*(S+R),Z=Math.atan2(L-F,q-N),K=Math.atan2(Q-F,W-N);Gy(s,N+t,F+n,u,Z,K,p*g>x*m)}const rr=Math.PI*2,$c={centerX:0,centerY:0,ang1:0,ang2:0},Jc=({x:s,y:t},n,r,o,u,c,f,m)=>{s*=n,t*=r;const p=o*s-u*t,g=u*s+o*t;return m.x=p+c,m.y=g+f,m};function gA(s,t){const n=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),r=t===1.5707963267948966?.551915024494:n,o=Math.cos(s),u=Math.sin(s),c=Math.cos(s+t),f=Math.sin(s+t);return[{x:o-u*r,y:u+o*r},{x:c+f*r,y:f-c*r},{x:c,y:f}]}const qg=(s,t,n,r)=>{const o=s*r-t*n<0?-1:1;let u=s*n+t*r;return u>1&&(u=1),u<-1&&(u=-1),o*Math.acos(u)},yA=(s,t,n,r,o,u,c,f,m,p,g,x,_)=>{const b=Math.pow(o,2),A=Math.pow(u,2),w=Math.pow(g,2),S=Math.pow(x,2);let M=b*A-b*S-A*w;M<0&&(M=0),M/=b*S+A*w,M=Math.sqrt(M)*(c===f?-1:1);const C=M*o/u*x,R=M*-u/o*g,N=p*C-m*R+(s+n)/2,F=m*C+p*R+(t+r)/2,q=(g-C)/o,L=(x-R)/u,W=(-g-C)/o,Q=(-x-R)/u,Z=qg(1,0,q,L);let K=qg(q,L,W,Q);f===0&&K>0&&(K-=rr),f===1&&K<0&&(K+=rr),_.centerX=N,_.centerY=F,_.ang1=Z,_.ang2=K};function xA(s,t,n,r,o,u,c,f=0,m=0,p=0){if(u===0||c===0)return;const g=Math.sin(f*rr/360),x=Math.cos(f*rr/360),_=x*(t-r)/2+g*(n-o)/2,b=-g*(t-r)/2+x*(n-o)/2;if(_===0&&b===0)return;u=Math.abs(u),c=Math.abs(c);const A=Math.pow(_,2)/Math.pow(u,2)+Math.pow(b,2)/Math.pow(c,2);A>1&&(u*=Math.sqrt(A),c*=Math.sqrt(A)),yA(t,n,r,o,u,c,m,p,g,x,_,b,$c);let{ang1:w,ang2:S}=$c;const{centerX:M,centerY:C}=$c;let R=Math.abs(S)/(rr/4);Math.abs(1-R)<1e-7&&(R=1);const N=Math.max(Math.ceil(R),1);S/=N;let F=s[s.length-2],q=s[s.length-1];const L={x:0,y:0};for(let W=0;W<N;W++){const Q=gA(w,S),{x:Z,y:K}=Jc(Q[0],u,c,x,g,M,C,L),{x:ht,y:vt}=Jc(Q[1],u,c,x,g,M,C,L),{x:At,y:se}=Jc(Q[2],u,c,x,g,M,C,L);ky(s,F,q,Z,K,ht,vt,At,se),F=At,q=se,w+=S}}function _A(s,t,n){const r=(c,f)=>{const m=f.x-c.x,p=f.y-c.y,g=Math.sqrt(m*m+p*p),x=m/g,_=p/g;return{len:g,nx:x,ny:_}},o=(c,f)=>{c===0?s.moveTo(f.x,f.y):s.lineTo(f.x,f.y)};let u=t[t.length-1];for(let c=0;c<t.length;c++){const f=t[c%t.length],m=f.radius??n;if(m<=0){o(c,f),u=f;continue}const p=t[(c+1)%t.length],g=r(f,u),x=r(f,p);if(g.len<1e-4||x.len<1e-4){o(c,f),u=f;continue}let _=Math.asin(g.nx*x.ny-g.ny*x.nx),b=1,A=!1;g.nx*x.nx-g.ny*-x.ny<0?_<0?_=Math.PI+_:(_=Math.PI-_,b=-1,A=!0):_>0&&(b=-1,A=!0);const w=_/2;let S,M=Math.abs(Math.cos(w)*m/Math.sin(w));M>Math.min(g.len/2,x.len/2)?(M=Math.min(g.len/2,x.len/2),S=Math.abs(M*Math.sin(w)/Math.cos(w))):S=m;const C=f.x+x.nx*M+-x.ny*S*b,R=f.y+x.ny*M+x.nx*S*b,N=Math.atan2(g.ny,g.nx)+Math.PI/2*b,F=Math.atan2(x.ny,x.nx)-Math.PI/2*b;c===0&&s.moveTo(C+Math.cos(N)*S,R+Math.sin(N)*S),s.arc(C,R,S,N,F,A),u=f}}function bA(s,t,n,r){const o=(f,m)=>Math.sqrt((f.x-m.x)**2+(f.y-m.y)**2),u=(f,m,p)=>({x:f.x+(m.x-f.x)*p,y:f.y+(m.y-f.y)*p}),c=t.length;for(let f=0;f<c;f++){const m=t[(f+1)%c],p=m.radius??n;if(p<=0){f===0?s.moveTo(m.x,m.y):s.lineTo(m.x,m.y);continue}const g=t[f],x=t[(f+2)%c],_=o(g,m);let b;if(_<1e-4)b=m;else{const S=Math.min(_/2,p);b=u(m,g,S/_)}const A=o(x,m);let w;if(A<1e-4)w=m;else{const S=Math.min(A/2,p);w=u(m,x,S/A)}f===0?s.moveTo(b.x,b.y):s.lineTo(b.x,b.y),s.quadraticCurveTo(m.x,m.y,w.x,w.y,r)}}const vA=new qt;class SA{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new ui,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,n){return this.startPoly(t,n),this}lineTo(t,n){this._ensurePoly();const r=this._currentPoly.points,o=r[r.length-2],u=r[r.length-1];return(o!==t||u!==n)&&r.push(t,n),this}arc(t,n,r,o,u,c){this._ensurePoly(!1);const f=this._currentPoly.points;return Gy(f,t,n,r,o,u,c),this}arcTo(t,n,r,o,u){this._ensurePoly();const c=this._currentPoly.points;return pA(c,t,n,r,o,u),this}arcToSvg(t,n,r,o,u,c,f){const m=this._currentPoly.points;return xA(m,this._currentPoly.lastX,this._currentPoly.lastY,c,f,t,n,r,o,u),this}bezierCurveTo(t,n,r,o,u,c,f){this._ensurePoly();const m=this._currentPoly;return ky(this._currentPoly.points,m.lastX,m.lastY,t,n,r,o,u,c,f),this}quadraticCurveTo(t,n,r,o,u){this._ensurePoly();const c=this._currentPoly;return dA(this._currentPoly.points,c.lastX,c.lastY,t,n,r,o,u),this}closePath(){return this.endPoly(!0),this}addPath(t,n){this.endPoly(),n&&!n.isIdentity()&&(t=t.clone(!0),t.transform(n));const r=this.shapePrimitives,o=r.length;for(let u=0;u<t.instructions.length;u++){const c=t.instructions[u];this[c.action](...c.data)}if(t.checkForHoles&&r.length-o>1){let u=null;for(let c=o;c<r.length;c++){const f=r[c];if(f.shape.type==="polygon"){const m=f.shape,p=u?.shape;p&&p.containsPolygon(m)?(u.holes||(u.holes=[]),u.holes.push(f),r.copyWithin(c,c+1),r.length--,c--):u=f}}}return this}finish(t=!1){this.endPoly(t)}rect(t,n,r,o,u){return this.drawShape(new qt(t,n,r,o),u),this}circle(t,n,r,o){return this.drawShape(new Rh(t,n,r),o),this}poly(t,n,r){const o=new sr(t);return o.closePath=n,this.drawShape(o,r),this}regularPoly(t,n,r,o,u=0,c){o=Math.max(o|0,3);const f=-1*Math.PI/2+u,m=Math.PI*2/o,p=[];for(let g=0;g<o;g++){const x=f-g*m;p.push(t+r*Math.cos(x),n+r*Math.sin(x))}return this.poly(p,!0,c),this}roundPoly(t,n,r,o,u,c=0,f){if(o=Math.max(o|0,3),u<=0)return this.regularPoly(t,n,r,o,c);const m=r*Math.sin(Math.PI/o)-.001;u=Math.min(u,m);const p=-1*Math.PI/2+c,g=Math.PI*2/o,x=(o-2)*Math.PI/o/2;for(let _=0;_<o;_++){const b=_*g+p,A=t+r*Math.cos(b),w=n+r*Math.sin(b),S=b+Math.PI+x,M=b-Math.PI-x,C=A+u*Math.cos(S),R=w+u*Math.sin(S),N=A+u*Math.cos(M),F=w+u*Math.sin(M);_===0?this.moveTo(C,R):this.lineTo(C,R),this.quadraticCurveTo(A,w,N,F,f)}return this.closePath()}roundShape(t,n,r=!1,o){return t.length<3?this:(r?bA(this,t,n,o):_A(this,t,n),this.closePath())}filletRect(t,n,r,o,u){if(u===0)return this.rect(t,n,r,o);const c=Math.min(r,o)/2,f=Math.min(c,Math.max(-c,u)),m=t+r,p=n+o,g=f<0?-f:0,x=Math.abs(f);return this.moveTo(t,n+x).arcTo(t+g,n+g,t+x,n,x).lineTo(m-x,n).arcTo(m-g,n+g,m,n+x,x).lineTo(m,p-x).arcTo(m-g,p-g,t+r-x,p,x).lineTo(t+x,p).arcTo(t+g,p-g,t,p-x,x).closePath()}chamferRect(t,n,r,o,u,c){if(u<=0)return this.rect(t,n,r,o);const f=Math.min(u,Math.min(r,o)/2),m=t+r,p=n+o,g=[t+f,n,m-f,n,m,n+f,m,p-f,m-f,p,t+f,p,t,p-f,t,n+f];for(let x=g.length-1;x>=2;x-=2)g[x]===g[x-2]&&g[x-1]===g[x-3]&&g.splice(x-1,2);return this.poly(g,!0,c)}ellipse(t,n,r,o,u){return this.drawShape(new Bh(t,n,r,o),u),this}roundRect(t,n,r,o,u,c){return this.drawShape(new Oh(t,n,r,o,u),c),this}drawShape(t,n){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:n}),this}startPoly(t,n){let r=this._currentPoly;return r&&this.endPoly(),r=new sr,r.points.push(t,n),this._currentPoly=r,this}endPoly(t=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=t,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new sr,t)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let r=n.shape.x,o=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const u=n.transform,c=r;r=u.a*r+u.c*o+u.tx,o=u.b*c+u.d*o+u.ty}this._currentPoly.points.push(r,o)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<t.instructions.length;n++){const r=t.instructions[n];this[r.action](...r.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const n=this.shapePrimitives;for(let r=0;r<n.length;r++){const o=n[r],u=o.shape.getBounds(vA);o.transform?t.addRect(u,o.transform):t.addRect(u)}return t}}class Vi{constructor(t,n=!1){this.instructions=[],this.uid=Qt("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof t=="string"?P1(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new SA(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,n){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,n]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,n,r,o,u){const c=this.instructions[this.instructions.length-1],f=this.getLastPoint(ye.shared);let m=0,p=0;if(!c||c.action!=="bezierCurveTo")m=f.x,p=f.y;else{m=c.data[2],p=c.data[3];const g=f.x,x=f.y;m=g+(g-m),p=x+(x-p)}return this.instructions.push({action:"bezierCurveTo",data:[m,p,t,n,r,o,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,n,r){const o=this.instructions[this.instructions.length-1],u=this.getLastPoint(ye.shared);let c=0,f=0;if(!o||o.action!=="quadraticCurveTo")c=u.x,f=u.y;else{c=o.data[0],f=o.data[1];const m=u.x,p=u.y;c=m+(m-c),f=p+(p-f)}return this.instructions.push({action:"quadraticCurveTo",data:[c,f,t,n,r]}),this._dirty=!0,this}rect(t,n,r,o,u){return this.instructions.push({action:"rect",data:[t,n,r,o,u]}),this._dirty=!0,this}circle(t,n,r,o){return this.instructions.push({action:"circle",data:[t,n,r,o]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,n,r,o,u,c,f){u||(u=o/2);const m=-1*Math.PI/2+c,p=r*2,g=Math.PI*2/p,x=[];for(let _=0;_<p;_++){const b=_%2?u:o,A=_*g+m;x.push(t+b*Math.cos(A),n+b*Math.sin(A))}return this.poly(x,!0,f),this}clone(t=!1){const n=new Vi;if(n.checkForHoles=this.checkForHoles,!t)n.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const o=this.instructions[r];n.instructions.push({action:o.action,data:o.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const n=t.a,r=t.b,o=t.c,u=t.d,c=t.tx,f=t.ty;let m=0,p=0,g=0,x=0,_=0,b=0,A=0,w=0;for(let S=0;S<this.instructions.length;S++){const M=this.instructions[S],C=M.data;switch(M.action){case"moveTo":case"lineTo":m=C[0],p=C[1],C[0]=n*m+o*p+c,C[1]=r*m+u*p+f;break;case"bezierCurveTo":g=C[0],x=C[1],_=C[2],b=C[3],m=C[4],p=C[5],C[0]=n*g+o*x+c,C[1]=r*g+u*x+f,C[2]=n*_+o*b+c,C[3]=r*_+u*b+f,C[4]=n*m+o*p+c,C[5]=r*m+u*p+f;break;case"quadraticCurveTo":g=C[0],x=C[1],m=C[2],p=C[3],C[0]=n*g+o*x+c,C[1]=r*g+u*x+f,C[2]=n*m+o*p+c,C[3]=r*m+u*p+f;break;case"arcToSvg":m=C[5],p=C[6],A=C[0],w=C[1],C[0]=n*A+o*w,C[1]=r*A+u*w,C[5]=n*m+o*p+c,C[6]=r*m+u*p+f;break;case"circle":C[4]=Ka(C[3],t);break;case"rect":C[4]=Ka(C[4],t);break;case"ellipse":C[8]=Ka(C[8],t);break;case"roundRect":C[5]=Ka(C[5],t);break;case"addPath":C[0].transform(t);break;case"poly":C[2]=Ka(C[2],t);break;default:Yt("unknown transform action",M.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let n=this.instructions.length-1,r=this.instructions[n];if(!r)return t.x=0,t.y=0,t;for(;r.action==="closePath";){if(n--,n<0)return t.x=0,t.y=0,t;r=this.instructions[n]}switch(r.action){case"moveTo":case"lineTo":t.x=r.data[0],t.y=r.data[1];break;case"quadraticCurveTo":t.x=r.data[2],t.y=r.data[3];break;case"bezierCurveTo":t.x=r.data[4],t.y=r.data[5];break;case"arc":case"arcToSvg":t.x=r.data[5],t.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(t);break}return t}}function Ka(s,t){return s?s.prepend(t):t.clone()}function It(s,t,n){const r=s.getAttribute(t);return r?Number(r):n}function AA(s,t){const n=s.querySelectorAll("defs");for(let r=0;r<n.length;r++){const o=n[r];for(let u=0;u<o.children.length;u++){const c=o.children[u];switch(c.nodeName.toLowerCase()){case"lineargradient":t.defs[c.id]=wA(c);break;case"radialgradient":t.defs[c.id]=TA();break}}}}function wA(s){const t=It(s,"x1",0),n=It(s,"y1",0),r=It(s,"x2",1),o=It(s,"y2",0),u=s.getAttribute("gradientUnits")||"objectBoundingBox",c=new Pi(t,n,r,o,u==="objectBoundingBox"?"local":"global");for(let f=0;f<s.children.length;f++){const m=s.children[f],p=It(m,"offset",0),g=ie.shared.setValue(m.getAttribute("stop-color")).toNumber();c.addColorStop(p,g)}return c}function TA(s){return Yt("[SVG Parser] Radial gradients are not yet supported"),new Pi(0,0,1,0)}function Vg(s){const t=s.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const Pg={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function Ly(s,t){const n=s.getAttribute("style"),r={},o={},u={strokeStyle:r,fillStyle:o,useFill:!1,useStroke:!1};for(const c in Pg){const f=s.getAttribute(c);f&&Fg(t,u,c,f.trim())}if(n){const c=n.split(";");for(let f=0;f<c.length;f++){const m=c[f].trim(),[p,g]=m.split(":");Pg[p]&&Fg(t,u,p,g.trim())}}return{strokeStyle:u.useStroke?r:null,fillStyle:u.useFill?o:null,useFill:u.useFill,useStroke:u.useStroke}}function Fg(s,t,n,r){switch(n){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const o=Vg(r);t.strokeStyle.fill=s.defs[o]}else t.strokeStyle.color=ie.shared.setValue(r).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const o=Vg(r);t.fillStyle.fill=s.defs[o]}else t.fillStyle.color=ie.shared.setValue(r).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(r);break;case"stroke-opacity":t.strokeStyle.alpha=Number(r);break;case"opacity":t.fillStyle.alpha=Number(r),t.strokeStyle.alpha=Number(r);break}}function MA(s){if(s.length<=2)return!0;const t=s.map(f=>f.area).sort((f,m)=>m-f),[n,r]=t,o=t[t.length-1],u=n/r,c=r/o;return!(u>3&&c<2)}function CA(s){return s.split(/(?=[Mm])/).filter(r=>r.trim().length>0)}function EA(s){const t=s.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!t||t.length<4)return 0;const n=t.map(Number),r=[],o=[];for(let g=0;g<n.length;g+=2)g+1<n.length&&(r.push(n[g]),o.push(n[g+1]));if(r.length===0||o.length===0)return 0;const u=Math.min(...r),c=Math.max(...r),f=Math.min(...o),m=Math.max(...o);return(c-u)*(m-f)}function Ig(s,t){const n=new Vi(s,!1);for(const r of n.instructions)t.instructions.push(r)}function zA(s,t){if(typeof s=="string"){const c=document.createElement("div");c.innerHTML=s.trim(),s=c.querySelector("svg")}const n={context:t,defs:{},path:new Vi};AA(s,n);const r=s.children,{fillStyle:o,strokeStyle:u}=Ly(s,n);for(let c=0;c<r.length;c++){const f=r[c];f.nodeName.toLowerCase()!=="defs"&&jy(f,n,o,u)}return t}function jy(s,t,n,r){const o=s.children,{fillStyle:u,strokeStyle:c}=Ly(s,t);u&&n?n={...n,...u}:u&&(n=u),c&&r?r={...r,...c}:c&&(r=c);const f=!n&&!r;f&&(n={color:0});let m,p,g,x,_,b,A,w,S,M,C,R,N,F,q,L,W;switch(s.nodeName.toLowerCase()){case"path":{F=s.getAttribute("d");const Q=s.getAttribute("fill-rule"),Z=CA(F),K=Q==="evenodd",ht=Z.length>1;if(K&&ht){const At=Z.map(B=>({path:B,area:EA(B)}));if(At.sort((B,Y)=>Y.area-B.area),Z.length>3||!MA(At))for(let B=0;B<At.length;B++){const Y=At[B],at=B===0;t.context.beginPath();const et=new Vi(void 0,!0);Ig(Y.path,et),t.context.path(et),at?(n&&t.context.fill(n),r&&t.context.stroke(r)):t.context.cut()}else for(let B=0;B<At.length;B++){const Y=At[B],at=B%2===1;t.context.beginPath();const et=new Vi(void 0,!0);Ig(Y.path,et),t.context.path(et),at?t.context.cut():(n&&t.context.fill(n),r&&t.context.stroke(r))}}else{const At=Q?Q==="evenodd":!0;q=new Vi(F,At),t.context.path(q),n&&t.context.fill(n),r&&t.context.stroke(r)}break}case"circle":A=It(s,"cx",0),w=It(s,"cy",0),S=It(s,"r",0),t.context.ellipse(A,w,S,S),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"rect":m=It(s,"x",0),p=It(s,"y",0),L=It(s,"width",0),W=It(s,"height",0),M=It(s,"rx",0),C=It(s,"ry",0),M||C?t.context.roundRect(m,p,L,W,M||C):t.context.rect(m,p,L,W),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"ellipse":A=It(s,"cx",0),w=It(s,"cy",0),M=It(s,"rx",0),C=It(s,"ry",0),t.context.beginPath(),t.context.ellipse(A,w,M,C),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"line":g=It(s,"x1",0),x=It(s,"y1",0),_=It(s,"x2",0),b=It(s,"y2",0),t.context.beginPath(),t.context.moveTo(g,x),t.context.lineTo(_,b),r&&t.context.stroke(r);break;case"polygon":N=s.getAttribute("points"),R=N.match(/\d+/g).map(Q=>parseInt(Q,10)),t.context.poly(R,!0),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"polyline":N=s.getAttribute("points"),R=N.match(/\d+/g).map(Q=>parseInt(Q,10)),t.context.poly(R,!1),r&&t.context.stroke(r);break;case"g":case"svg":break;default:{Yt(`[SVG parser] <${s.nodeName}> elements unsupported`);break}}f&&(n=null);for(let Q=0;Q<o.length;Q++)jy(o[Q],t,n,r)}function RA(s){return ie.isColorLike(s)}function Qg(s){return s instanceof oo}function Zg(s){return s instanceof Pi}function BA(s){return s instanceof St}function OA(s,t,n){const r=ie.shared.setValue(t??0);return s.color=r.toNumber(),s.alpha=r.alpha===1?n.alpha:r.alpha,s.texture=St.WHITE,{...n,...s}}function NA(s,t,n){return s.texture=t,{...n,...s}}function Wg(s,t,n){return s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,{...n,...s}}function Kg(s,t,n){return t.buildGradient(),s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,s.textureSpace=t.textureSpace,{...n,...s}}function DA(s,t){const n={...t,...s},r=ie.shared.setValue(n.color);return n.alpha*=r.alpha,n.color=r.toNumber(),n}function In(s,t){if(s==null)return null;const n={},r=s;return RA(s)?OA(n,s,t):BA(s)?NA(n,s,t):Qg(s)?Wg(n,s,t):Zg(s)?Kg(n,s,t):r.fill&&Qg(r.fill)?Wg(r,r.fill,t):r.fill&&Zg(r.fill)?Kg(r,r.fill,t):DA(r,t)}function so(s,t){const{width:n,alignment:r,miterLimit:o,cap:u,join:c,pixelLine:f,...m}=t,p=In(s,m);return p?{width:n,alignment:r,miterLimit:o,cap:u,join:c,pixelLine:f,...p}:null}const UA=new ye,$g=new _t,Dh=class vi extends ci{constructor(){super(...arguments),this.uid=Qt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Vi,this._transform=new _t,this._fillStyle={...vi.defaultFillStyle},this._strokeStyle={...vi.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new ui,this._boundsDirty=!0}clone(){const t=new vi;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=In(t,vi.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=so(t,vi.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=In(t,vi.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=In(t,vi.defaultStrokeStyle),this}texture(t,n,r,o,u,c){return this.instructions.push({action:"texture",data:{image:t,dx:r||0,dy:o||0,dw:u||t.frame.width,dh:c||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?ie.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Vi,this}fill(t,n){let r;const o=this.instructions[this.instructions.length-1];return this._tick===0&&o?.action==="stroke"?r=o.data.path:r=this._activePath.clone(),r?(t!=null&&(n!==void 0&&typeof t=="number"&&(dt(Rt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:n}),this._fillStyle=In(t,vi.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:n}=this._activePath.getLastPoint(ye.shared);this._activePath.clear(),this._activePath.moveTo(t,n)}stroke(t){let n;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r?.action==="fill"?n=r.data.path:n=this._activePath.clone(),n?(t!=null&&(this._strokeStyle=so(t,vi.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const n=this.instructions[this.instructions.length-1-t],r=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(r);else{n.data.hole=r;break}}return this._initNextPathLocation(),this}arc(t,n,r,o,u,c){this._tick++;const f=this._transform;return this._activePath.arc(f.a*t+f.c*n+f.tx,f.b*t+f.d*n+f.ty,r,o,u,c),this}arcTo(t,n,r,o,u){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*t+c.c*n+c.tx,c.b*t+c.d*n+c.ty,c.a*r+c.c*o+c.tx,c.b*r+c.d*o+c.ty,u),this}arcToSvg(t,n,r,o,u,c,f){this._tick++;const m=this._transform;return this._activePath.arcToSvg(t,n,r,o,u,m.a*c+m.c*f+m.tx,m.b*c+m.d*f+m.ty),this}bezierCurveTo(t,n,r,o,u,c,f){this._tick++;const m=this._transform;return this._activePath.bezierCurveTo(m.a*t+m.c*n+m.tx,m.b*t+m.d*n+m.ty,m.a*r+m.c*o+m.tx,m.b*r+m.d*o+m.ty,m.a*u+m.c*c+m.tx,m.b*u+m.d*c+m.ty,f),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,n,r,o){return this._tick++,this._activePath.ellipse(t,n,r,o,this._transform.clone()),this}circle(t,n,r){return this._tick++,this._activePath.circle(t,n,r,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,n){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*t+r.c*n+r.tx,r.b*t+r.d*n+r.ty),this}moveTo(t,n){this._tick++;const r=this._transform,o=this._activePath.instructions,u=r.a*t+r.c*n+r.tx,c=r.b*t+r.d*n+r.ty;return o.length===1&&o[0].action==="moveTo"?(o[0].data[0]=u,o[0].data[1]=c,this):(this._activePath.moveTo(u,c),this)}quadraticCurveTo(t,n,r,o,u){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*t+c.c*n+c.tx,c.b*t+c.d*n+c.ty,c.a*r+c.c*o+c.tx,c.b*r+c.d*o+c.ty,u),this}rect(t,n,r,o){return this._tick++,this._activePath.rect(t,n,r,o,this._transform.clone()),this}roundRect(t,n,r,o,u){return this._tick++,this._activePath.roundRect(t,n,r,o,u,this._transform.clone()),this}poly(t,n){return this._tick++,this._activePath.poly(t,n,this._transform.clone()),this}regularPoly(t,n,r,o,u=0,c){return this._tick++,this._activePath.regularPoly(t,n,r,o,u,c),this}roundPoly(t,n,r,o,u,c){return this._tick++,this._activePath.roundPoly(t,n,r,o,u,c),this}roundShape(t,n,r,o){return this._tick++,this._activePath.roundShape(t,n,r,o),this}filletRect(t,n,r,o,u){return this._tick++,this._activePath.filletRect(t,n,r,o,u),this}chamferRect(t,n,r,o,u,c){return this._tick++,this._activePath.chamferRect(t,n,r,o,u,c),this}star(t,n,r,o,u=0,c=0){return this._tick++,this._activePath.star(t,n,r,o,u,c,this._transform.clone()),this}svg(t){return this._tick++,zA(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,n=t){return this._transform.scale(t,n),this}setTransform(t,n,r,o,u,c){return t instanceof _t?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,n,r,o,u,c),this)}transform(t,n,r,o,u,c){return t instanceof _t?(this._transform.append(t),this):($g.set(t,n,r,o,u,c),this._transform.append($g),this)}translate(t,n=t){return this._transform.translate(t,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const t=this._bounds;t.clear();for(let n=0;n<this.instructions.length;n++){const r=this.instructions[n],o=r.action;if(o==="fill"){const u=r.data;t.addBounds(u.path.bounds)}else if(o==="texture"){const u=r.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(o==="stroke"){const u=r.data,c=u.style.alignment,f=u.style.width*(1-c),m=u.path.bounds;t.addFrame(m.minX-f,m.minY-f,m.maxX+f,m.maxY+f)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const n=this.instructions;let r=!1;for(let o=0;o<n.length;o++){const u=n[o],c=u.data,f=c.path;if(!u.action||!f)continue;const m=c.style,p=f.shapePath.shapePrimitives;for(let g=0;g<p.length;g++){const x=p[g].shape;if(!m||!x)continue;const _=p[g].transform,b=_?_.applyInverse(t,UA):t;if(u.action==="fill")r=x.contains(b.x,b.y);else{const w=m;r=x.strokeContains(b.x,b.y,w.width,w.alignment)}const A=c.hole;if(A){const w=A.shapePath?.shapePrimitives;if(w)for(let S=0;S<w.length;S++)w[S].shape.contains(b.x,b.y)&&(r=!1)}if(r)return!0}}return r}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const r=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(r)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(r))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Dh.defaultFillStyle={color:16777215,alpha:1,texture:St.WHITE,matrix:null,fill:null,textureSpace:"local"};Dh.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:St.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let $e=Dh;const Uh=class ks extends ci{constructor(t={}){super(),this.uid=Qt("textStyle"),this._tick=0,kA(t);const n={...ks.defaultTextStyle,...t};for(const r in n){const o=r;this[o]=n[r]}this.update(),this._tick=0}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.update())}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...ks.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...ks.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily!==t&&(this._fontFamily=t,this.update())}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.update())}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.update())}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.update())}get filters(){return this._filters}set filters(t){this._filters!==t&&(this._filters=Object.freeze(t),this.update())}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.update())}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...$e.defaultFillStyle,...t},()=>{this._fill=In({...this._originalFill},$e.defaultFillStyle)})),this._fill=In(t===0?"black":t,$e.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...$e.defaultStrokeStyle,...t},()=>{this._stroke=so({...this._originalStroke},$e.defaultStrokeStyle)})),this._stroke=so(t,$e.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const t=ks.defaultTextStyle;for(const n in t)this[n]=t[n]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new ks({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let n=0;n<this._filters.length;n++)t+=this._filters[n].padding;return Math.max(this._padding,t)}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const r=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(r),this._originalFill?.texture&&this._originalFill.texture.destroy(r),this._stroke?.texture&&this._stroke.texture.destroy(r),this._originalStroke?.texture&&this._originalStroke.texture.destroy(r)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,n){return new Proxy(t,{set:(r,o,u)=>(r[o]===u||(r[o]=u,n?.(o,u),this.update()),!0)})}_isFillStyle(t){return(t??null)!==null&&!(ie.isColorLike(t)||t instanceof Pi||t instanceof oo)}};Uh.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Uh.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Ps=Uh;function kA(s){const t=s;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const n=Ps.defaultDropShadow;s.dropShadow={alpha:t.dropShadowAlpha??n.alpha,angle:t.dropShadowAngle??n.angle,blur:t.dropShadowBlur??n.blur,color:t.dropShadowColor??n.color,distance:t.dropShadowDistance??n.distance}}if(t.strokeThickness!==void 0){dt(Rt,"strokeThickness is now a part of stroke");const n=t.stroke;let r={};if(ie.isColorLike(n))r.color=n;else if(n instanceof Pi||n instanceof oo)r.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))r=n;else throw new Error("Invalid stroke value.");s.stroke={...r,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){if(dt(Rt,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(t.fill)||t.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");t.fill.length!==t.fillGradientStops.length&&Yt("The number of fill colors must match the number of fill gradient stops.");const n=new Pi({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),r=t.fillGradientStops.slice(),o=t.fill.map(u=>ie.shared.setValue(u).toNumber());r.forEach((u,c)=>{n.addColorStop(u,o[c])}),s.fill={fill:n}}}class GA{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,n){const r=Gt.get().createCanvas();r.width=t,r.height=n;const o=r.getContext("2d");return{canvas:r,context:o}}getOptimalCanvasAndContext(t,n,r=1){t=Math.ceil(t*r-1e-6),n=Math.ceil(n*r-1e-6),t=Ys(t),n=Ys(n);const o=(t<<17)+(n<<1);this._canvasPool[o]||(this._canvasPool[o]=[]);let u=this._canvasPool[o].pop();return u||(u=this._createCanvasAndContext(t,n)),u}returnCanvasAndContext(t){const n=t.canvas,{width:r,height:o}=n,u=(r<<17)+(o<<1);t.context.resetTransform(),t.context.clearRect(0,0,r,o),this._canvasPool[u].push(t)}clear(){this._canvasPool={}}}const fr=new GA;dr.register(fr);const Jg=1e5;function ao(s,t,n,r=0){if(s.texture===St.WHITE&&!s.fill)return ie.shared.setValue(s.color).setAlpha(s.alpha??1).toHexa();if(s.fill){if(s.fill instanceof oo){const o=s.fill,u=t.createPattern(o.texture.source.resource,"repeat"),c=o.transform.copyTo(_t.shared);return c.scale(o.texture.frame.width,o.texture.frame.height),u.setTransform(c),u}else if(s.fill instanceof Pi){const o=s.fill,u=o.type==="linear",c=o.textureSpace==="local";let f=1,m=1;c&&n&&(f=n.width+r,m=n.height+r);let p,g=!1;if(u){const{start:x,end:_}=o;p=t.createLinearGradient(x.x*f,x.y*m,_.x*f,_.y*m),g=Math.abs(_.x-x.x)<Math.abs((_.y-x.y)*.1)}else{const{center:x,innerRadius:_,outerCenter:b,outerRadius:A}=o;p=t.createRadialGradient(x.x*f,x.y*m,_*f,b.x*f,b.y*m,A*f)}if(g&&c&&n){const x=n.lineHeight/m;for(let _=0;_<n.lines.length;_++){const b=(_*n.lineHeight+r/2)/m;o.colorStops.forEach(A=>{const w=b+A.offset*x;p.addColorStop(Math.floor(w*Jg)/Jg,ie.shared.setValue(A.color).toHex())})}}else o.colorStops.forEach(x=>{p.addColorStop(x.offset,ie.shared.setValue(x.color).toHex())});return p}}else{const o=t.createPattern(s.texture.source.resource,"repeat"),u=s.matrix.copyTo(_t.shared);return u.scale(s.texture.frame.width,s.texture.frame.height),o.setTransform(u),o}return Yt("FillStyle not recognised",s),"red"}const Hy=class Yy extends vy{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const n={...Yy.defaultOptions,...t};this._textureSize=n.textureSize,this._mipmap=n.mipmap;const r=n.style.clone();n.overrideFill&&(r._fill.color=16777215,r._fill.alpha=1,r._fill.texture=St.WHITE,r._fill.fill=null),this.applyFillAsTint=n.overrideFill;const o=r.fontSize;r.fontSize=this.baseMeasurementFontSize;const u=io(r);n.overrideSize?r._stroke&&(r._stroke.width*=this.baseRenderedFontSize/o):r.fontSize=this.baseRenderedFontSize=o,this._style=r,this._skipKerning=n.skipKerning??!1,this.resolution=n.resolution??1,this._padding=n.padding??4,n.textureStyle&&(this._textureStyle=n.textureStyle instanceof Xs?n.textureStyle:new Xs(n.textureStyle)),this.fontMetrics=Si.measureFont(u),this.lineHeight=r.lineHeight||this.fontMetrics.fontSize||r.fontSize}ensureCharacters(t){const n=Si.graphemeSegmenter(t).filter(S=>!this._currentChars.includes(S)).filter((S,M,C)=>C.indexOf(S)===M);if(!n.length)return;this._currentChars=[...this._currentChars,...n];let r;this._currentPageIndex===-1?r=this._nextPage():r=this.pages[this._currentPageIndex];let{canvas:o,context:u}=r.canvasAndContext,c=r.texture.source;const f=this._style;let m=this._currentX,p=this._currentY,g=this._currentMaxCharHeight;const x=this.baseRenderedFontSize/this.baseMeasurementFontSize,_=this._padding*x;let b=!1;const A=o.width/this.resolution,w=o.height/this.resolution;for(let S=0;S<n.length;S++){const M=n[S],C=Si.measureText(M,f,o,!1);C.lineHeight=C.height;const R=C.width*x,N=Math.ceil((f.fontStyle==="italic"?2:1)*R),F=C.height*x,q=N+_*2,L=F+_*2;if(b=!1,M!==`
`&&M!=="\r"&&M!=="	"&&M!==" "&&(b=!0,g=Math.ceil(Math.max(L,g))),m+q>A&&(p+=g,g=L,m=0,p+g>w)){c.update();const Q=this._nextPage();o=Q.canvasAndContext.canvas,u=Q.canvasAndContext.context,c=Q.texture.source,m=0,p=0,g=0}const W=R/x-(f.dropShadow?.distance??0)-(f._stroke?.width??0);if(this.chars[M]={id:M.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:W,kerning:{}},b){this._drawGlyph(u,C,m+_,p+_,x,f);const Q=c.width*x,Z=c.height*x,K=new qt(m/Q*c.width,p/Z*c.height,q/Q*c.width,L/Z*c.height);this.chars[M].texture=new St({source:c,frame:K}),m+=Math.ceil(q)}}c.update(),this._currentX=m,this._currentY=p,this._currentMaxCharHeight=g,this._skipKerning&&this._applyKerning(n,u)}get pageTextures(){return dt(Rt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,n){const r=this._measureCache;for(let o=0;o<t.length;o++){const u=t[o];for(let c=0;c<this._currentChars.length;c++){const f=this._currentChars[c];let m=r[u];m||(m=r[u]=n.measureText(u).width);let p=r[f];p||(p=r[f]=n.measureText(f).width);let g=n.measureText(u+f).width,x=g-(m+p);x&&(this.chars[u].kerning[f]=x),g=n.measureText(u+f).width,x=g-(m+p),x&&(this.chars[f].kerning[u]=x)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,n=fr.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(n.context,this._style,t);const r=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),o=new St({source:new Zn({resource:n.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(o.source.style=this._textureStyle);const u={canvasAndContext:n,texture:o};return this.pages[this._currentPageIndex]=u,u}_setupContext(t,n,r){n.fontSize=this.baseRenderedFontSize,t.scale(r,r),t.font=io(n),n.fontSize=this.baseMeasurementFontSize,t.textBaseline=n.textBaseline;const o=n._stroke,u=o?.width??0;if(o&&(t.lineWidth=u,t.lineJoin=o.join,t.miterLimit=o.miterLimit,t.strokeStyle=ao(o,t)),n._fill&&(t.fillStyle=ao(n._fill,t)),n.dropShadow){const c=n.dropShadow,f=ie.shared.setValue(c.color).toArray(),m=c.blur*r,p=c.distance*r;t.shadowColor=`rgba(${f[0]*255},${f[1]*255},${f[2]*255},${c.alpha})`,t.shadowBlur=m,t.shadowOffsetX=Math.cos(c.angle)*p,t.shadowOffsetY=Math.sin(c.angle)*p}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,n,r,o,u,c){const f=n.text,m=n.fontProperties,g=(c._stroke?.width??0)*u,x=r+g/2,_=o-g/2,b=m.descent*u,A=n.lineHeight*u;let w=!1;c.stroke&&g&&(w=!0,t.strokeText(f,x,_+A-b));const{shadowBlur:S,shadowOffsetX:M,shadowOffsetY:C}=t;c._fill&&(w&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),t.fillText(f,x,_+A-b)),w&&(t.shadowBlur=S,t.shadowOffsetX=M,t.shadowOffsetY=C)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:n,texture:r}=this.pages[t];fr.returnCanvasAndContext(n),r.destroy(!0)}this.pages=null}};Hy.defaultOptions={textureSize:512,style:new Ps,mipmap:!0};let t0=Hy;function LA(s,t,n,r){const o={width:0,height:0,offsetY:0,scale:t.fontSize/n.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};o.offsetY=n.baseLineOffset;let u=o.lines[0],c=null,f=!0;const m={width:0,start:0,index:0,positions:[],chars:[]},p=n.baseMeasurementFontSize/t.fontSize,g=t.letterSpacing*p,x=t.wordWrapWidth*p,_=t.lineHeight?t.lineHeight*p:n.lineHeight,b=t.wordWrap&&t.breakWords,A=M=>{const C=u.width;for(let R=0;R<m.index;R++){const N=M.positions[R];u.chars.push(M.chars[R]),u.charPositions.push(N+C)}u.width+=M.width,f=!1,m.width=0,m.index=0,m.chars.length=0},w=()=>{let M=u.chars.length-1;if(r){let C=u.chars[M];for(;C===" ";)u.width-=n.chars[C].xAdvance,C=u.chars[--M]}o.width=Math.max(o.width,u.width),u={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},f=!0,o.lines.push(u),o.height+=_},S=M=>M-g>x;for(let M=0;M<s.length+1;M++){let C;const R=M===s.length;R||(C=s[M]);const N=n.chars[C]||n.chars[" "];if(/(?:\s)/.test(C)||C==="\r"||C===`
`||R){if(!f&&t.wordWrap&&S(u.width+m.width)?(w(),A(m),R||u.charPositions.push(0)):(m.start=u.width,A(m),R||u.charPositions.push(0)),C==="\r"||C===`
`)w();else if(!R){const W=N.xAdvance+(N.kerning[c]||0)+g;u.width+=W,u.spaceWidth=W,u.spacesIndex.push(u.charPositions.length),u.chars.push(C)}}else{const L=N.kerning[c]||0,W=N.xAdvance+L+g;b&&S(u.width+m.width+W)&&(A(m),w()),m.positions[m.index++]=m.width+L,m.chars.push(C),m.width+=W}c=C}return w(),t.align==="center"?jA(o):t.align==="right"?HA(o):t.align==="justify"&&YA(o),o}function jA(s){for(let t=0;t<s.lines.length;t++){const n=s.lines[t],r=s.width/2-n.width/2;for(let o=0;o<n.charPositions.length;o++)n.charPositions[o]+=r}}function HA(s){for(let t=0;t<s.lines.length;t++){const n=s.lines[t],r=s.width-n.width;for(let o=0;o<n.charPositions.length;o++)n.charPositions[o]+=r}}function YA(s){const t=s.width;for(let n=0;n<s.lines.length;n++){const r=s.lines[n];let o=0,u=r.spacesIndex[o++],c=0;const f=r.spacesIndex.length,p=(t-r.width)/f;for(let g=0;g<r.charPositions.length;g++)g===u&&(u=r.spacesIndex[o++],c+=p),r.charPositions[g]+=c}}function XA(s){if(s==="")return[];typeof s=="string"&&(s=[s]);const t=[];for(let n=0,r=s.length;n<r;n++){const o=s[n];if(Array.isArray(o)){if(o.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${o.length}.`);if(o[0].length===0||o[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const u=o[0].charCodeAt(0),c=o[1].charCodeAt(0);if(c<u)throw new Error("[BitmapFont]: Invalid character range.");for(let f=u,m=c;f<=m;f++)t.push(String.fromCharCode(f))}else t.push(...Array.from(o))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}let Zl=0;class qA{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null},this.measureCache=Sy(1e3)}getFont(t,n){let r=`${n.fontFamily}-bitmap`,o=!0;if(n._fill.fill&&!n._stroke?(r+=n._fill.fill.styleKey,o=!1):(n._stroke||n.dropShadow)&&(r=`${n.styleKey}-bitmap`,o=!1),!Ht.has(r)){const c=Object.create(n);c.lineHeight=0;const f=new t0({style:c,overrideFill:o,overrideSize:!0,...this.defaultOptions});Zl++,Zl>50&&Yt("BitmapText",`You have dynamically created ${Zl} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),f.once("destroy",()=>{Zl--,Ht.remove(r)}),Ht.set(r,f)}const u=Ht.get(r);return u.ensureCharacters?.(t),u}getLayout(t,n,r=!0){const o=this.getFont(t,n),u=`${t}-${n.styleKey}-${r}`;if(this.measureCache.has(u))return this.measureCache.get(u);const c=Si.graphemeSegmenter(t),f=LA(c,n,o,r);return this.measureCache.set(u,f),f}measureText(t,n,r=!0){return this.getLayout(t,n,r)}install(...t){let n=t[0];typeof n=="string"&&(n={name:n,style:t[1],chars:t[2]?.chars,resolution:t[2]?.resolution,padding:t[2]?.padding,skipKerning:t[2]?.skipKerning},dt(Rt,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=n?.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");n={...this.defaultOptions,...n};const o=n.style,u=o instanceof Ps?o:new Ps(o),c=n.dynamicFill??this._canUseTintForStyle(u),f=new t0({style:u,overrideFill:c,skipKerning:n.skipKerning,padding:n.padding,resolution:n.resolution,overrideSize:!1,textureStyle:n.textureStyle}),m=XA(n.chars);return f.ensureCharacters(m.join("")),Ht.set(`${r}-bitmap`,f),f.once("destroy",()=>Ht.remove(`${r}-bitmap`)),f}uninstall(t){const n=`${t}-bitmap`,r=Ht.get(n);r&&r.destroy()}_canUseTintForStyle(t){return!t._stroke&&(!t.dropShadow||t.dropShadow.color===0)&&!t._fill.fill&&t._fill.color===16777215}}const e0=new qA;class Xy extends vy{constructor(t,n){super();const{textures:r,data:o}=t;Object.keys(o.pages).forEach(u=>{const c=o.pages[parseInt(u,10)],f=r[c.id];this.pages.push({texture:f})}),Object.keys(o.chars).forEach(u=>{const c=o.chars[u],{frame:f,source:m,rotate:p}=r[c.page],g=Dt.transformRectCoords(c,f,p,new qt),x=new St({frame:g,orig:new qt(0,0,c.width,c.height),source:m,rotate:p});this.chars[u]={id:u.codePointAt(0),xOffset:c.xOffset,yOffset:c.yOffset,xAdvance:c.xAdvance,kerning:c.kerning??{},texture:x}}),this.baseRenderedFontSize=o.fontSize,this.baseMeasurementFontSize=o.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:o.fontSize},this.baseLineOffset=o.baseLineOffset,this.lineHeight=o.lineHeight,this.fontFamily=o.fontFamily,this.distanceField=o.distanceField??{type:"none",range:0},this.url=n}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:n}=this.pages[t];n.destroy(!0)}this.pages=null}static install(t){e0.install(t)}static uninstall(t){e0.uninstall(t)}}const th={test(s){return typeof s=="string"&&s.startsWith("info face=")},parse(s){const t=s.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const x in t){const _=t[x].match(/^[a-z]+/gm)[0],b=t[x].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),A={};for(const w in b){const S=b[w].split("="),M=S[0],C=S[1].replace(/"/gm,""),R=parseFloat(C),N=isNaN(R)?C:R;A[M]=N}n[_].push(A)}const r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[o]=n.info,[u]=n.common,[c]=n.distanceField??[];c&&(r.distanceField={range:parseInt(c.distanceRange,10),type:c.fieldType}),r.fontSize=parseInt(o.size,10),r.fontFamily=o.face,r.lineHeight=parseInt(u.lineHeight,10);const f=n.page;for(let x=0;x<f.length;x++)r.pages.push({id:parseInt(f[x].id,10)||0,file:f[x].file});const m={};r.baseLineOffset=r.lineHeight-parseInt(u.base,10);const p=n.char;for(let x=0;x<p.length;x++){const _=p[x],b=parseInt(_.id,10);let A=_.letter??_.char??String.fromCharCode(b);A==="space"&&(A=" "),m[b]=A,r.chars[A]={id:b,page:parseInt(_.page,10)||0,x:parseInt(_.x,10),y:parseInt(_.y,10),width:parseInt(_.width,10),height:parseInt(_.height,10),xOffset:parseInt(_.xoffset,10),yOffset:parseInt(_.yoffset,10),xAdvance:parseInt(_.xadvance,10),kerning:{}}}const g=n.kerning||[];for(let x=0;x<g.length;x++){const _=parseInt(g[x].first,10),b=parseInt(g[x].second,10),A=parseInt(g[x].amount,10);r.chars[m[b]].kerning[m[_]]=A}return r}},i0={test(s){const t=s;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(s){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},n=s.getElementsByTagName("info")[0],r=s.getElementsByTagName("common")[0],o=s.getElementsByTagName("distanceField")[0];o&&(t.distanceField={type:o.getAttribute("fieldType"),range:parseInt(o.getAttribute("distanceRange"),10)});const u=s.getElementsByTagName("page"),c=s.getElementsByTagName("char"),f=s.getElementsByTagName("kerning");t.fontSize=parseInt(n.getAttribute("size"),10),t.fontFamily=n.getAttribute("face"),t.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let p=0;p<u.length;p++)t.pages.push({id:parseInt(u[p].getAttribute("id"),10)||0,file:u[p].getAttribute("file")});const m={};t.baseLineOffset=t.lineHeight-parseInt(r.getAttribute("base"),10);for(let p=0;p<c.length;p++){const g=c[p],x=parseInt(g.getAttribute("id"),10);let _=g.getAttribute("letter")??g.getAttribute("char")??String.fromCharCode(x);_==="space"&&(_=" "),m[x]=_,t.chars[_]={id:x,page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xOffset:parseInt(g.getAttribute("xoffset"),10),yOffset:parseInt(g.getAttribute("yoffset"),10),xAdvance:parseInt(g.getAttribute("xadvance"),10),kerning:{}}}for(let p=0;p<f.length;p++){const g=parseInt(f[p].getAttribute("first"),10),x=parseInt(f[p].getAttribute("second"),10),_=parseInt(f[p].getAttribute("amount"),10);t.chars[m[x]].kerning[m[g]]=_}return t}},n0={test(s){return typeof s=="string"&&s.match(/<font(\s|>)/)?i0.test(Gt.get().parseXML(s)):!1},parse(s){return i0.parse(Gt.get().parseXML(s))}},VA=[".xml",".fnt"],PA={extension:{type:st.CacheParser,name:"cacheBitmapFont"},test:s=>s instanceof Xy,getCacheableAssets(s,t){const n={};return s.forEach(r=>{n[r]=t,n[`${r}-bitmap`]=t}),n[`${t.fontFamily}-bitmap`]=t,n}},FA={extension:{type:st.LoadParser,priority:Sn.Normal},name:"loadBitmapFont",id:"bitmap-font",test(s){return VA.includes(Ye.extname(s).toLowerCase())},async testParse(s){return th.test(s)||n0.test(s)},async parse(s,t,n){const r=th.test(s)?th.parse(s):n0.parse(s),{src:o}=t,{pages:u}=r,c=[],f=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let x=0;x<u.length;++x){const _=u[x].file;let b=Ye.join(Ye.dirname(o),_);b=hh(b,o),c.push({src:b,data:f})}const m=await n.load(c),p=c.map(x=>m[x.src]);return new Xy({data:r,textures:p},o)},async load(s,t){return await(await Gt.get().fetch(s)).text()},async unload(s,t,n){await Promise.all(s.pages.map(r=>n.unload(r.texture.source._sourceOrigin))),s.destroy()}};class IA{constructor(t,n=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(t){t.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const QA={extension:{type:st.CacheParser,name:"cacheTextureArray"},test:s=>Array.isArray(s)&&s.every(t=>t instanceof St),getCacheableAssets:(s,t)=>{const n={};return s.forEach(r=>{t.forEach((o,u)=>{n[r+(u===0?"":u+1)]=o})}),n}};async function qy(s){if("Image"in globalThis)return new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=s});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(s)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const ZA={extension:{type:st.DetectionParser,priority:1},test:async()=>qy("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async s=>[...s,"avif"],remove:async s=>s.filter(t=>t!=="avif")},s0=["png","jpg","jpeg"],WA={extension:{type:st.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async s=>[...s,...s0],remove:async s=>s.filter(t=>!s0.includes(t))},KA="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function co(s){return KA?!1:document.createElement("video").canPlayType(s)!==""}const $A={extension:{type:st.DetectionParser,priority:0},test:async()=>co("video/mp4"),add:async s=>[...s,"mp4","m4v"],remove:async s=>s.filter(t=>t!=="mp4"&&t!=="m4v")},JA={extension:{type:st.DetectionParser,priority:0},test:async()=>co("video/ogg"),add:async s=>[...s,"ogv"],remove:async s=>s.filter(t=>t!=="ogv")},t2={extension:{type:st.DetectionParser,priority:0},test:async()=>co("video/webm"),add:async s=>[...s,"webm"],remove:async s=>s.filter(t=>t!=="webm")},e2={extension:{type:st.DetectionParser,priority:0},test:async()=>qy("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async s=>[...s,"webp"],remove:async s=>s.filter(t=>t!=="webp")},Vy=class Jl{constructor(){this.loadOptions={...Jl.defaultOptions},this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,n,r)=>(this._parsersValidated=!1,t[n]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,n){const r={promise:null,parser:null};return r.promise=(async()=>{let o=null,u=null;if((n.parser||n.loadParser)&&(u=this._parserHash[n.parser||n.loadParser],n.loadParser&&Yt(`[Assets] "loadParser" is deprecated, use "parser" instead for ${t}`),u||Yt(`[Assets] specified load parser "${n.parser||n.loadParser}" not found while loading ${t}`)),!u){for(let c=0;c<this.parsers.length;c++){const f=this.parsers[c];if(f.load&&f.test?.(t,n,this)){u=f;break}}if(!u)return Yt(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}o=await u.load(t,n,this),r.parser=u;for(let c=0;c<this.parsers.length;c++){const f=this.parsers[c];f.parse&&f.parse&&await f.testParse?.(o,n,this)&&(o=await f.parse(o,n,this)||o,r.parser=f)}return o})(),r}async load(t,n){this._parsersValidated||this._validateParsers();const r=typeof n=="function"?{...Jl.defaultOptions,...this.loadOptions,onProgress:n}:{...Jl.defaultOptions,...this.loadOptions,...n||{}},{onProgress:o,onError:u,strategy:c,retryCount:f,retryDelay:m}=r;let p=0;const g={},x=eo(t),_=oi(t,w=>({alias:[w],src:w,data:{}})),b=_.reduce((w,S)=>w+(S.progressSize||1),0),A=_.map(async w=>{const S=Ye.toAbsolute(w.src);g[w.src]||(await this._loadAssetWithRetry(S,w,{onProgress:o,onError:u,strategy:c,retryCount:f,retryDelay:m},g),p+=w.progressSize||1,o&&o(p/b))});return await Promise.all(A),x?g[_[0].src]:g}async unload(t){const r=oi(t,o=>({alias:[o],src:o})).map(async o=>{const u=Ye.toAbsolute(o.src),c=this.promiseCache[u];if(c){const f=await c.promise;delete this.promiseCache[u],await c.parser?.unload?.(f,o,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name||t.id).reduce((t,n)=>(!n.name&&!n.id?Yt("[Assets] parser should have an id"):(t[n.name]||t[n.id])&&Yt(`[Assets] parser id conflict "${n.id}"`),t[n.name]=n,n.id&&(t[n.id]=n),t),{})}async _loadAssetWithRetry(t,n,r,o){let u=0;const{onError:c,strategy:f,retryCount:m,retryDelay:p}=r,g=x=>new Promise(_=>setTimeout(_,x));for(;;)try{this.promiseCache[t]||(this.promiseCache[t]=this._getLoadPromiseAndParser(t,n)),o[n.src]=await this.promiseCache[t].promise;return}catch(x){delete this.promiseCache[t],delete o[n.src],u++;const _=f!=="retry"||u>m;if(f==="retry"&&!_){c&&c(x,n),await g(p);continue}if(f==="skip"){c&&c(x,n);return}throw c&&c(x,n),new Error(`[Loader.load] Failed to load ${t}.
${x}`)}}};Vy.defaultOptions={onProgress:void 0,onError:void 0,strategy:"throw",retryCount:3,retryDelay:250};let i2=Vy;function Qs(s,t){if(Array.isArray(t)){for(const n of t)if(s.startsWith(`data:${n}`))return!0;return!1}return s.startsWith(`data:${t}`)}function Zs(s,t){const n=s.split("?")[0],r=Ye.extname(n).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}const n2=".json",s2="application/json",a2={extension:{type:st.LoadParser,priority:Sn.Low},name:"loadJson",id:"json",test(s){return Qs(s,s2)||Zs(s,n2)},async load(s){return await(await Gt.get().fetch(s)).json()}},r2=".txt",l2="text/plain",o2={name:"loadTxt",id:"text",extension:{type:st.LoadParser,priority:Sn.Low,name:"loadTxt"},test(s){return Qs(s,l2)||Zs(s,r2)},async load(s){return await(await Gt.get().fetch(s)).text()}},u2=["normal","bold","100","200","300","400","500","600","700","800","900"],c2=[".ttf",".otf",".woff",".woff2"],h2=["font/ttf","font/otf","font/woff","font/woff2"],f2=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function d2(s){const t=Ye.extname(s),o=Ye.basename(s,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1));let u=o.length>0;for(const f of o)if(!f.match(f2)){u=!1;break}let c=o.join(" ");return u||(c=`"${c.replace(/[\\"]/g,"\\$&")}"`),c}const m2=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function p2(s){return m2.test(s)?s:encodeURI(s)}const g2={extension:{type:st.LoadParser,priority:Sn.Low},name:"loadWebFont",id:"web-font",test(s){return Qs(s,h2)||Zs(s,c2)},async load(s,t){const n=Gt.get().getFontFaceSet();if(n){const r=[],o=t.data?.family??d2(s),u=t.data?.weights?.filter(f=>u2.includes(f))??["normal"],c=t.data??{};for(let f=0;f<u.length;f++){const m=u[f],p=new FontFace(o,`url(${p2(s)})`,{...c,weight:m});await p.load(),n.add(p),r.push(p)}return Ht.has(`${o}-and-url`)?Ht.get(`${o}-and-url`).entries.push({url:s,faces:r}):Ht.set(`${o}-and-url`,{entries:[{url:s,faces:r}]}),r.length===1?r[0]:r}return Yt("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(s){const t=Array.isArray(s)?s:[s],n=t[0].family,r=Ht.get(`${n}-and-url`),o=r.entries.find(u=>u.faces.some(c=>t.indexOf(c)!==-1));o.faces=o.faces.filter(u=>t.indexOf(u)===-1),o.faces.length===0&&(r.entries=r.entries.filter(u=>u!==o)),t.forEach(u=>{Gt.get().getFontFaceSet().delete(u)}),r.entries.length===0&&Ht.remove(`${n}-and-url`)}};function kh(s,t=1){const n=Is.RETINA_PREFIX?.exec(s);return n?parseFloat(n[1]):t}function Gh(s,t,n){s.label=n,s._sourceOrigin=n;const r=new St({source:s,label:n}),o=()=>{delete t.promiseCache[n],Ht.has(n)&&Ht.remove(n)};return r.source.once("destroy",()=>{t.promiseCache[n]&&(Yt("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),o())}),r.once("destroy",()=>{s.destroyed||(Yt("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),r}const y2=".svg",x2="image/svg+xml",_2={extension:{type:st.LoadParser,priority:Sn.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(s){return Qs(s,x2)||Zs(s,y2)},async load(s,t,n){return t.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext?v2(s):b2(s,t,n,this.config.crossOrigin)},unload(s){s.destroy(!0)}};async function b2(s,t,n,r){const o=await Gt.get().fetch(s),u=Gt.get().createImage();u.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(await o.text())}`,u.crossOrigin=r,await u.decode();const c=t.data?.width??u.width,f=t.data?.height??u.height,m=t.data?.resolution||kh(s),p=Math.ceil(c*m),g=Math.ceil(f*m),x=Gt.get().createCanvas(p,g),_=x.getContext("2d");_.imageSmoothingEnabled=!0,_.imageSmoothingQuality="high",_.drawImage(u,0,0,c*m,f*m);const{parseAsGraphicsContext:b,...A}=t.data??{},w=new Zn({resource:x,alphaMode:"premultiply-alpha-on-upload",resolution:m,...A});return Gh(w,n,s)}async function v2(s){const n=await(await Gt.get().fetch(s)).text(),r=new $e;return r.svg(n),r}const S2=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let js=null,Sh=class{constructor(){js||(js=URL.createObjectURL(new Blob([S2],{type:"application/javascript"}))),this.worker=new Worker(js)}};Sh.revokeObjectURL=function(){js&&(URL.revokeObjectURL(js),js=null)};const A2=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Hs=null;class Py{constructor(){Hs||(Hs=URL.createObjectURL(new Blob([A2],{type:"application/javascript"}))),this.worker=new Worker(Hs)}}Py.revokeObjectURL=function(){Hs&&(URL.revokeObjectURL(Hs),Hs=null)};let a0=0,eh;class w2{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:n}=new Sh;n.addEventListener("message",r=>{n.terminate(),Sh.revokeObjectURL(),t(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,n){return this._run("loadImageBitmap",[t,n?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){eh===void 0&&(eh=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<eh&&(this._createdWorkers++,t=new Py().worker,t.addEventListener("message",n=>{this._complete(n.data),this._returnWorker(n.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){this._resolveHash[t.uuid]&&(t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),delete this._resolveHash[t.uuid])}async _run(t,n){await this._initWorkers();const r=new Promise((o,u)=>{this._queue.push({id:t,arguments:n,resolve:o,reject:u})});return this._next(),r}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const n=this._queue.pop(),r=n.id;this._resolveHash[a0]={resolve:n.resolve,reject:n.reject},t.postMessage({data:n.arguments,uuid:a0++,id:r})}reset(){this._workerPool.forEach(t=>t.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:t})=>{t?.(new Error("WorkerManager has been reset before completion"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}const r0=new w2,T2=[".jpeg",".jpg",".png",".webp",".avif"],M2=["image/jpeg","image/png","image/webp","image/avif"];async function C2(s,t){const n=await Gt.get().fetch(s);if(!n.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${s}: ${n.status} ${n.statusText}`);const r=await n.blob();return t?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)}const Fy={name:"loadTextures",id:"texture",extension:{type:st.LoadParser,priority:Sn.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(s){return Qs(s,M2)||Zs(s,T2)},async load(s,t,n){let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await r0.isImageBitmapSupported()?r=await r0.loadImageBitmap(s,t):r=await C2(s,t):r=await new Promise((u,c)=>{r=Gt.get().createImage(),r.crossOrigin=this.config.crossOrigin,r.src=s,r.complete?u(r):(r.onload=()=>{u(r)},r.onerror=c)});const o=new Zn({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:t.data?.resolution||kh(s),...t.data});return Gh(o,n,s)},unload(s){s.destroy(!0)}},E2=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let ih,nh;function z2(s,t,n){n===void 0&&!t.startsWith("data:")?s.crossOrigin=B2(t):n!==!1&&(s.crossOrigin=typeof n=="string"?n:"anonymous")}function R2(s){return new Promise((t,n)=>{s.addEventListener("canplaythrough",r),s.addEventListener("error",o),s.load();function r(){u(),t()}function o(c){u(),n(c)}function u(){s.removeEventListener("canplaythrough",r),s.removeEventListener("error",o)}})}function B2(s,t=globalThis.location){if(s.startsWith("data:"))return"";t||(t=globalThis.location);const n=new URL(s,document.baseURI);return n.hostname!==t.hostname||n.port!==t.port||n.protocol!==t.protocol?"anonymous":""}function O2(){const s=[],t=[];for(const n of E2){const r=nr.MIME_TYPES[n.substring(1)]||`video/${n.substring(1)}`;co(r)&&(s.push(n),t.includes(r)||t.push(r))}return{validVideoExtensions:s,validVideoMime:t}}const N2={name:"loadVideo",id:"video",extension:{type:st.LoadParser,name:"loadVideo"},test(s){if(!ih||!nh){const{validVideoExtensions:r,validVideoMime:o}=O2();ih=r,nh=o}const t=Qs(s,nh),n=Zs(s,ih);return t||n},async load(s,t,n){const r={...nr.defaultOptions,resolution:t.data?.resolution||kh(s),alphaMode:t.data?.alphaMode||await W0(),...t.data},o=document.createElement("video"),u={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(u).forEach(m=>{const p=u[m];p!==void 0&&o.setAttribute(m,p)}),r.muted===!0&&(o.muted=!0),z2(o,s,r.crossorigin);const c=document.createElement("source");let f;if(r.mime)f=r.mime;else if(s.startsWith("data:"))f=s.slice(5,s.indexOf(";"));else if(!s.startsWith("blob:")){const m=s.split("?")[0].slice(s.lastIndexOf(".")+1).toLowerCase();f=nr.MIME_TYPES[m]||`video/${m}`}return c.src=s,f&&(c.type=f),new Promise(m=>{const p=async()=>{const g=new nr({...r,resource:o});o.removeEventListener("canplay",p),t.data.preload&&await R2(o),m(Gh(g,n,s))};r.preload&&!r.autoPlay&&o.load(),o.addEventListener("canplay",p),o.appendChild(c)})},unload(s){s.destroy(!0)}},Iy={extension:{type:st.ResolveParser,name:"resolveTexture"},test:Fy.test,parse:s=>({resolution:parseFloat(Is.RETINA_PREFIX.exec(s)?.[1]??"1"),format:s.split(".").pop(),src:s})},D2={extension:{type:st.ResolveParser,priority:-2,name:"resolveJson"},test:s=>Is.RETINA_PREFIX.test(s)&&s.endsWith(".json"),parse:Iy.parse};class U2{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Is,this.loader=new i2,this.cache=Ht,this._backgroundLoader=new IA(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){Yt("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let u=t.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const n=t.texturePreference?.resolution??1,r=typeof n=="number"?[n]:n,o=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:r}}),t.preferences&&this.setPreferences(t.preferences),t.loadOptions&&(this.loader.loadOptions={...this.loader.loadOptions,...t.loadOptions})}add(t){this.resolver.add(t)}async load(t,n){this._initialized||await this.init();const r=eo(t),o=oi(t).map(f=>{if(typeof f!="string"){const m=this.resolver.getAlias(f);return m.some(p=>!this.resolver.hasKey(p))&&this.add(f),Array.isArray(m)?m[0]:m}return this.resolver.hasKey(f)||this.add({alias:f,src:f}),f}),u=this.resolver.resolve(o),c=await this._mapLoadToResolve(u,n);return r?c[o[0]]:c}addBundle(t,n){this.resolver.addBundle(t,n)}async loadBundle(t,n){this._initialized||await this.init();let r=!1;typeof t=="string"&&(r=!0,t=[t]);const o=this.resolver.resolveBundle(t),u={},c=Object.keys(o);let f=0;const m=[],p=()=>{n?.(m.reduce((x,_)=>x+_,0)/f)},g=c.map((x,_)=>{const b=o[x],A=Object.values(b),S=[...new Set(A.flat())].reduce((M,C)=>M+(C.progressSize||1),0);return m.push(0),f+=S,this._mapLoadToResolve(b,M=>{m[_]=M*S,p()}).then(M=>{u[x]=M})});return await Promise.all(g),r?u[t[0]]:u}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolveBundle(t);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Ht.get(t);const n={};for(let r=0;r<t.length;r++)n[r]=Ht.get(t[r]);return n}async _mapLoadToResolve(t,n){const r=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const o=await this.loader.load(r,n);this._backgroundLoader.active=!0;const u={};return r.forEach(c=>{const f=o[c.src],m=[c.src];c.alias&&m.push(...c.alias),m.forEach(p=>{u[p]=f}),Ht.set(m,f)}),u}async unload(t){this._initialized||await this.init();const n=oi(t).map(o=>typeof o!="string"?o.src:o),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(t){this._initialized||await this.init(),t=oi(t);const n=this.resolver.resolveBundle(t),r=Object.keys(n).map(o=>this._unloadFromResolved(n[o]));await Promise.all(r)}async _unloadFromResolved(t){const n=Object.values(t);n.forEach(r=>{Ht.remove(r.src)}),await this.loader.unload(n)}async _detectFormats(t){let n=[];t.preferredFormats&&(n=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const r of t.detections)t.skipDetections||await r.test()?n=await r.add(n):t.skipDetections||(n=await r.remove(n));return n=n.filter((r,o)=>n.indexOf(r)===o),n}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(r=>r in t).forEach(r=>{n.config[r]=t[r]})})}}const Ls=new U2;pe.handleByList(st.LoadParser,Ls.loader.parsers).handleByList(st.ResolveParser,Ls.resolver.parsers).handleByList(st.CacheParser,Ls.cache.parsers).handleByList(st.DetectionParser,Ls.detections);pe.add(QA,WA,ZA,e2,$A,JA,t2,a2,o2,g2,_2,Fy,N2,FA,PA,Iy,D2);const l0={loader:st.LoadParser,resolver:st.ResolveParser,cache:st.CacheParser,detection:st.DetectionParser};pe.handle(st.Asset,s=>{const t=s.ref;Object.entries(l0).filter(([n])=>!!t[n]).forEach(([n,r])=>pe.add(Object.assign(t[n],{extension:t[n].extension??r})))},s=>{const t=s.ref;Object.keys(l0).filter(n=>!!t[n]).forEach(n=>pe.remove(t[n]))});class _n extends Mh{constructor(t){t instanceof $e&&(t={context:t});const{context:n,roundPixels:r,...o}=t||{};super({label:"Graphics",...o}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new $e,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=r??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||t?.context===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,n){return this.context[t](...n),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new _n(this._context.clone()):(this._ownedContext=null,new _n(this._context))}lineStyle(t,n,r){dt(Rt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const o={};return t&&(o.width=t),n&&(o.color=n),r&&(o.alpha=r),this.context.strokeStyle=o,this}beginFill(t,n){dt(Rt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return t!==void 0&&(r.color=t),n!==void 0&&(r.alpha=n),this.context.fillStyle=r,this}endFill(){dt(Rt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==$e.defaultStrokeStyle.width||t.color!==$e.defaultStrokeStyle.color||t.alpha!==$e.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return dt(Rt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return dt(Rt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return dt(Rt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return dt(Rt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return dt(Rt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return dt(Rt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}class k2 extends Mh{constructor(t,n){const{text:r,resolution:o,style:u,anchor:c,width:f,height:m,roundPixels:p,...g}=t;super({...g}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=n,this.text=r??"",this.style=u,this.resolution=o??null,this.allowChildren=!1,this._anchor=new me({_onUpdate:()=>{this.onViewUpdate()}}),c&&(this.anchor=c),this.roundPixels=p??!1,f!==void 0&&(this.width=f),m!==void 0&&(this.height=m)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}set resolution(t){this._autoResolution=t===null,this._resolution=t,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(t){t||(t={}),this._style?.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,n){typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,this.bounds.width),n!==void 0&&this._setHeight(n,this.bounds.height)}containsPoint(t){const n=this.bounds.width,r=this.bounds.height,o=-n*this.anchor.x;let u=0;return t.x>=o&&t.x<=o+n&&(u=-r*this.anchor.y,t.y>=u&&t.y<=u+r)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,(typeof t=="boolean"?t:t?.style)&&this._style.destroy(t),this._style=null,this._text=null}get styleKey(){return`${this._text}:${this._style.styleKey}:${this._resolution}`}}function G2(s,t){let n=s[0]??{};return(typeof n=="string"||s[1])&&(dt(Rt,`use new ${t}({ text: "hi!", style }) instead`),n={text:n,style:s[1]}),n}let Xn=null,Xi=null;function L2(s,t){Xn||(Xn=Gt.get().createCanvas(256,128),Xi=Xn.getContext("2d",{willReadFrequently:!0}),Xi.globalCompositeOperation="copy",Xi.globalAlpha=1),(Xn.width<s||Xn.height<t)&&(Xn.width=Ys(s),Xn.height=Ys(t))}function o0(s,t,n){for(let r=0,o=4*n*t;r<t;++r,o+=4)if(s[o+3]!==0)return!1;return!0}function u0(s,t,n,r,o){const u=4*t;for(let c=r,f=r*u+4*n;c<=o;++c,f+=u)if(s[f+3]!==0)return!1;return!0}function j2(...s){let t=s[0];t.canvas||(t={canvas:s[0],resolution:s[1]});const{canvas:n}=t,r=Math.min(t.resolution??1,1),o=t.width??n.width,u=t.height??n.height;let c=t.output;if(L2(o,u),!Xi)throw new TypeError("Failed to get canvas 2D context");Xi.drawImage(n,0,0,o,u,0,0,o*r,u*r);const m=Xi.getImageData(0,0,o,u).data;let p=0,g=0,x=o-1,_=u-1;for(;g<u&&o0(m,o,g);)++g;if(g===u)return qt.EMPTY;for(;o0(m,o,_);)--_;for(;u0(m,o,p,g,_);)++p;for(;u0(m,o,x,g,_);)--x;return++x,++_,Xi.globalCompositeOperation="source-over",Xi.strokeRect(p,g,x-p,_-g),Xi.globalCompositeOperation="copy",c??(c=new qt),c.set(p/r,g/r,(x-p)/r,(_-g)/r),c}const c0=new qt;class H2{getCanvasAndContext(t){const{text:n,style:r,resolution:o=1}=t,u=r._getFinalPadding(),c=Si.measureText(n||" ",r),f=Math.ceil(Math.ceil(Math.max(1,c.width)+u*2)*o),m=Math.ceil(Math.ceil(Math.max(1,c.height)+u*2)*o),p=fr.getOptimalCanvasAndContext(f,m);this._renderTextToCanvas(n,r,u,o,p);const g=r.trim?j2({canvas:p.canvas,width:f,height:m,resolution:1,output:c0}):c0.set(0,0,f,m);return{canvasAndContext:p,frame:g}}returnCanvasAndContext(t){fr.returnCanvasAndContext(t)}_renderTextToCanvas(t,n,r,o,u){const{canvas:c,context:f}=u,m=io(n),p=Si.measureText(t||" ",n),g=p.lines,x=p.lineHeight,_=p.lineWidths,b=p.maxLineWidth,A=p.fontProperties,w=c.height;if(f.resetTransform(),f.scale(o,o),f.textBaseline=n.textBaseline,n._stroke?.width){const R=n._stroke;f.lineWidth=R.width,f.miterLimit=R.miterLimit,f.lineJoin=R.join,f.lineCap=R.cap}f.font=m;let S,M;const C=n.dropShadow?2:1;for(let R=0;R<C;++R){const N=n.dropShadow&&R===0,F=N?Math.ceil(Math.max(1,w)+r*2):0,q=F*o;if(N){f.fillStyle="black",f.strokeStyle="black";const Q=n.dropShadow,Z=Q.color,K=Q.alpha;f.shadowColor=ie.shared.setValue(Z).setAlpha(K).toRgbaString();const ht=Q.blur*o,vt=Q.distance*o;f.shadowBlur=ht,f.shadowOffsetX=Math.cos(Q.angle)*vt,f.shadowOffsetY=Math.sin(Q.angle)*vt+q}else{if(f.fillStyle=n._fill?ao(n._fill,f,p,r*2):null,n._stroke?.width){const Q=n._stroke.width*.5+r*2;f.strokeStyle=ao(n._stroke,f,p,Q)}f.shadowColor="black"}let L=(x-A.fontSize)/2;x-A.fontSize<0&&(L=0);const W=n._stroke?.width??0;for(let Q=0;Q<g.length;Q++)S=W/2,M=W/2+Q*x+A.ascent+L,n.align==="right"?S+=b-_[Q]:n.align==="center"&&(S+=(b-_[Q])/2),n._stroke?.width&&this._drawLetterSpacing(g[Q],n,u,S+r,M+r-F,!0),n._fill!==void 0&&this._drawLetterSpacing(g[Q],n,u,S+r,M+r-F)}}_drawLetterSpacing(t,n,r,o,u,c=!1){const{context:f}=r,m=n.letterSpacing;let p=!1;if(Si.experimentalLetterSpacingSupported&&(Si.experimentalLetterSpacing?(f.letterSpacing=`${m}px`,f.textLetterSpacing=`${m}px`,p=!0):(f.letterSpacing="0px",f.textLetterSpacing="0px")),m===0||p){c?f.strokeText(t,o,u):f.fillText(t,o,u);return}let g=o;const x=Si.graphemeSegmenter(t);let _=f.measureText(t).width,b=0;for(let A=0;A<x.length;++A){const w=x[A];c?f.strokeText(w,g,u):f.fillText(w,g,u);let S="";for(let M=A+1;M<x.length;++M)S+=x[M];b=f.measureText(S).width,g+=_-b+m,_=b}}}const h0=new H2;class Y2 extends k2{constructor(...t){const n=G2(t,"Text");super(n,Ps),this.renderPipeId="text",n.textureStyle&&(this.textureStyle=n.textureStyle instanceof Xs?n.textureStyle:new Xs(n.textureStyle))}updateBounds(){const t=this._bounds,n=this._anchor;let r=0,o=0;if(this._style.trim){const{frame:u,canvasAndContext:c}=h0.getCanvasAndContext({text:this.text,style:this._style,resolution:1});h0.returnCanvasAndContext(c),r=u.width,o=u.height}else{const u=Si.measureText(this._text,this._style);r=u.width,o=u.height}t.minX=-n._x*r,t.maxX=t.minX+r,t.minY=-n._y*o,t.maxY=t.minY+o}}pe.add(Ib,Qb);const X2=({category:s,isSelected:t,onSelect:n})=>k.jsxs("button",{onClick:n,className:`flex flex-col items-center justify-center px-3 py-2 rounded-xl transition-all min-w-[60px] ${t?"bg-gradient-to-br from-pink-500 to-purple-600 shadow-lg shadow-pink-500/30 scale-105":"bg-purple-800/50 hover:bg-purple-700/50"}`,children:[k.jsx("span",{className:"text-2xl",children:s.icon}),k.jsx("span",{className:`text-xs mt-1 ${t?"text-white":"text-purple-300"}`,children:s.name})]}),q2=({item:s,onSelect:t})=>{const n={common:"from-gray-500 to-gray-600 border-gray-400",rare:"from-blue-500 to-purple-600 border-blue-400",legendary:"from-yellow-400 to-orange-500 border-yellow-300"},r={common:"",rare:"shadow-blue-500/30",legendary:"shadow-yellow-500/50 animate-pulse"};return k.jsxs("button",{onClick:t,className:`relative w-16 h-16 rounded-xl bg-gradient-to-br ${n[s.rarity]}
        border-2 flex items-center justify-center transition-all hover:scale-110
        shadow-lg ${r[s.rarity]}`,children:[k.jsx("div",{className:"w-10 h-10 rounded-full bg-white/80 flex items-center justify-center",title:s.name,children:V2(s.category)}),s.rarity==="legendary"&&k.jsx("span",{className:"absolute -top-1 -right-1 text-sm",children:""}),s.rarity==="rare"&&k.jsx("span",{className:"absolute -top-1 -right-1 text-sm",children:""})]})};function V2(s){return{lips:"",eyes:"",cheeks:"",hair:"",accessories:"",wings:""}[s]}const P2=()=>{const{state:s,selectCategory:t,applyItem:n,undoItem:r,resetMakeover:o,completeMakeover:u}=vn(),{selectedCategory:c,appliedItems:f,currentLevel:m}=s;if(!m)return null;const p=c?Nb(c):[],g=x=>{const _={...x.position};n(x,_)};return k.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-purple-900 via-purple-900/95 to-purple-900/80 backdrop-blur-sm",children:[k.jsx("div",{className:"flex gap-2 px-4 py-3 overflow-x-auto scrollbar-hide",children:Db.map(x=>k.jsx(X2,{category:x,isSelected:c===x.id,onSelect:()=>t(x.id)},x.id))}),k.jsx("div",{className:"px-4 py-3 border-t border-purple-700/50",children:k.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:p.map(x=>k.jsx(q2,{item:x,onSelect:()=>g(x)},x.id))})}),k.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-t border-purple-700/50",children:[k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:r,disabled:f.length===0,className:"px-4 py-2 rounded-xl bg-purple-700 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:" Undo"}),k.jsx("button",{onClick:o,disabled:f.length===0,className:"px-4 py-2 rounded-xl bg-purple-700 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:" Reset"})]}),k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsxs("span",{className:"text-purple-300 text-sm",children:[f.length," items"]}),k.jsx("button",{onClick:u,disabled:f.length===0,className:"px-6 py-2 rounded-xl bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-400 hover:to-purple-400 disabled:opacity-50 disabled:cursor-not-allowed font-bold transition-all shadow-lg shadow-pink-500/30",children:" Done!"})]})]})]})},F2=()=>{const{state:s,goToLevelSelect:t}=vn(),{currentLevel:n,appliedItems:r}=s,o=ee.useRef(null),u=ee.useRef(null),c=ee.useRef([]),f=ee.useRef(null),[m,p]=ee.useState(!1);ee.useEffect(()=>{if(!o.current||u.current)return;(async()=>{const w=new by;await w.init({width:window.innerWidth,height:window.innerHeight,backgroundColor:1973067,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0}),o.current?.appendChild(w.canvas),u.current=w;const S=new He;S.label="background",w.stage.addChild(S);const M=new He;M.label="main",w.stage.addChild(M);const C=new He;C.label="character",C.x=w.screen.width/2,C.y=w.screen.height/2-50,M.addChild(C);const R=new He;R.label="items",C.addChild(R);const N=new He;if(N.label="particles",M.addChild(N),n){try{const L=await Ls.load(n.backgroundUrl),W=new Qn(L);W.width=w.screen.width,W.height=w.screen.height,S.addChild(W)}catch{const L=new _n;L.rect(0,0,w.screen.width,w.screen.height),L.fill({color:1973067}),S.addChild(L)}try{const L=await Ls.load(n.character.baseImageUrl),W=new Qn(L);W.anchor.set(.5),W.scale.set(1.2),f.current=W,C.addChildAt(W,0)}catch{g(C)}const F=new Ps({fontFamily:"Comic Sans MS, cursive",fontSize:20,fill:16777215,align:"center",dropShadow:{color:0,blur:4,distance:2}}),q=new Y2({text:n.character.name,style:F});q.anchor.set(.5),q.y=180,C.addChild(q)}w.ticker.add(F=>{x(N,F.deltaTime)}),p(!0)})();const A=()=>{if(u.current){u.current.renderer.resize(window.innerWidth,window.innerHeight);const S=u.current.stage.getChildByLabel("main")?.getChildByLabel("character");S&&(S.x=window.innerWidth/2,S.y=window.innerHeight/2-50)}};return window.addEventListener("resize",A),()=>{window.removeEventListener("resize",A),u.current&&(u.current.destroy(!0,{children:!0,texture:!0}),u.current=null)}},[n]);const g=b=>{const A=new _n;A.circle(0,100,60),A.fill({color:16708551}),A.circle(0,0,80),A.fill({color:16708551}),A.ellipse(-25,-10,15,20),A.fill({color:16777215}),A.circle(-25,-5,10),A.fill({color:6514417}),A.ellipse(25,-10,15,20),A.fill({color:16777215}),A.circle(25,-5,10),A.fill({color:6514417}),A.arc(0,20,20,0,Math.PI,!1),A.stroke({color:16020150,width:3}),b.addChildAt(A,0)},x=(b,A)=>{c.current=c.current.filter(w=>(w.x+=w.vx*A,w.y+=w.vy*A,w.vy+=.1*A,w.life-=A,w.rotation+=.1*A,w.life>0)),b.removeChildren(),c.current.forEach(w=>{const S=new _n,M=w.life/w.maxLife;S.star(0,0,4,w.size,w.size*.5),S.fill({color:w.color,alpha:M}),S.x=w.x,S.y=w.y,S.rotation=w.rotation,b.addChild(S)})},_=ee.useCallback((b,A,w=10)=>{const S=[16707722,16498468,16020150,12616956,6333946];for(let M=0;M<w;M++)c.current.push({x:b,y:A,vx:(Math.random()-.5)*8,vy:(Math.random()-.5)*8-3,life:30+Math.random()*30,maxLife:60,size:4+Math.random()*8,rotation:Math.random()*Math.PI*2,color:S[Math.floor(Math.random()*S.length)]})},[]);return ee.useEffect(()=>{if(!u.current||!m)return;const A=u.current.stage.getChildByLabel("main")?.getChildByLabel("character"),w=A?.getChildByLabel("items");w&&(w.removeChildren(),r.forEach((S,M)=>{const C=new _n,N={lips:16739210,eyes:8490232,cheeks:16622767,hair:10980346,accessories:16498468,wings:6809849}[S.item.category]||16777215;switch(S.item.category){case"lips":C.ellipse(S.position.x,S.position.y,25,10);break;case"eyes":C.ellipse(S.position.x-30,S.position.y,20,12),C.ellipse(S.position.x+30,S.position.y,20,12);break;case"cheeks":C.circle(S.position.x-40,S.position.y,15),C.circle(S.position.x+40,S.position.y,15);break;case"hair":C.ellipse(S.position.x,S.position.y,70,40);break;case"accessories":C.star(S.position.x,S.position.y,5,20,10);break;case"wings":C.ellipse(S.position.x-80,S.position.y,40,60),C.ellipse(S.position.x+80,S.position.y,40,60);break;default:C.circle(S.position.x,S.position.y,15)}C.fill({color:N,alpha:.7});const F=new _n;S.item.category==="wings"?(F.ellipse(S.position.x-80,S.position.y,45,65),F.ellipse(S.position.x+80,S.position.y,45,65)):F.circle(S.position.x,S.position.y,25),F.fill({color:N,alpha:.2}),w.addChild(F),w.addChild(C),M===r.length-1&&_(A.x+S.position.x,A.y+S.position.y,15)}))},[r,m,_]),ee.useEffect(()=>{if(!u.current||!m)return;const b=setInterval(()=>{Math.random()>.7&&_(Math.random()*window.innerWidth,Math.random()*(window.innerHeight*.5),3)},500);return()=>clearInterval(b)},[m,_]),n?k.jsxs("div",{className:"w-full h-full relative overflow-hidden",children:[k.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4 bg-gradient-to-b from-purple-900/80 to-transparent",children:[k.jsx("button",{onClick:t,className:"w-12 h-12 rounded-full bg-purple-700/80 hover:bg-purple-600 flex items-center justify-center text-2xl transition-colors backdrop-blur-sm",children:""}),k.jsxs("div",{className:"text-center",children:[k.jsx("h2",{className:"text-lg font-bold text-pink-200",children:n.name}),k.jsx("p",{className:"text-sm text-purple-300",children:n.character.name})]}),k.jsx("div",{className:"w-12"})]}),k.jsx("div",{ref:o,className:"w-full h-full"}),k.jsx(P2,{}),!m&&k.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-purple-900",children:k.jsxs("div",{className:"text-center",children:[k.jsx("span",{className:"text-4xl animate-bounce",children:""}),k.jsx("p",{className:"text-pink-200 mt-4",children:"Loading magic..."})]})})]}):null};function I2(){const{state:s}=vn();switch(s.screen){case"menu":return k.jsx(Zp,{});case"levelSelect":return k.jsx(jb,{});case"collection":return k.jsx(qb,{});case"game":return k.jsx(F2,{});case"result":return k.jsx(Vb,{});default:return k.jsx(Zp,{})}}function Q2(){return k.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-900 via-pink-800 to-indigo-900",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-6xl animate-bounce mb-4",children:""}),k.jsx("h1",{className:"text-2xl font-bold text-pink-200 mb-2",children:"Enchanted Glamour Kingdom"}),k.jsx("p",{className:"text-purple-300",children:"Loading magic..."})]})})}function Z2(){const{state:s}=vn();return s.isLoading?k.jsx(Q2,{}):k.jsx(I2,{})}function W2(){return k.jsx(Bb,{children:k.jsx("div",{className:"w-screen h-screen overflow-hidden",children:k.jsx(Z2,{})})})}Tb.createRoot(document.getElementById("root")).render(k.jsx(ee.StrictMode,{children:k.jsx(W2,{})}));export{Gv as $,gy as A,Ee as B,He as C,Gt as D,st as E,Y0 as F,lo as G,hg as H,Qn as I,r1 as J,p1 as K,dr as L,_t as M,Qt as N,qt as O,ye as P,N1 as Q,dh as R,Eh as S,Hl as T,uh as U,dg as V,Yc as W,mg as X,jv as Y,Xs as Z,ie as _,sy as a,G0 as a0,yy as a1,dt as a2,Rt as a3,L1 as a4,oS as a5,eS as a6,CS as a7,zS as a8,DS as a9,kS as aa,GS as ab,Oy as ac,zg as ad,Cg as ae,e0 as af,Si as ag,LA as ah,Ht as ai,_n as aj,rv as ak,Ps as al,h0 as am,Uy as an,ci as b,$1 as c,cr as d,pe as e,Eg as f,Z1 as g,$l as h,Ch as i,dy as j,Q0 as k,hi as l,oy as m,fr as n,MS as o,ES as p,OS as q,bv as r,US as s,St as t,av as u,LS as v,Yt as w,ti as x,D0 as y,ui as z};
