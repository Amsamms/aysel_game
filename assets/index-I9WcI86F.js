const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-Cy_jIyZE.js","assets/webworkerAll-DpnOfoqJ.js","assets/colorToUniform-4-X1RGdl.js","assets/WebGPURenderer-DOY8NZt6.js","assets/SharedSystems-D35VyaJK.js","assets/WebGLRenderer-Cn8eR3hM.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function n(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(u){if(u.ep)return;u.ep=!0;const o=n(u);fetch(u.href,o)}})();function kg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var cc={exports:{}},Ba={};var gp;function G_(){if(gp)return Ba;gp=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(l,u,o){var h=null;if(o!==void 0&&(h=""+o),u.key!==void 0&&(h=""+u.key),"key"in u){o={};for(var d in u)d!=="key"&&(o[d]=u[d])}else o=u;return u=o.ref,{$$typeof:a,type:l,key:h,ref:u!==void 0?u:null,props:o}}return Ba.Fragment=t,Ba.jsx=n,Ba.jsxs=n,Ba}var yp;function U_(){return yp||(yp=1,cc.exports=G_()),cc.exports}var G=U_(),hc={exports:{}},rt={};var xp;function j_(){if(xp)return rt;xp=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),v=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function E(w,X,Z){this.props=w,this.context=X,this.refs=T,this.updater=Z||S}E.prototype.isReactComponent={},E.prototype.setState=function(w,X){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,X,"setState")},E.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function N(){}N.prototype=E.prototype;function B(w,X,Z){this.props=w,this.context=X,this.refs=T,this.updater=Z||S}var j=B.prototype=new N;j.constructor=B,A(j,E.prototype),j.isPureReactComponent=!0;var Q=Array.isArray;function P(){}var k={H:null,A:null,T:null,S:null},it=Object.prototype.hasOwnProperty;function K(w,X,Z){var W=Z.ref;return{$$typeof:a,type:w,key:X,ref:W!==void 0?W:null,props:Z}}function F(w,X){return K(w.type,X,w.props)}function I(w){return typeof w=="object"&&w!==null&&w.$$typeof===a}function ct(w){var X={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Z){return X[Z]})}var _t=/\/+/g;function bt(w,X){return typeof w=="object"&&w!==null&&w.key!=null?ct(""+w.key):X.toString(36)}function ee(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(P,P):(w.status="pending",w.then(function(X){w.status==="pending"&&(w.status="fulfilled",w.value=X)},function(X){w.status==="pending"&&(w.status="rejected",w.reason=X)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function z(w,X,Z,W,lt){var ut=typeof w;(ut==="undefined"||ut==="boolean")&&(w=null);var vt=!1;if(w===null)vt=!0;else switch(ut){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(w.$$typeof){case a:case t:vt=!0;break;case g:return vt=w._init,z(vt(w._payload),X,Z,W,lt)}}if(vt)return lt=lt(w),vt=W===""?"."+bt(w,0):W,Q(lt)?(Z="",vt!=null&&(Z=vt.replace(_t,"$&/")+"/"),z(lt,X,Z,"",function(ci){return ci})):lt!=null&&(I(lt)&&(lt=F(lt,Z+(lt.key==null||w&&w.key===lt.key?"":(""+lt.key).replace(_t,"$&/")+"/")+vt)),X.push(lt)),1;vt=0;var ie=W===""?".":W+":";if(Q(w))for(var Gt=0;Gt<w.length;Gt++)W=w[Gt],ut=ie+bt(W,Gt),vt+=z(W,X,Z,ut,lt);else if(Gt=_(w),typeof Gt=="function")for(w=Gt.call(w),Gt=0;!(W=w.next()).done;)W=W.value,ut=ie+bt(W,Gt++),vt+=z(W,X,Z,ut,lt);else if(ut==="object"){if(typeof w.then=="function")return z(ee(w),X,Z,W,lt);throw X=String(w),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return vt}function Y(w,X,Z){if(w==null)return w;var W=[],lt=0;return z(w,W,"","",function(ut){return X.call(Z,ut,lt++)}),W}function st(w){if(w._status===-1){var X=w._result;X=X(),X.then(function(Z){(w._status===0||w._status===-1)&&(w._status=1,w._result=Z)},function(Z){(w._status===0||w._status===-1)&&(w._status=2,w._result=Z)}),w._status===-1&&(w._status=0,w._result=X)}if(w._status===1)return w._result.default;throw w._result}var tt=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},mt={map:Y,forEach:function(w,X,Z){Y(w,function(){X.apply(this,arguments)},Z)},count:function(w){var X=0;return Y(w,function(){X++}),X},toArray:function(w){return Y(w,function(X){return X})||[]},only:function(w){if(!I(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return rt.Activity=x,rt.Children=mt,rt.Component=E,rt.Fragment=n,rt.Profiler=u,rt.PureComponent=B,rt.StrictMode=l,rt.Suspense=m,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,rt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return k.H.useMemoCache(w)}},rt.cache=function(w){return function(){return w.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(w,X,Z){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var W=A({},w.props),lt=w.key;if(X!=null)for(ut in X.key!==void 0&&(lt=""+X.key),X)!it.call(X,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&X.ref===void 0||(W[ut]=X[ut]);var ut=arguments.length-2;if(ut===1)W.children=Z;else if(1<ut){for(var vt=Array(ut),ie=0;ie<ut;ie++)vt[ie]=arguments[ie+2];W.children=vt}return K(w.type,lt,W)},rt.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},rt.createElement=function(w,X,Z){var W,lt={},ut=null;if(X!=null)for(W in X.key!==void 0&&(ut=""+X.key),X)it.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(lt[W]=X[W]);var vt=arguments.length-2;if(vt===1)lt.children=Z;else if(1<vt){for(var ie=Array(vt),Gt=0;Gt<vt;Gt++)ie[Gt]=arguments[Gt+2];lt.children=ie}if(w&&w.defaultProps)for(W in vt=w.defaultProps,vt)lt[W]===void 0&&(lt[W]=vt[W]);return K(w,ut,lt)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(w){return{$$typeof:d,render:w}},rt.isValidElement=I,rt.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:st}},rt.memo=function(w,X){return{$$typeof:p,type:w,compare:X===void 0?null:X}},rt.startTransition=function(w){var X=k.T,Z={};k.T=Z;try{var W=w(),lt=k.S;lt!==null&&lt(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(P,tt)}catch(ut){tt(ut)}finally{X!==null&&Z.types!==null&&(X.types=Z.types),k.T=X}},rt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},rt.use=function(w){return k.H.use(w)},rt.useActionState=function(w,X,Z){return k.H.useActionState(w,X,Z)},rt.useCallback=function(w,X){return k.H.useCallback(w,X)},rt.useContext=function(w){return k.H.useContext(w)},rt.useDebugValue=function(){},rt.useDeferredValue=function(w,X){return k.H.useDeferredValue(w,X)},rt.useEffect=function(w,X){return k.H.useEffect(w,X)},rt.useEffectEvent=function(w){return k.H.useEffectEvent(w)},rt.useId=function(){return k.H.useId()},rt.useImperativeHandle=function(w,X,Z){return k.H.useImperativeHandle(w,X,Z)},rt.useInsertionEffect=function(w,X){return k.H.useInsertionEffect(w,X)},rt.useLayoutEffect=function(w,X){return k.H.useLayoutEffect(w,X)},rt.useMemo=function(w,X){return k.H.useMemo(w,X)},rt.useOptimistic=function(w,X){return k.H.useOptimistic(w,X)},rt.useReducer=function(w,X,Z){return k.H.useReducer(w,X,Z)},rt.useRef=function(w){return k.H.useRef(w)},rt.useState=function(w){return k.H.useState(w)},rt.useSyncExternalStore=function(w,X,Z){return k.H.useSyncExternalStore(w,X,Z)},rt.useTransition=function(){return k.H.useTransition()},rt.version="19.2.3",rt}var _p;function ih(){return _p||(_p=1,hc.exports=j_()),hc.exports}var $t=ih(),fc={exports:{}},Na={},dc={exports:{}},mc={};var bp;function H_(){return bp||(bp=1,(function(a){function t(z,Y){var st=z.length;z.push(Y);t:for(;0<st;){var tt=st-1>>>1,mt=z[tt];if(0<u(mt,Y))z[tt]=Y,z[st]=mt,st=tt;else break t}}function n(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var Y=z[0],st=z.pop();if(st!==Y){z[0]=st;t:for(var tt=0,mt=z.length,w=mt>>>1;tt<w;){var X=2*(tt+1)-1,Z=z[X],W=X+1,lt=z[W];if(0>u(Z,st))W<mt&&0>u(lt,Z)?(z[tt]=lt,z[W]=st,tt=W):(z[tt]=Z,z[X]=st,tt=X);else if(W<mt&&0>u(lt,st))z[tt]=lt,z[W]=st,tt=W;else break t}}return Y}function u(z,Y){var st=z.sortIndex-Y.sortIndex;return st!==0?st:z.id-Y.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var h=Date,d=h.now();a.unstable_now=function(){return h.now()-d}}var m=[],p=[],g=1,x=null,v=3,_=!1,S=!1,A=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function j(z){for(var Y=n(p);Y!==null;){if(Y.callback===null)l(p);else if(Y.startTime<=z)l(p),Y.sortIndex=Y.expirationTime,t(m,Y);else break;Y=n(p)}}function Q(z){if(A=!1,j(z),!S)if(n(m)!==null)S=!0,P||(P=!0,ct());else{var Y=n(p);Y!==null&&ee(Q,Y.startTime-z)}}var P=!1,k=-1,it=5,K=-1;function F(){return T?!0:!(a.unstable_now()-K<it)}function I(){if(T=!1,P){var z=a.unstable_now();K=z;var Y=!0;try{t:{S=!1,A&&(A=!1,N(k),k=-1),_=!0;var st=v;try{e:{for(j(z),x=n(m);x!==null&&!(x.expirationTime>z&&F());){var tt=x.callback;if(typeof tt=="function"){x.callback=null,v=x.priorityLevel;var mt=tt(x.expirationTime<=z);if(z=a.unstable_now(),typeof mt=="function"){x.callback=mt,j(z),Y=!0;break e}x===n(m)&&l(m),j(z)}else l(m);x=n(m)}if(x!==null)Y=!0;else{var w=n(p);w!==null&&ee(Q,w.startTime-z),Y=!1}}break t}finally{x=null,v=st,_=!1}Y=void 0}}finally{Y?ct():P=!1}}}var ct;if(typeof B=="function")ct=function(){B(I)};else if(typeof MessageChannel<"u"){var _t=new MessageChannel,bt=_t.port2;_t.port1.onmessage=I,ct=function(){bt.postMessage(null)}}else ct=function(){E(I,0)};function ee(z,Y){k=E(function(){z(a.unstable_now())},Y)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(z){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var st=v;v=Y;try{return z()}finally{v=st}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var st=v;v=z;try{return Y()}finally{v=st}},a.unstable_scheduleCallback=function(z,Y,st){var tt=a.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?tt+st:tt):st=tt,z){case 1:var mt=-1;break;case 2:mt=250;break;case 5:mt=1073741823;break;case 4:mt=1e4;break;default:mt=5e3}return mt=st+mt,z={id:g++,callback:Y,priorityLevel:z,startTime:st,expirationTime:mt,sortIndex:-1},st>tt?(z.sortIndex=st,t(p,z),n(m)===null&&z===n(p)&&(A?(N(k),k=-1):A=!0,ee(Q,st-tt))):(z.sortIndex=mt,t(m,z),S||_||(S=!0,P||(P=!0,ct()))),z},a.unstable_shouldYield=F,a.unstable_wrapCallback=function(z){var Y=v;return function(){var st=v;v=Y;try{return z.apply(this,arguments)}finally{v=st}}}})(mc)),mc}var vp;function k_(){return vp||(vp=1,dc.exports=H_()),dc.exports}var pc={exports:{}},fe={};var Sp;function L_(){if(Sp)return fe;Sp=1;var a=ih();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var l={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},u=Symbol.for("react.portal");function o(m,p,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:m,containerInfo:p,implementation:g}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,fe.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(m,p,null,g)},fe.flushSync=function(m){var p=h.T,g=l.p;try{if(h.T=null,l.p=2,m)return m()}finally{h.T=p,l.p=g,l.d.f()}},fe.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(m,p))},fe.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},fe.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,x=d(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?l.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:_}):g==="script"&&l.d.X(m,{crossOrigin:x,integrity:v,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fe.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);l.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(m)},fe.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,x=d(g,p.crossOrigin);l.d.L(m,g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fe.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=d(p.as,p.crossOrigin);l.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(m)},fe.requestFormReset=function(m){l.d.r(m)},fe.unstable_batchedUpdates=function(m,p){return m(p)},fe.useFormState=function(m,p,g){return h.H.useFormState(m,p,g)},fe.useFormStatus=function(){return h.H.useHostTransitionStatus()},fe.version="19.2.3",fe}var Tp;function Y_(){if(Tp)return pc.exports;Tp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),pc.exports=L_(),pc.exports}var Ap;function q_(){if(Ap)return Na;Ap=1;var a=k_(),t=ih(),n=Y_();function l(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(o(e)!==e)throw Error(l(188))}function p(e){var i=e.alternate;if(!i){if(i=o(e),i===null)throw Error(l(188));return i!==e?null:e}for(var s=e,r=i;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return m(c),e;if(f===r)return m(c),i;f=f.sibling}throw Error(l(188))}if(s.return!==r.return)s=c,r=f;else{for(var y=!1,b=c.child;b;){if(b===s){y=!0,s=c,r=f;break}if(b===r){y=!0,r=c,s=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===s){y=!0,s=f,r=c;break}if(b===r){y=!0,r=f,s=c;break}b=b.sibling}if(!y)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var x=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),B=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function ct(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var _t=Symbol.for("react.client.reference");function bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_t?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case E:return"Profiler";case T:return"StrictMode";case Q:return"Suspense";case P:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case B:return e.displayName||"Context";case N:return(e._context.displayName||"Context")+".Consumer";case j:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return i=e.displayName||null,i!==null?i:bt(e.type)||"Memo";case it:i=e._payload,e=e._init;try{return bt(e(i))}catch{}}return null}var ee=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},tt=[],mt=-1;function w(e){return{current:e}}function X(e){0>mt||(e.current=tt[mt],tt[mt]=null,mt--)}function Z(e,i){mt++,tt[mt]=e.current,e.current=i}var W=w(null),lt=w(null),ut=w(null),vt=w(null);function ie(e,i){switch(Z(ut,i),Z(lt,e),Z(W,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?km(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=km(i),e=Lm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(W),Z(W,e)}function Gt(){X(W),X(lt),X(ut)}function ci(e){e.memoizedState!==null&&Z(vt,e);var i=W.current,s=Lm(i,e.type);i!==s&&(Z(lt,e),Z(W,s))}function Xi(e){lt.current===e&&(X(W),X(lt)),vt.current===e&&(X(vt),wa._currentValue=st)}var Je,hi;function me(e){if(Je===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Je=i&&i[1]||"",hi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+e+hi}var $e=!1;function Hs(e,i){if(!e||$e)return"";$e=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(H){var U=H}Reflect.construct(e,[],V)}else{try{V.call()}catch(H){U=H}e.call(V.prototype)}}else{try{throw Error()}catch(H){U=H}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var M=y.split(`
`),O=b.split(`
`);for(c=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(r===M.length||c===O.length)for(r=M.length-1,c=O.length-1;1<=r&&0<=c&&M[r]!==O[c];)c--;for(;1<=r&&0<=c;r--,c--)if(M[r]!==O[c]){if(r!==1||c!==1)do if(r--,c--,0>c||M[r]!==O[c]){var L=`
`+M[r].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=r&&0<=c);break}}}finally{$e=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?me(s):""}function il(e,i){switch(e.tag){case 26:case 27:case 5:return me(e.type);case 16:return me("Lazy");case 13:return e.child!==i&&i!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return Hs(e.type,!1);case 11:return Hs(e.type.render,!1);case 1:return Hs(e.type,!0);case 31:return me("Activity");default:return""}}function nl(e){try{var i="",s=null;do i+=il(e,s),s=e,e=e.return;while(e);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var sl=Object.prototype.hasOwnProperty,Kr=a.unstable_scheduleCallback,Ir=a.unstable_cancelCallback,dy=a.unstable_shouldYield,my=a.unstable_requestPaint,Ce=a.unstable_now,py=a.unstable_getCurrentPriorityLevel,gh=a.unstable_ImmediatePriority,yh=a.unstable_UserBlockingPriority,al=a.unstable_NormalPriority,gy=a.unstable_LowPriority,xh=a.unstable_IdlePriority,yy=a.log,xy=a.unstable_setDisableYieldValue,ks=null,we=null;function Vi(e){if(typeof yy=="function"&&xy(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(ks,e)}catch{}}var Ee=Math.clz32?Math.clz32:vy,_y=Math.log,by=Math.LN2;function vy(e){return e>>>=0,e===0?32:31-(_y(e)/by|0)|0}var ll=256,rl=262144,ul=4194304;function xn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ol(e,i,s){var r=e.pendingLanes;if(r===0)return 0;var c=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=r&134217727;return b!==0?(r=b&~f,r!==0?c=xn(r):(y&=b,y!==0?c=xn(y):s||(s=b&~e,s!==0&&(c=xn(s))))):(b=r&~f,b!==0?c=xn(b):y!==0?c=xn(y):s||(s=r&~e,s!==0&&(c=xn(s)))),c===0?0:i!==0&&i!==c&&(i&f)===0&&(f=c&-c,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:c}function Ls(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Sy(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _h(){var e=ul;return ul<<=1,(ul&62914560)===0&&(ul=4194304),e}function Wr(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Ys(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ty(e,i,s,r,c,f){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,M=e.expirationTimes,O=e.hiddenUpdates;for(s=y&~s;0<s;){var L=31-Ee(s),V=1<<L;b[L]=0,M[L]=-1;var U=O[L];if(U!==null)for(O[L]=null,L=0;L<U.length;L++){var H=U[L];H!==null&&(H.lane&=-536870913)}s&=~V}r!==0&&bh(e,r,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~i))}function bh(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var r=31-Ee(i);e.entangledLanes|=i,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function vh(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var r=31-Ee(s),c=1<<r;c&i|e[r]&i&&(e[r]|=i),s&=~c}}function Sh(e,i){var s=i&-i;return s=(s&42)!==0?1:Jr(s),(s&(e.suspendedLanes|i))!==0?0:s}function Jr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $r(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Th(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:op(e.type))}function Ah(e,i){var s=Y.p;try{return Y.p=e,i()}finally{Y.p=s}}var Pi=Math.random().toString(36).slice(2),le="__reactFiber$"+Pi,xe="__reactProps$"+Pi,Vn="__reactContainer$"+Pi,tu="__reactEvents$"+Pi,Ay="__reactListeners$"+Pi,My="__reactHandles$"+Pi,Mh="__reactResources$"+Pi,qs="__reactMarker$"+Pi;function eu(e){delete e[le],delete e[xe],delete e[tu],delete e[Ay],delete e[My]}function Pn(e){var i=e[le];if(i)return i;for(var s=e.parentNode;s;){if(i=s[Vn]||s[le]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Zm(e);e!==null;){if(s=e[le])return s;e=Zm(e)}return i}e=s,s=e.parentNode}return null}function Qn(e){if(e=e[le]||e[Vn]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Xs(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(l(33))}function Zn(e){var i=e[Mh];return i||(i=e[Mh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ne(e){e[qs]=!0}var Ch=new Set,wh={};function _n(e,i){Fn(e,i),Fn(e+"Capture",i)}function Fn(e,i){for(wh[e]=i,e=0;e<i.length;e++)Ch.add(i[e])}var Cy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eh={},zh={};function wy(e){return sl.call(zh,e)?!0:sl.call(Eh,e)?!1:Cy.test(e)?zh[e]=!0:(Eh[e]=!0,!1)}function cl(e,i,s){if(wy(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function hl(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function bi(e,i,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+r)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rh(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ey(e,i,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return c.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,i,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function iu(e){if(!e._valueTracker){var i=Rh(e)?"checked":"value";e._valueTracker=Ey(e,i,""+e[i])}}function Bh(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),r="";return e&&(r=Rh(e)?e.checked?"true":"false":e.value),e=r,e!==s?(i.setValue(e),!0):!1}function fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zy=/[\n"\\]/g;function ke(e){return e.replace(zy,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function nu(e,i,s,r,c,f,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+He(i)):e.value!==""+He(i)&&(e.value=""+He(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?su(e,y,He(i)):s!=null?su(e,y,He(s)):r!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+He(b):e.removeAttribute("name")}function Nh(e,i,s,r,c,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){iu(e);return}s=s!=null?""+He(s):"",i=i!=null?""+He(i):s,b||i===e.value||(e.value=i),e.defaultValue=i}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=b?e.checked:!!r,e.defaultChecked=!!r,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),iu(e)}function su(e,i,s){i==="number"&&fl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Kn(e,i,s,r){if(e=e.options,i){i={};for(var c=0;c<s.length;c++)i["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=i.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&r&&(e[s].defaultSelected=!0)}else{for(s=""+He(s),i=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}i!==null||e[c].disabled||(i=e[c])}i!==null&&(i.selected=!0)}}function Dh(e,i,s){if(i!=null&&(i=""+He(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+He(s):""}function Oh(e,i,s,r){if(i==null){if(r!=null){if(s!=null)throw Error(l(92));if(ee(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),i=s}s=He(i),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),iu(e)}function In(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var Ry=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gh(e,i,s){var r=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":r?e.setProperty(i,s):typeof s!="number"||s===0||Ry.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Uh(e,i,s){if(i!=null&&typeof i!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in i)r=i[c],i.hasOwnProperty(c)&&s[c]!==r&&Gh(e,c,r)}else for(var f in i)i.hasOwnProperty(f)&&Gh(e,f,i[f])}function au(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var By=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ny=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dl(e){return Ny.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function vi(){}var lu=null;function ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wn=null,Jn=null;function jh(e){var i=Qn(e);if(i&&(e=i.stateNode)){var s=e[xe]||null;t:switch(e=i.stateNode,i.type){case"input":if(nu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ke(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var r=s[i];if(r!==e&&r.form===e.form){var c=r[xe]||null;if(!c)throw Error(l(90));nu(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(i=0;i<s.length;i++)r=s[i],r.form===e.form&&Bh(r)}break t;case"textarea":Dh(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&Kn(e,!!s.multiple,i,!1)}}}var uu=!1;function Hh(e,i,s){if(uu)return e(i,s);uu=!0;try{var r=e(i);return r}finally{if(uu=!1,(Wn!==null||Jn!==null)&&(tr(),Wn&&(i=Wn,e=Jn,Jn=Wn=null,jh(i),e)))for(i=0;i<e.length;i++)jh(e[i])}}function Vs(e,i){var s=e.stateNode;if(s===null)return null;var r=s[xe]||null;if(r===null)return null;s=r[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,i,typeof s));return s}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=!1;if(Si)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){ou=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{ou=!1}var Qi=null,cu=null,ml=null;function kh(){if(ml)return ml;var e,i=cu,s=i.length,r,c="value"in Qi?Qi.value:Qi.textContent,f=c.length;for(e=0;e<s&&i[e]===c[e];e++);var y=s-e;for(r=1;r<=y&&i[s-r]===c[f-r];r++);return ml=c.slice(e,1<r?1-r:void 0)}function pl(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function gl(){return!0}function Lh(){return!1}function _e(e){function i(s,r,c,f,y){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?gl:Lh,this.isPropagationStopped=Lh,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),i}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=_e(bn),Qs=x({},bn,{view:0,detail:0}),Dy=_e(Qs),hu,fu,Zs,xl=x({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zs&&(Zs&&e.type==="mousemove"?(hu=e.screenX-Zs.screenX,fu=e.screenY-Zs.screenY):fu=hu=0,Zs=e),hu)},movementY:function(e){return"movementY"in e?e.movementY:fu}}),Yh=_e(xl),Oy=x({},xl,{dataTransfer:0}),Gy=_e(Oy),Uy=x({},Qs,{relatedTarget:0}),du=_e(Uy),jy=x({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hy=_e(jy),ky=x({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ly=_e(ky),Yy=x({},bn,{data:0}),qh=_e(Yy),qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Vy[e])?!!i[e]:!1}function mu(){return Py}var Qy=x({},Qs,{key:function(e){if(e.key){var i=qy[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(e){return e.type==="keypress"?pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zy=_e(Qy),Fy=x({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xh=_e(Fy),Ky=x({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),Iy=_e(Ky),Wy=x({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jy=_e(Wy),$y=x({},xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tx=_e($y),ex=x({},bn,{newState:0,oldState:0}),ix=_e(ex),nx=[9,13,27,32],pu=Si&&"CompositionEvent"in window,Fs=null;Si&&"documentMode"in document&&(Fs=document.documentMode);var sx=Si&&"TextEvent"in window&&!Fs,Vh=Si&&(!pu||Fs&&8<Fs&&11>=Fs),Ph=" ",Qh=!1;function Zh(e,i){switch(e){case"keyup":return nx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function ax(e,i){switch(e){case"compositionend":return Fh(i);case"keypress":return i.which!==32?null:(Qh=!0,Ph);case"textInput":return e=i.data,e===Ph&&Qh?null:e;default:return null}}function lx(e,i){if($n)return e==="compositionend"||!pu&&Zh(e,i)?(e=kh(),ml=cu=Qi=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vh&&i.locale!=="ko"?null:i.data;default:return null}}var rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!rx[e.type]:i==="textarea"}function Ih(e,i,s,r){Wn?Jn?Jn.push(r):Jn=[r]:Wn=r,i=rr(i,"onChange"),0<i.length&&(s=new yl("onChange","change",null,s,r),e.push({event:s,listeners:i}))}var Ks=null,Is=null;function ux(e){Dm(e,0)}function _l(e){var i=Xs(e);if(Bh(i))return e}function Wh(e,i){if(e==="change")return i}var Jh=!1;if(Si){var gu;if(Si){var yu="oninput"in document;if(!yu){var $h=document.createElement("div");$h.setAttribute("oninput","return;"),yu=typeof $h.oninput=="function"}gu=yu}else gu=!1;Jh=gu&&(!document.documentMode||9<document.documentMode)}function tf(){Ks&&(Ks.detachEvent("onpropertychange",ef),Is=Ks=null)}function ef(e){if(e.propertyName==="value"&&_l(Is)){var i=[];Ih(i,Is,e,ru(e)),Hh(ux,i)}}function ox(e,i,s){e==="focusin"?(tf(),Ks=i,Is=s,Ks.attachEvent("onpropertychange",ef)):e==="focusout"&&tf()}function cx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _l(Is)}function hx(e,i){if(e==="click")return _l(i)}function fx(e,i){if(e==="input"||e==="change")return _l(i)}function dx(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var ze=typeof Object.is=="function"?Object.is:dx;function Ws(e,i){if(ze(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),r=Object.keys(i);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!sl.call(i,c)||!ze(e[c],i[c]))return!1}return!0}function nf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sf(e,i){var s=nf(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=i&&r>=i)return{node:s,offset:i-e};e=r}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=nf(s)}}function af(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?af(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function lf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=fl(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=fl(e.document)}return i}function xu(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var mx=Si&&"documentMode"in document&&11>=document.documentMode,ts=null,_u=null,Js=null,bu=!1;function rf(e,i,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bu||ts==null||ts!==fl(r)||(r=ts,"selectionStart"in r&&xu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&Ws(Js,r)||(Js=r,r=rr(_u,"onSelect"),0<r.length&&(i=new yl("onSelect","select",null,i,s),e.push({event:i,listeners:r}),i.target=ts)))}function vn(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var es={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionrun:vn("Transition","TransitionRun"),transitionstart:vn("Transition","TransitionStart"),transitioncancel:vn("Transition","TransitionCancel"),transitionend:vn("Transition","TransitionEnd")},vu={},uf={};Si&&(uf=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function Sn(e){if(vu[e])return vu[e];if(!es[e])return e;var i=es[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in uf)return vu[e]=i[s];return e}var of=Sn("animationend"),cf=Sn("animationiteration"),hf=Sn("animationstart"),px=Sn("transitionrun"),gx=Sn("transitionstart"),yx=Sn("transitioncancel"),ff=Sn("transitionend"),df=new Map,Su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Su.push("scrollEnd");function ti(e,i){df.set(e,i),_n(i,[e])}var bl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Le=[],is=0,Tu=0;function vl(){for(var e=is,i=Tu=is=0;i<e;){var s=Le[i];Le[i++]=null;var r=Le[i];Le[i++]=null;var c=Le[i];Le[i++]=null;var f=Le[i];if(Le[i++]=null,r!==null&&c!==null){var y=r.pending;y===null?c.next=c:(c.next=y.next,y.next=c),r.pending=c}f!==0&&mf(s,c,f)}}function Sl(e,i,s,r){Le[is++]=e,Le[is++]=i,Le[is++]=s,Le[is++]=r,Tu|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Au(e,i,s,r){return Sl(e,i,s,r),Tl(e)}function Tn(e,i){return Sl(e,null,null,i),Tl(e)}function mf(e,i,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,r=f.alternate,r!==null&&(r.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&i!==null&&(c=31-Ee(s),e=f.hiddenUpdates,r=e[c],r===null?e[c]=[i]:r.push(i),i.lane=s|536870912),f):null}function Tl(e){if(50<ba)throw ba=0,Oo=null,Error(l(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ns={};function xx(e,i,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Re(e,i,s,r){return new xx(e,i,s,r)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ti(e,i){var s=e.alternate;return s===null?(s=Re(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function pf(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Al(e,i,s,r,c,f){var y=0;if(r=e,typeof e=="function")Mu(e)&&(y=1);else if(typeof e=="string")y=T_(e,s,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case K:return e=Re(31,s,i,c),e.elementType=K,e.lanes=f,e;case A:return An(s.children,c,f,i);case T:y=8,c|=24;break;case E:return e=Re(12,s,i,c|2),e.elementType=E,e.lanes=f,e;case Q:return e=Re(13,s,i,c),e.elementType=Q,e.lanes=f,e;case P:return e=Re(19,s,i,c),e.elementType=P,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:y=10;break t;case N:y=9;break t;case j:y=11;break t;case k:y=14;break t;case it:y=16,r=null;break t}y=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return i=Re(y,s,i,c),i.elementType=e,i.type=r,i.lanes=f,i}function An(e,i,s,r){return e=Re(7,e,r,i),e.lanes=s,e}function Cu(e,i,s){return e=Re(6,e,null,i),e.lanes=s,e}function gf(e){var i=Re(18,null,null,0);return i.stateNode=e,i}function wu(e,i,s){return i=Re(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var yf=new WeakMap;function Ye(e,i){if(typeof e=="object"&&e!==null){var s=yf.get(e);return s!==void 0?s:(i={value:e,source:i,stack:nl(i)},yf.set(e,i),i)}return{value:e,source:i,stack:nl(i)}}var ss=[],as=0,Ml=null,$s=0,qe=[],Xe=0,Zi=null,fi=1,di="";function Ai(e,i){ss[as++]=$s,ss[as++]=Ml,Ml=e,$s=i}function xf(e,i,s){qe[Xe++]=fi,qe[Xe++]=di,qe[Xe++]=Zi,Zi=e;var r=fi;e=di;var c=32-Ee(r)-1;r&=~(1<<c),s+=1;var f=32-Ee(i)+c;if(30<f){var y=c-c%5;f=(r&(1<<y)-1).toString(32),r>>=y,c-=y,fi=1<<32-Ee(i)+c|s<<c|r,di=f+e}else fi=1<<f|s<<c|r,di=e}function Eu(e){e.return!==null&&(Ai(e,1),xf(e,1,0))}function zu(e){for(;e===Ml;)Ml=ss[--as],ss[as]=null,$s=ss[--as],ss[as]=null;for(;e===Zi;)Zi=qe[--Xe],qe[Xe]=null,di=qe[--Xe],qe[Xe]=null,fi=qe[--Xe],qe[Xe]=null}function _f(e,i){qe[Xe++]=fi,qe[Xe++]=di,qe[Xe++]=Zi,fi=i.id,di=i.overflow,Zi=e}var re=null,Ut=null,xt=!1,Fi=null,Ve=!1,Ru=Error(l(519));function Ki(e){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ta(Ye(i,e)),Ru}function bf(e){var i=e.stateNode,s=e.type,r=e.memoizedProps;switch(i[le]=e,i[xe]=r,s){case"dialog":dt("cancel",i),dt("close",i);break;case"iframe":case"object":case"embed":dt("load",i);break;case"video":case"audio":for(s=0;s<Sa.length;s++)dt(Sa[s],i);break;case"source":dt("error",i);break;case"img":case"image":case"link":dt("error",i),dt("load",i);break;case"details":dt("toggle",i);break;case"input":dt("invalid",i),Nh(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":dt("invalid",i);break;case"textarea":dt("invalid",i),Oh(i,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||r.suppressHydrationWarning===!0||jm(i.textContent,s)?(r.popover!=null&&(dt("beforetoggle",i),dt("toggle",i)),r.onScroll!=null&&dt("scroll",i),r.onScrollEnd!=null&&dt("scrollend",i),r.onClick!=null&&(i.onclick=vi),i=!0):i=!1,i||Ki(e,!0)}function vf(e){for(re=e.return;re;)switch(re.tag){case 5:case 31:case 13:Ve=!1;return;case 27:case 3:Ve=!0;return;default:re=re.return}}function ls(e){if(e!==re)return!1;if(!xt)return vf(e),xt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ko(e.type,e.memoizedProps)),s=!s),s&&Ut&&Ki(e),vf(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ut=Qm(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Ut=Qm(e)}else i===27?(i=Ut,cn(e.type)?(e=tc,tc=null,Ut=e):Ut=i):Ut=re?Qe(e.stateNode.nextSibling):null;return!0}function Mn(){Ut=re=null,xt=!1}function Bu(){var e=Fi;return e!==null&&(Te===null?Te=e:Te.push.apply(Te,e),Fi=null),e}function ta(e){Fi===null?Fi=[e]:Fi.push(e)}var Nu=w(null),Cn=null,Mi=null;function Ii(e,i,s){Z(Nu,i._currentValue),i._currentValue=s}function Ci(e){e._currentValue=Nu.current,X(Nu)}function Du(e,i,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),e===s)break;e=e.return}}function Ou(e,i,s,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var b=f;f=c;for(var M=0;M<i.length;M++)if(b.context===i[M]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),Du(f.return,s,e),r||(y=null);break t}f=b.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(l(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Du(y,s,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function rs(e,i,s,r){e=null;for(var c=i,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var b=c.type;ze(c.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(c===vt.current){if(y=c.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(wa):e=[wa])}c=c.return}e!==null&&Ou(i,e,s,r),i.flags|=262144}function Cl(e){for(e=e.firstContext;e!==null;){if(!ze(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wn(e){Cn=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ue(e){return Sf(Cn,e)}function wl(e,i){return Cn===null&&wn(e),Sf(e,i)}function Sf(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Mi===null){if(e===null)throw Error(l(308));Mi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Mi=Mi.next=i;return s}var _x=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},bx=a.unstable_scheduleCallback,vx=a.unstable_NormalPriority,Ft={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new _x,data:new Map,refCount:0}}function ea(e){e.refCount--,e.refCount===0&&bx(vx,function(){e.controller.abort()})}var ia=null,Uu=0,us=0,os=null;function Sx(e,i){if(ia===null){var s=ia=[];Uu=0,us=Lo(),os={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Uu++,i.then(Tf,Tf),i}function Tf(){if(--Uu===0&&ia!==null){os!==null&&(os.status="fulfilled");var e=ia;ia=null,us=0,os=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Tx(e,i){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){r.status="fulfilled",r.value=i;for(var c=0;c<s.length;c++)(0,s[c])(i)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var Af=z.S;z.S=function(e,i){rm=Ce(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Sx(e,i),Af!==null&&Af(e,i)};var En=w(null);function ju(){var e=En.current;return e!==null?e:Dt.pooledCache}function El(e,i){i===null?Z(En,En.current):Z(En,i.pool)}function Mf(){var e=ju();return e===null?null:{parent:Ft._currentValue,pool:e}}var cs=Error(l(460)),Hu=Error(l(474)),zl=Error(l(542)),Rl={then:function(){}};function Cf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wf(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(vi,vi),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,zf(e),e;default:if(typeof i.status=="string")i.then(vi,vi);else{if(e=Dt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=i,e.status="pending",e.then(function(r){if(i.status==="pending"){var c=i;c.status="fulfilled",c.value=r}},function(r){if(i.status==="pending"){var c=i;c.status="rejected",c.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,zf(e),e}throw Rn=i,cs}}function zn(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Rn=s,cs):s}}var Rn=null;function Ef(){if(Rn===null)throw Error(l(459));var e=Rn;return Rn=null,e}function zf(e){if(e===cs||e===zl)throw Error(l(483))}var hs=null,na=0;function Bl(e){var i=na;return na+=1,hs===null&&(hs=[]),wf(hs,e,i)}function sa(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Nl(e,i){throw i.$$typeof===v?Error(l(525)):(e=Object.prototype.toString.call(i),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Rf(e){function i(R,C){if(e){var D=R.deletions;D===null?(R.deletions=[C],R.flags|=16):D.push(C)}}function s(R,C){if(!e)return null;for(;C!==null;)i(R,C),C=C.sibling;return null}function r(R){for(var C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function c(R,C){return R=Ti(R,C),R.index=0,R.sibling=null,R}function f(R,C,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<C?(R.flags|=67108866,C):D):(R.flags|=67108866,C)):(R.flags|=1048576,C)}function y(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function b(R,C,D,q){return C===null||C.tag!==6?(C=Cu(D,R.mode,q),C.return=R,C):(C=c(C,D),C.return=R,C)}function M(R,C,D,q){var nt=D.type;return nt===A?L(R,C,D.props.children,q,D.key):C!==null&&(C.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===it&&zn(nt)===C.type)?(C=c(C,D.props),sa(C,D),C.return=R,C):(C=Al(D.type,D.key,D.props,null,R.mode,q),sa(C,D),C.return=R,C)}function O(R,C,D,q){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=wu(D,R.mode,q),C.return=R,C):(C=c(C,D.children||[]),C.return=R,C)}function L(R,C,D,q,nt){return C===null||C.tag!==7?(C=An(D,R.mode,q,nt),C.return=R,C):(C=c(C,D),C.return=R,C)}function V(R,C,D){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Cu(""+C,R.mode,D),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _:return D=Al(C.type,C.key,C.props,null,R.mode,D),sa(D,C),D.return=R,D;case S:return C=wu(C,R.mode,D),C.return=R,C;case it:return C=zn(C),V(R,C,D)}if(ee(C)||ct(C))return C=An(C,R.mode,D,null),C.return=R,C;if(typeof C.then=="function")return V(R,Bl(C),D);if(C.$$typeof===B)return V(R,wl(R,C),D);Nl(R,C)}return null}function U(R,C,D,q){var nt=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return nt!==null?null:b(R,C,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===nt?M(R,C,D,q):null;case S:return D.key===nt?O(R,C,D,q):null;case it:return D=zn(D),U(R,C,D,q)}if(ee(D)||ct(D))return nt!==null?null:L(R,C,D,q,null);if(typeof D.then=="function")return U(R,C,Bl(D),q);if(D.$$typeof===B)return U(R,C,wl(R,D),q);Nl(R,D)}return null}function H(R,C,D,q,nt){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return R=R.get(D)||null,b(C,R,""+q,nt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return R=R.get(q.key===null?D:q.key)||null,M(C,R,q,nt);case S:return R=R.get(q.key===null?D:q.key)||null,O(C,R,q,nt);case it:return q=zn(q),H(R,C,D,q,nt)}if(ee(q)||ct(q))return R=R.get(D)||null,L(C,R,q,nt,null);if(typeof q.then=="function")return H(R,C,D,Bl(q),nt);if(q.$$typeof===B)return H(R,C,D,wl(C,q),nt);Nl(C,q)}return null}function J(R,C,D,q){for(var nt=null,St=null,$=C,ht=C=0,gt=null;$!==null&&ht<D.length;ht++){$.index>ht?(gt=$,$=null):gt=$.sibling;var Tt=U(R,$,D[ht],q);if(Tt===null){$===null&&($=gt);break}e&&$&&Tt.alternate===null&&i(R,$),C=f(Tt,C,ht),St===null?nt=Tt:St.sibling=Tt,St=Tt,$=gt}if(ht===D.length)return s(R,$),xt&&Ai(R,ht),nt;if($===null){for(;ht<D.length;ht++)$=V(R,D[ht],q),$!==null&&(C=f($,C,ht),St===null?nt=$:St.sibling=$,St=$);return xt&&Ai(R,ht),nt}for($=r($);ht<D.length;ht++)gt=H($,R,ht,D[ht],q),gt!==null&&(e&&gt.alternate!==null&&$.delete(gt.key===null?ht:gt.key),C=f(gt,C,ht),St===null?nt=gt:St.sibling=gt,St=gt);return e&&$.forEach(function(pn){return i(R,pn)}),xt&&Ai(R,ht),nt}function at(R,C,D,q){if(D==null)throw Error(l(151));for(var nt=null,St=null,$=C,ht=C=0,gt=null,Tt=D.next();$!==null&&!Tt.done;ht++,Tt=D.next()){$.index>ht?(gt=$,$=null):gt=$.sibling;var pn=U(R,$,Tt.value,q);if(pn===null){$===null&&($=gt);break}e&&$&&pn.alternate===null&&i(R,$),C=f(pn,C,ht),St===null?nt=pn:St.sibling=pn,St=pn,$=gt}if(Tt.done)return s(R,$),xt&&Ai(R,ht),nt;if($===null){for(;!Tt.done;ht++,Tt=D.next())Tt=V(R,Tt.value,q),Tt!==null&&(C=f(Tt,C,ht),St===null?nt=Tt:St.sibling=Tt,St=Tt);return xt&&Ai(R,ht),nt}for($=r($);!Tt.done;ht++,Tt=D.next())Tt=H($,R,ht,Tt.value,q),Tt!==null&&(e&&Tt.alternate!==null&&$.delete(Tt.key===null?ht:Tt.key),C=f(Tt,C,ht),St===null?nt=Tt:St.sibling=Tt,St=Tt);return e&&$.forEach(function(O_){return i(R,O_)}),xt&&Ai(R,ht),nt}function Bt(R,C,D,q){if(typeof D=="object"&&D!==null&&D.type===A&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:t:{for(var nt=D.key;C!==null;){if(C.key===nt){if(nt=D.type,nt===A){if(C.tag===7){s(R,C.sibling),q=c(C,D.props.children),q.return=R,R=q;break t}}else if(C.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===it&&zn(nt)===C.type){s(R,C.sibling),q=c(C,D.props),sa(q,D),q.return=R,R=q;break t}s(R,C);break}else i(R,C);C=C.sibling}D.type===A?(q=An(D.props.children,R.mode,q,D.key),q.return=R,R=q):(q=Al(D.type,D.key,D.props,null,R.mode,q),sa(q,D),q.return=R,R=q)}return y(R);case S:t:{for(nt=D.key;C!==null;){if(C.key===nt)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){s(R,C.sibling),q=c(C,D.children||[]),q.return=R,R=q;break t}else{s(R,C);break}else i(R,C);C=C.sibling}q=wu(D,R.mode,q),q.return=R,R=q}return y(R);case it:return D=zn(D),Bt(R,C,D,q)}if(ee(D))return J(R,C,D,q);if(ct(D)){if(nt=ct(D),typeof nt!="function")throw Error(l(150));return D=nt.call(D),at(R,C,D,q)}if(typeof D.then=="function")return Bt(R,C,Bl(D),q);if(D.$$typeof===B)return Bt(R,C,wl(R,D),q);Nl(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,C!==null&&C.tag===6?(s(R,C.sibling),q=c(C,D),q.return=R,R=q):(s(R,C),q=Cu(D,R.mode,q),q.return=R,R=q),y(R)):s(R,C)}return function(R,C,D,q){try{na=0;var nt=Bt(R,C,D,q);return hs=null,nt}catch($){if($===cs||$===zl)throw $;var St=Re(29,$,null,R.mode);return St.lanes=q,St.return=R,St}finally{}}}var Bn=Rf(!0),Bf=Rf(!1),Wi=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lu(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $i(e,i,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(At&2)!==0){var c=r.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),r.pending=i,i=Tl(e),mf(e,null,s),i}return Sl(e,r,i,s),Tl(e)}function aa(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var r=i.lanes;r&=e.pendingLanes,s|=r,i.lanes=s,vh(e,s)}}function Yu(e,i){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=i:f=f.next=i}else c=f=i;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var qu=!1;function la(){if(qu){var e=os;if(e!==null)throw e}}function ra(e,i,s,r){qu=!1;var c=e.updateQueue;Wi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var M=b,O=M.next;M.next=null,y===null?f=O:y.next=O,y=M;var L=e.alternate;L!==null&&(L=L.updateQueue,b=L.lastBaseUpdate,b!==y&&(b===null?L.firstBaseUpdate=O:b.next=O,L.lastBaseUpdate=M))}if(f!==null){var V=c.baseState;y=0,L=O=M=null,b=f;do{var U=b.lane&-536870913,H=U!==b.lane;if(H?(pt&U)===U:(r&U)===U){U!==0&&U===us&&(qu=!0),L!==null&&(L=L.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var J=e,at=b;U=i;var Bt=s;switch(at.tag){case 1:if(J=at.payload,typeof J=="function"){V=J.call(Bt,V,U);break t}V=J;break t;case 3:J.flags=J.flags&-65537|128;case 0:if(J=at.payload,U=typeof J=="function"?J.call(Bt,V,U):J,U==null)break t;V=x({},V,U);break t;case 2:Wi=!0}}U=b.callback,U!==null&&(e.flags|=64,H&&(e.flags|=8192),H=c.callbacks,H===null?c.callbacks=[U]:H.push(U))}else H={lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},L===null?(O=L=H,M=V):L=L.next=H,y|=U;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;H=b,b=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);L===null&&(M=V),c.baseState=M,c.firstBaseUpdate=O,c.lastBaseUpdate=L,f===null&&(c.shared.lanes=0),an|=y,e.lanes=y,e.memoizedState=V}}function Nf(e,i){if(typeof e!="function")throw Error(l(191,e));e.call(i)}function Df(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Nf(s[e],i)}var fs=w(null),Dl=w(0);function Of(e,i){e=Gi,Z(Dl,e),Z(fs,i),Gi=e|i.baseLanes}function Xu(){Z(Dl,Gi),Z(fs,fs.current)}function Vu(){Gi=Dl.current,X(fs),X(Dl)}var Be=w(null),Pe=null;function tn(e){var i=e.alternate;Z(Pt,Pt.current&1),Z(Be,e),Pe===null&&(i===null||fs.current!==null||i.memoizedState!==null)&&(Pe=e)}function Pu(e){Z(Pt,Pt.current),Z(Be,e),Pe===null&&(Pe=e)}function Gf(e){e.tag===22?(Z(Pt,Pt.current),Z(Be,e),Pe===null&&(Pe=e)):en()}function en(){Z(Pt,Pt.current),Z(Be,Be.current)}function Ne(e){X(Be),Pe===e&&(Pe=null),X(Pt)}var Pt=w(0);function Ol(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Jo(s)||$o(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var wi=0,ot=null,zt=null,Kt=null,Gl=!1,ds=!1,Nn=!1,Ul=0,ua=0,ms=null,Ax=0;function Lt(){throw Error(l(321))}function Qu(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!ze(e[s],i[s]))return!1;return!0}function Zu(e,i,s,r,c,f){return wi=f,ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=e===null||e.memoizedState===null?xd:uo,Nn=!1,f=s(r,c),Nn=!1,ds&&(f=jf(i,s,r,c)),Uf(e),f}function Uf(e){z.H=ha;var i=zt!==null&&zt.next!==null;if(wi=0,Kt=zt=ot=null,Gl=!1,ua=0,ms=null,i)throw Error(l(300));e===null||It||(e=e.dependencies,e!==null&&Cl(e)&&(It=!0))}function jf(e,i,s,r){ot=e;var c=0;do{if(ds&&(ms=null),ua=0,ds=!1,25<=c)throw Error(l(301));if(c+=1,Kt=zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=_d,f=i(s,r)}while(ds);return f}function Mx(){var e=z.H,i=e.useState()[0];return i=typeof i.then=="function"?oa(i):i,e=e.useState()[0],(zt!==null?zt.memoizedState:null)!==e&&(ot.flags|=1024),i}function Fu(){var e=Ul!==0;return Ul=0,e}function Ku(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function Iu(e){if(Gl){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Gl=!1}wi=0,Kt=zt=ot=null,ds=!1,ua=Ul=0,ms=null}function pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?ot.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function Qt(){if(zt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var i=Kt===null?ot.memoizedState:Kt.next;if(i!==null)Kt=i,zt=e;else{if(e===null)throw ot.alternate===null?Error(l(467)):Error(l(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Kt===null?ot.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oa(e){var i=ua;return ua+=1,ms===null&&(ms=[]),e=wf(ms,e,i),i=ot,(Kt===null?i.memoizedState:Kt.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?xd:uo),e}function Hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return oa(e);if(e.$$typeof===B)return ue(e)}throw Error(l(438,String(e)))}function Wu(e){var i=null,s=ot.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var r=ot.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(c){return c.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=jl(),ot.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),r=0;r<e;r++)s[r]=F;return i.index++,s}function Ei(e,i){return typeof i=="function"?i(e):i}function kl(e){var i=Qt();return Ju(i,zt,e)}function Ju(e,i,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var c=e.baseQueue,f=r.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}i.baseQueue=c=f,r.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{i=c.next;var b=y=null,M=null,O=i,L=!1;do{var V=O.lane&-536870913;if(V!==O.lane?(pt&V)===V:(wi&V)===V){var U=O.revertLane;if(U===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),V===us&&(L=!0);else if((wi&U)===U){O=O.next,U===us&&(L=!0);continue}else V={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},M===null?(b=M=V,y=f):M=M.next=V,ot.lanes|=U,an|=U;V=O.action,Nn&&s(f,V),f=O.hasEagerState?O.eagerState:s(f,V)}else U={lane:V,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},M===null?(b=M=U,y=f):M=M.next=U,ot.lanes|=V,an|=V;O=O.next}while(O!==null&&O!==i);if(M===null?y=f:M.next=b,!ze(f,e.memoizedState)&&(It=!0,L&&(s=os,s!==null)))throw s;e.memoizedState=f,e.baseState=y,e.baseQueue=M,r.lastRenderedState=f}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function $u(e){var i=Qt(),s=i.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,c=s.pending,f=i.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=e(f,y.action),y=y.next;while(y!==c);ze(f,i.memoizedState)||(It=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,r]}function Hf(e,i,s){var r=ot,c=Qt(),f=xt;if(f){if(s===void 0)throw Error(l(407));s=s()}else s=i();var y=!ze((zt||c).memoizedState,s);if(y&&(c.memoizedState=s,It=!0),c=c.queue,io(Yf.bind(null,r,c,e),[e]),c.getSnapshot!==i||y||Kt!==null&&Kt.memoizedState.tag&1){if(r.flags|=2048,ps(9,{destroy:void 0},Lf.bind(null,r,c,s,i),null),Dt===null)throw Error(l(349));f||(wi&127)!==0||kf(r,i,s)}return s}function kf(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=ot.updateQueue,i===null?(i=jl(),ot.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function Lf(e,i,s,r){i.value=s,i.getSnapshot=r,qf(i)&&Xf(e)}function Yf(e,i,s){return s(function(){qf(i)&&Xf(e)})}function qf(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!ze(e,s)}catch{return!0}}function Xf(e){var i=Tn(e,2);i!==null&&Ae(i,e,2)}function to(e){var i=pe();if(typeof e=="function"){var s=e;if(e=s(),Nn){Vi(!0);try{s()}finally{Vi(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:e},i}function Vf(e,i,s,r){return e.baseState=s,Ju(e,zt,typeof r=="function"?r:Ei)}function Cx(e,i,s,r,c){if(ql(e))throw Error(l(485));if(e=i.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};z.T!==null?s(!0):f.isTransition=!1,r(f),s=i.pending,s===null?(f.next=i.pending=f,Pf(i,f)):(f.next=s.next,i.pending=s.next=f)}}function Pf(e,i){var s=i.action,r=i.payload,c=e.state;if(i.isTransition){var f=z.T,y={};z.T=y;try{var b=s(c,r),M=z.S;M!==null&&M(y,b),Qf(e,i,b)}catch(O){eo(e,i,O)}finally{f!==null&&y.types!==null&&(f.types=y.types),z.T=f}}else try{f=s(c,r),Qf(e,i,f)}catch(O){eo(e,i,O)}}function Qf(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Zf(e,i,r)},function(r){return eo(e,i,r)}):Zf(e,i,s)}function Zf(e,i,s){i.status="fulfilled",i.value=s,Ff(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,Pf(e,s)))}function eo(e,i,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=s,Ff(i),i=i.next;while(i!==r)}e.action=null}function Ff(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Kf(e,i){return i}function If(e,i){if(xt){var s=Dt.formState;if(s!==null){t:{var r=ot;if(xt){if(Ut){e:{for(var c=Ut,f=Ve;c.nodeType!==8;){if(!f){c=null;break e}if(c=Qe(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ut=Qe(c.nextSibling),r=c.data==="F!";break t}}Ki(r)}r=!1}r&&(i=s[0])}}return s=pe(),s.memoizedState=s.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:i},s.queue=r,s=pd.bind(null,ot,r),r.dispatch=s,r=to(!1),f=ro.bind(null,ot,!1,r.queue),r=pe(),c={state:i,dispatch:null,action:e,pending:null},r.queue=c,s=Cx.bind(null,ot,c,f,s),c.dispatch=s,r.memoizedState=e,[i,s,!1]}function Wf(e){var i=Qt();return Jf(i,zt,e)}function Jf(e,i,s){if(i=Ju(e,i,Kf)[0],e=kl(Ei)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=oa(i)}catch(y){throw y===cs?zl:y}else r=i;i=Qt();var c=i.queue,f=c.dispatch;return s!==i.memoizedState&&(ot.flags|=2048,ps(9,{destroy:void 0},wx.bind(null,c,s),null)),[r,f,e]}function wx(e,i){e.action=i}function $f(e){var i=Qt(),s=zt;if(s!==null)return Jf(i,s,e);Qt(),i=i.memoizedState,s=Qt();var r=s.queue.dispatch;return s.memoizedState=e,[i,r,!1]}function ps(e,i,s,r){return e={tag:e,create:s,deps:r,inst:i,next:null},i=ot.updateQueue,i===null&&(i=jl(),ot.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,i.lastEffect=e),e}function td(){return Qt().memoizedState}function Ll(e,i,s,r){var c=pe();ot.flags|=e,c.memoizedState=ps(1|i,{destroy:void 0},s,r===void 0?null:r)}function Yl(e,i,s,r){var c=Qt();r=r===void 0?null:r;var f=c.memoizedState.inst;zt!==null&&r!==null&&Qu(r,zt.memoizedState.deps)?c.memoizedState=ps(i,f,s,r):(ot.flags|=e,c.memoizedState=ps(1|i,f,s,r))}function ed(e,i){Ll(8390656,8,e,i)}function io(e,i){Yl(2048,8,e,i)}function Ex(e){ot.flags|=4;var i=ot.updateQueue;if(i===null)i=jl(),ot.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function id(e){var i=Qt().memoizedState;return Ex({ref:i,nextImpl:e}),function(){if((At&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function nd(e,i){return Yl(4,2,e,i)}function sd(e,i){return Yl(4,4,e,i)}function ad(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ld(e,i,s){s=s!=null?s.concat([e]):null,Yl(4,4,ad.bind(null,i,e),s)}function no(){}function rd(e,i){var s=Qt();i=i===void 0?null:i;var r=s.memoizedState;return i!==null&&Qu(i,r[1])?r[0]:(s.memoizedState=[e,i],e)}function ud(e,i){var s=Qt();i=i===void 0?null:i;var r=s.memoizedState;if(i!==null&&Qu(i,r[1]))return r[0];if(r=e(),Nn){Vi(!0);try{e()}finally{Vi(!1)}}return s.memoizedState=[r,i],r}function so(e,i,s){return s===void 0||(wi&1073741824)!==0&&(pt&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=om(),ot.lanes|=e,an|=e,s)}function od(e,i,s,r){return ze(s,i)?s:fs.current!==null?(e=so(e,s,r),ze(e,i)||(It=!0),e):(wi&42)===0||(wi&1073741824)!==0&&(pt&261930)===0?(It=!0,e.memoizedState=s):(e=om(),ot.lanes|=e,an|=e,i)}function cd(e,i,s,r,c){var f=Y.p;Y.p=f!==0&&8>f?f:8;var y=z.T,b={};z.T=b,ro(e,!1,i,s);try{var M=c(),O=z.S;if(O!==null&&O(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var L=Tx(M,r);ca(e,i,L,Ge(e))}else ca(e,i,r,Ge(e))}catch(V){ca(e,i,{then:function(){},status:"rejected",reason:V},Ge())}finally{Y.p=f,y!==null&&b.types!==null&&(y.types=b.types),z.T=y}}function zx(){}function ao(e,i,s,r){if(e.tag!==5)throw Error(l(476));var c=hd(e).queue;cd(e,c,i,st,s===null?zx:function(){return fd(e),s(r)})}function hd(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:st},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function fd(e){var i=hd(e);i.next===null&&(i=e.alternate.memoizedState),ca(e,i.next.queue,{},Ge())}function lo(){return ue(wa)}function dd(){return Qt().memoizedState}function md(){return Qt().memoizedState}function Rx(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=Ge();e=Ji(s);var r=$i(i,e,s);r!==null&&(Ae(r,i,s),aa(r,i,s)),i={cache:Gu()},e.payload=i;return}i=i.return}}function Bx(e,i,s){var r=Ge();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ql(e)?gd(i,s):(s=Au(e,i,s,r),s!==null&&(Ae(s,e,r),yd(s,i,r)))}function pd(e,i,s){var r=Ge();ca(e,i,s,r)}function ca(e,i,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ql(e))gd(i,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,b=f(y,s);if(c.hasEagerState=!0,c.eagerState=b,ze(b,y))return Sl(e,i,c,0),Dt===null&&vl(),!1}catch{}finally{}if(s=Au(e,i,c,r),s!==null)return Ae(s,e,r),yd(s,i,r),!0}return!1}function ro(e,i,s,r){if(r={lane:2,revertLane:Lo(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ql(e)){if(i)throw Error(l(479))}else i=Au(e,s,r,2),i!==null&&Ae(i,e,2)}function ql(e){var i=e.alternate;return e===ot||i!==null&&i===ot}function gd(e,i){ds=Gl=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function yd(e,i,s){if((s&4194048)!==0){var r=i.lanes;r&=e.pendingLanes,s|=r,i.lanes=s,vh(e,s)}}var ha={readContext:ue,use:Hl,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};ha.useEffectEvent=Lt;var xd={readContext:ue,use:Hl,useCallback:function(e,i){return pe().memoizedState=[e,i===void 0?null:i],e},useContext:ue,useEffect:ed,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Ll(4194308,4,ad.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Ll(4194308,4,e,i)},useInsertionEffect:function(e,i){Ll(4,2,e,i)},useMemo:function(e,i){var s=pe();i=i===void 0?null:i;var r=e();if(Nn){Vi(!0);try{e()}finally{Vi(!1)}}return s.memoizedState=[r,i],r},useReducer:function(e,i,s){var r=pe();if(s!==void 0){var c=s(i);if(Nn){Vi(!0);try{s(i)}finally{Vi(!1)}}}else c=i;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=Bx.bind(null,ot,e),[r.memoizedState,e]},useRef:function(e){var i=pe();return e={current:e},i.memoizedState=e},useState:function(e){e=to(e);var i=e.queue,s=pd.bind(null,ot,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:no,useDeferredValue:function(e,i){var s=pe();return so(s,e,i)},useTransition:function(){var e=to(!1);return e=cd.bind(null,ot,e.queue,!0,!1),pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var r=ot,c=pe();if(xt){if(s===void 0)throw Error(l(407));s=s()}else{if(s=i(),Dt===null)throw Error(l(349));(pt&127)!==0||kf(r,i,s)}c.memoizedState=s;var f={value:s,getSnapshot:i};return c.queue=f,ed(Yf.bind(null,r,f,e),[e]),r.flags|=2048,ps(9,{destroy:void 0},Lf.bind(null,r,f,s,i),null),s},useId:function(){var e=pe(),i=Dt.identifierPrefix;if(xt){var s=di,r=fi;s=(r&~(1<<32-Ee(r)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Ul++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=Ax++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:lo,useFormState:If,useActionState:If,useOptimistic:function(e){var i=pe();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=ro.bind(null,ot,!0,s),s.dispatch=i,[e,i]},useMemoCache:Wu,useCacheRefresh:function(){return pe().memoizedState=Rx.bind(null,ot)},useEffectEvent:function(e){var i=pe(),s={impl:e};return i.memoizedState=s,function(){if((At&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},uo={readContext:ue,use:Hl,useCallback:rd,useContext:ue,useEffect:io,useImperativeHandle:ld,useInsertionEffect:nd,useLayoutEffect:sd,useMemo:ud,useReducer:kl,useRef:td,useState:function(){return kl(Ei)},useDebugValue:no,useDeferredValue:function(e,i){var s=Qt();return od(s,zt.memoizedState,e,i)},useTransition:function(){var e=kl(Ei)[0],i=Qt().memoizedState;return[typeof e=="boolean"?e:oa(e),i]},useSyncExternalStore:Hf,useId:dd,useHostTransitionStatus:lo,useFormState:Wf,useActionState:Wf,useOptimistic:function(e,i){var s=Qt();return Vf(s,zt,e,i)},useMemoCache:Wu,useCacheRefresh:md};uo.useEffectEvent=id;var _d={readContext:ue,use:Hl,useCallback:rd,useContext:ue,useEffect:io,useImperativeHandle:ld,useInsertionEffect:nd,useLayoutEffect:sd,useMemo:ud,useReducer:$u,useRef:td,useState:function(){return $u(Ei)},useDebugValue:no,useDeferredValue:function(e,i){var s=Qt();return zt===null?so(s,e,i):od(s,zt.memoizedState,e,i)},useTransition:function(){var e=$u(Ei)[0],i=Qt().memoizedState;return[typeof e=="boolean"?e:oa(e),i]},useSyncExternalStore:Hf,useId:dd,useHostTransitionStatus:lo,useFormState:$f,useActionState:$f,useOptimistic:function(e,i){var s=Qt();return zt!==null?Vf(s,zt,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Wu,useCacheRefresh:md};_d.useEffectEvent=id;function oo(e,i,s,r){i=e.memoizedState,s=s(r,i),s=s==null?i:x({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var co={enqueueSetState:function(e,i,s){e=e._reactInternals;var r=Ge(),c=Ji(r);c.payload=i,s!=null&&(c.callback=s),i=$i(e,c,r),i!==null&&(Ae(i,e,r),aa(i,e,r))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var r=Ge(),c=Ji(r);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=$i(e,c,r),i!==null&&(Ae(i,e,r),aa(i,e,r))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=Ge(),r=Ji(s);r.tag=2,i!=null&&(r.callback=i),i=$i(e,r,s),i!==null&&(Ae(i,e,s),aa(i,e,s))}};function bd(e,i,s,r,c,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,y):i.prototype&&i.prototype.isPureReactComponent?!Ws(s,r)||!Ws(c,f):!0}function vd(e,i,s,r){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,r),i.state!==e&&co.enqueueReplaceState(i,i.state,null)}function Dn(e,i){var s=i;if("ref"in i){s={};for(var r in i)r!=="ref"&&(s[r]=i[r])}if(e=e.defaultProps){s===i&&(s=x({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Sd(e){bl(e)}function Td(e){console.error(e)}function Ad(e){bl(e)}function Xl(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Md(e,i,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ho(e,i,s){return s=Ji(s),s.tag=3,s.payload={element:null},s.callback=function(){Xl(e,i)},s}function Cd(e){return e=Ji(e),e.tag=3,e}function wd(e,i,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;e.payload=function(){return c(f)},e.callback=function(){Md(i,s,r)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Md(i,s,r),typeof c!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function Nx(e,i,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=s.alternate,i!==null&&rs(i,s,c,!0),s=Be.current,s!==null){switch(s.tag){case 31:case 13:return Pe===null?er():s.alternate===null&&Yt===0&&(Yt=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===Rl?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([r]):i.add(r),jo(e,r,c)),!1;case 22:return s.flags|=65536,r===Rl?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([r]):s.add(r)),jo(e,r,c)),!1}throw Error(l(435,s.tag))}return jo(e,r,c),er(),!1}if(xt)return i=Be.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=c,r!==Ru&&(e=Error(l(422),{cause:r}),ta(Ye(e,s)))):(r!==Ru&&(i=Error(l(423),{cause:r}),ta(Ye(i,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=Ye(r,s),c=ho(e.stateNode,r,c),Yu(e,c),Yt!==4&&(Yt=2)),!1;var f=Error(l(520),{cause:r});if(f=Ye(f,s),_a===null?_a=[f]:_a.push(f),Yt!==4&&(Yt=2),i===null)return!0;r=Ye(r,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=ho(s.stateNode,r,e),Yu(s,e),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ln===null||!ln.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Cd(c),wd(c,e,s,r),Yu(s,c),!1}s=s.return}while(s!==null);return!1}var fo=Error(l(461)),It=!1;function oe(e,i,s,r){i.child=e===null?Bf(i,null,s,r):Bn(i,e.child,s,r)}function Ed(e,i,s,r,c){s=s.render;var f=i.ref;if("ref"in r){var y={};for(var b in r)b!=="ref"&&(y[b]=r[b])}else y=r;return wn(i),r=Zu(e,i,s,y,f,c),b=Fu(),e!==null&&!It?(Ku(e,i,c),zi(e,i,c)):(xt&&b&&Eu(i),i.flags|=1,oe(e,i,r,c),i.child)}function zd(e,i,s,r,c){if(e===null){var f=s.type;return typeof f=="function"&&!Mu(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,Rd(e,i,f,r,c)):(e=Al(s.type,null,r,i,i.mode,c),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!vo(e,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ws,s(y,r)&&e.ref===i.ref)return zi(e,i,c)}return i.flags|=1,e=Ti(f,r),e.ref=i.ref,e.return=i,i.child=e}function Rd(e,i,s,r,c){if(e!==null){var f=e.memoizedProps;if(Ws(f,r)&&e.ref===i.ref)if(It=!1,i.pendingProps=r=f,vo(e,c))(e.flags&131072)!==0&&(It=!0);else return i.lanes=e.lanes,zi(e,i,c)}return mo(e,i,s,r,c)}function Bd(e,i,s,r){var c=r.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(r=i.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~f}else r=0,i.child=null;return Nd(e,i,f,s,r)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&El(i,f!==null?f.cachePool:null),f!==null?Of(i,f):Xu(),Gf(i);else return r=i.lanes=536870912,Nd(e,i,f!==null?f.baseLanes|s:s,s,r)}else f!==null?(El(i,f.cachePool),Of(i,f),en(),i.memoizedState=null):(e!==null&&El(i,null),Xu(),en());return oe(e,i,c,s),i.child}function fa(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Nd(e,i,s,r,c){var f=ju();return f=f===null?null:{parent:Ft._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},e!==null&&El(i,null),Xu(),Gf(i),e!==null&&rs(e,i,r,!0),i.childLanes=c,null}function Vl(e,i){return i=Ql({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Dd(e,i,s){return Bn(i,e.child,null,s),e=Vl(i,i.pendingProps),e.flags|=2,Ne(i),i.memoizedState=null,e}function Dx(e,i,s){var r=i.pendingProps,c=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(xt){if(r.mode==="hidden")return e=Vl(i,r),i.lanes=536870912,fa(null,e);if(Pu(i),(e=Ut)?(e=Pm(e,Ve),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Zi!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},s=gf(e),s.return=i,i.child=s,re=i,Ut=null)):e=null,e===null)throw Ki(i);return i.lanes=536870912,null}return Vl(i,r)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Pu(i),c)if(i.flags&256)i.flags&=-257,i=Dd(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(l(558));else if(It||rs(e,i,s,!1),c=(s&e.childLanes)!==0,It||c){if(r=Dt,r!==null&&(y=Sh(r,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,Tn(e,y),Ae(r,e,y),fo;er(),i=Dd(e,i,s)}else e=f.treeContext,Ut=Qe(y.nextSibling),re=i,xt=!0,Fi=null,Ve=!1,e!==null&&_f(i,e),i=Vl(i,r),i.flags|=4096;return i}return e=Ti(e.child,{mode:r.mode,children:r.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Pl(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function mo(e,i,s,r,c){return wn(i),s=Zu(e,i,s,r,void 0,c),r=Fu(),e!==null&&!It?(Ku(e,i,c),zi(e,i,c)):(xt&&r&&Eu(i),i.flags|=1,oe(e,i,s,c),i.child)}function Od(e,i,s,r,c,f){return wn(i),i.updateQueue=null,s=jf(i,r,s,c),Uf(e),r=Fu(),e!==null&&!It?(Ku(e,i,f),zi(e,i,f)):(xt&&r&&Eu(i),i.flags|=1,oe(e,i,s,f),i.child)}function Gd(e,i,s,r,c){if(wn(i),i.stateNode===null){var f=ns,y=s.contextType;typeof y=="object"&&y!==null&&(f=ue(y)),f=new s(r,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=co,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=r,f.state=i.memoizedState,f.refs={},ku(i),y=s.contextType,f.context=typeof y=="object"&&y!==null?ue(y):ns,f.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(oo(i,s,y,r),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&co.enqueueReplaceState(f,f.state,null),ra(i,r,f,c),la(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(e===null){f=i.stateNode;var b=i.memoizedProps,M=Dn(s,b);f.props=M;var O=f.context,L=s.contextType;y=ns,typeof L=="object"&&L!==null&&(y=ue(L));var V=s.getDerivedStateFromProps;L=typeof V=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,L||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||O!==y)&&vd(i,f,r,y),Wi=!1;var U=i.memoizedState;f.state=U,ra(i,r,f,c),la(),O=i.memoizedState,b||U!==O||Wi?(typeof V=="function"&&(oo(i,s,V,r),O=i.memoizedState),(M=Wi||bd(i,s,M,r,U,O,y))?(L||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=O),f.props=r,f.state=O,f.context=y,r=M):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{f=i.stateNode,Lu(e,i),y=i.memoizedProps,L=Dn(s,y),f.props=L,V=i.pendingProps,U=f.context,O=s.contextType,M=ns,typeof O=="object"&&O!==null&&(M=ue(O)),b=s.getDerivedStateFromProps,(O=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==V||U!==M)&&vd(i,f,r,M),Wi=!1,U=i.memoizedState,f.state=U,ra(i,r,f,c),la();var H=i.memoizedState;y!==V||U!==H||Wi||e!==null&&e.dependencies!==null&&Cl(e.dependencies)?(typeof b=="function"&&(oo(i,s,b,r),H=i.memoizedState),(L=Wi||bd(i,s,L,r,U,H,M)||e!==null&&e.dependencies!==null&&Cl(e.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,H,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,H,M)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=H),f.props=r,f.state=H,f.context=M,r=L):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),r=!1)}return f=r,Pl(e,i),r=(i.flags&128)!==0,f||r?(f=i.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&r?(i.child=Bn(i,e.child,null,c),i.child=Bn(i,null,s,c)):oe(e,i,s,c),i.memoizedState=f.state,e=i.child):e=zi(e,i,c),e}function Ud(e,i,s,r){return Mn(),i.flags|=256,oe(e,i,s,r),i.child}var po={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function go(e){return{baseLanes:e,cachePool:Mf()}}function yo(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=Oe),e}function jd(e,i,s){var r=i.pendingProps,c=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Pt.current&2)!==0),y&&(c=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(xt){if(c?tn(i):en(),(e=Ut)?(e=Pm(e,Ve),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Zi!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},s=gf(e),s.return=i,i.child=s,re=i,Ut=null)):e=null,e===null)throw Ki(i);return $o(e)?i.lanes=32:i.lanes=536870912,null}var b=r.children;return r=r.fallback,c?(en(),c=i.mode,b=Ql({mode:"hidden",children:b},c),r=An(r,c,s,null),b.return=i,r.return=i,b.sibling=r,i.child=b,r=i.child,r.memoizedState=go(s),r.childLanes=yo(e,y,s),i.memoizedState=po,fa(null,r)):(tn(i),xo(i,b))}var M=e.memoizedState;if(M!==null&&(b=M.dehydrated,b!==null)){if(f)i.flags&256?(tn(i),i.flags&=-257,i=_o(e,i,s)):i.memoizedState!==null?(en(),i.child=e.child,i.flags|=128,i=null):(en(),b=r.fallback,c=i.mode,r=Ql({mode:"visible",children:r.children},c),b=An(b,c,s,null),b.flags|=2,r.return=i,b.return=i,r.sibling=b,i.child=r,Bn(i,e.child,null,s),r=i.child,r.memoizedState=go(s),r.childLanes=yo(e,y,s),i.memoizedState=po,i=fa(null,r));else if(tn(i),$o(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var O=y.dgst;y=O,r=Error(l(419)),r.stack="",r.digest=y,ta({value:r,source:null,stack:null}),i=_o(e,i,s)}else if(It||rs(e,i,s,!1),y=(s&e.childLanes)!==0,It||y){if(y=Dt,y!==null&&(r=Sh(y,s),r!==0&&r!==M.retryLane))throw M.retryLane=r,Tn(e,r),Ae(y,e,r),fo;Jo(b)||er(),i=_o(e,i,s)}else Jo(b)?(i.flags|=192,i.child=e.child,i=null):(e=M.treeContext,Ut=Qe(b.nextSibling),re=i,xt=!0,Fi=null,Ve=!1,e!==null&&_f(i,e),i=xo(i,r.children),i.flags|=4096);return i}return c?(en(),b=r.fallback,c=i.mode,M=e.child,O=M.sibling,r=Ti(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&65011712,O!==null?b=Ti(O,b):(b=An(b,c,s,null),b.flags|=2),b.return=i,r.return=i,r.sibling=b,i.child=r,fa(null,r),r=i.child,b=e.child.memoizedState,b===null?b=go(s):(c=b.cachePool,c!==null?(M=Ft._currentValue,c=c.parent!==M?{parent:M,pool:M}:c):c=Mf(),b={baseLanes:b.baseLanes|s,cachePool:c}),r.memoizedState=b,r.childLanes=yo(e,y,s),i.memoizedState=po,fa(e.child,r)):(tn(i),s=e.child,e=s.sibling,s=Ti(s,{mode:"visible",children:r.children}),s.return=i,s.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=s,i.memoizedState=null,s)}function xo(e,i){return i=Ql({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ql(e,i){return e=Re(22,e,null,i),e.lanes=0,e}function _o(e,i,s){return Bn(i,e.child,null,s),e=xo(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Hd(e,i,s){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i),Du(e.return,i,s)}function bo(e,i,s,r,c,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=r,y.tail=s,y.tailMode=c,y.treeForkCount=f)}function kd(e,i,s){var r=i.pendingProps,c=r.revealOrder,f=r.tail;r=r.children;var y=Pt.current,b=(y&2)!==0;if(b?(y=y&1|2,i.flags|=128):y&=1,Z(Pt,y),oe(e,i,r,s),r=xt?$s:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hd(e,s,i);else if(e.tag===19)Hd(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=i.child,c=null;s!==null;)e=s.alternate,e!==null&&Ol(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=i.child,i.child=null):(c=s.sibling,s.sibling=null),bo(i,!1,c,s,f,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=i.child,i.child=null;c!==null;){if(e=c.alternate,e!==null&&Ol(e)===null){i.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}bo(i,!0,s,null,f,r);break;case"together":bo(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function zi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),an|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(rs(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(l(153));if(i.child!==null){for(e=i.child,s=Ti(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Ti(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function vo(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Cl(e)))}function Ox(e,i,s){switch(i.tag){case 3:ie(i,i.stateNode.containerInfo),Ii(i,Ft,e.memoizedState.cache),Mn();break;case 27:case 5:ci(i);break;case 4:ie(i,i.stateNode.containerInfo);break;case 10:Ii(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Pu(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(tn(i),i.flags|=128,null):(s&i.child.childLanes)!==0?jd(e,i,s):(tn(i),e=zi(e,i,s),e!==null?e.sibling:null);tn(i);break;case 19:var c=(e.flags&128)!==0;if(r=(s&i.childLanes)!==0,r||(rs(e,i,s,!1),r=(s&i.childLanes)!==0),c){if(r)return kd(e,i,s);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(Pt,Pt.current),r)break;return null;case 22:return i.lanes=0,Bd(e,i,s,i.pendingProps);case 24:Ii(i,Ft,e.memoizedState.cache)}return zi(e,i,s)}function Ld(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)It=!0;else{if(!vo(e,s)&&(i.flags&128)===0)return It=!1,Ox(e,i,s);It=(e.flags&131072)!==0}else It=!1,xt&&(i.flags&1048576)!==0&&xf(i,$s,i.index);switch(i.lanes=0,i.tag){case 16:t:{var r=i.pendingProps;if(e=zn(i.elementType),i.type=e,typeof e=="function")Mu(e)?(r=Dn(e,r),i.tag=1,i=Gd(null,i,e,r,s)):(i.tag=0,i=mo(null,i,e,r,s));else{if(e!=null){var c=e.$$typeof;if(c===j){i.tag=11,i=Ed(null,i,e,r,s);break t}else if(c===k){i.tag=14,i=zd(null,i,e,r,s);break t}}throw i=bt(e)||e,Error(l(306,i,""))}}return i;case 0:return mo(e,i,i.type,i.pendingProps,s);case 1:return r=i.type,c=Dn(r,i.pendingProps),Gd(e,i,r,c,s);case 3:t:{if(ie(i,i.stateNode.containerInfo),e===null)throw Error(l(387));r=i.pendingProps;var f=i.memoizedState;c=f.element,Lu(e,i),ra(i,r,null,s);var y=i.memoizedState;if(r=y.cache,Ii(i,Ft,r),r!==f.cache&&Ou(i,[Ft],s,!0),la(),r=y.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Ud(e,i,r,s);break t}else if(r!==c){c=Ye(Error(l(424)),i),ta(c),i=Ud(e,i,r,s);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ut=Qe(e.firstChild),re=i,xt=!0,Fi=null,Ve=!0,s=Bf(i,null,r,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Mn(),r===c){i=zi(e,i,s);break t}oe(e,i,r,s)}i=i.child}return i;case 26:return Pl(e,i),e===null?(s=Wm(i.type,null,i.pendingProps,null))?i.memoizedState=s:xt||(s=i.type,e=i.pendingProps,r=ur(ut.current).createElement(s),r[le]=i,r[xe]=e,ce(r,s,e),ne(r),i.stateNode=r):i.memoizedState=Wm(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ci(i),e===null&&xt&&(r=i.stateNode=Fm(i.type,i.pendingProps,ut.current),re=i,Ve=!0,c=Ut,cn(i.type)?(tc=c,Ut=Qe(r.firstChild)):Ut=c),oe(e,i,i.pendingProps.children,s),Pl(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&xt&&((c=r=Ut)&&(r=c_(r,i.type,i.pendingProps,Ve),r!==null?(i.stateNode=r,re=i,Ut=Qe(r.firstChild),Ve=!1,c=!0):c=!1),c||Ki(i)),ci(i),c=i.type,f=i.pendingProps,y=e!==null?e.memoizedProps:null,r=f.children,Ko(c,f)?r=null:y!==null&&Ko(c,y)&&(i.flags|=32),i.memoizedState!==null&&(c=Zu(e,i,Mx,null,null,s),wa._currentValue=c),Pl(e,i),oe(e,i,r,s),i.child;case 6:return e===null&&xt&&((e=s=Ut)&&(s=h_(s,i.pendingProps,Ve),s!==null?(i.stateNode=s,re=i,Ut=null,e=!0):e=!1),e||Ki(i)),null;case 13:return jd(e,i,s);case 4:return ie(i,i.stateNode.containerInfo),r=i.pendingProps,e===null?i.child=Bn(i,null,r,s):oe(e,i,r,s),i.child;case 11:return Ed(e,i,i.type,i.pendingProps,s);case 7:return oe(e,i,i.pendingProps,s),i.child;case 8:return oe(e,i,i.pendingProps.children,s),i.child;case 12:return oe(e,i,i.pendingProps.children,s),i.child;case 10:return r=i.pendingProps,Ii(i,i.type,r.value),oe(e,i,r.children,s),i.child;case 9:return c=i.type._context,r=i.pendingProps.children,wn(i),c=ue(c),r=r(c),i.flags|=1,oe(e,i,r,s),i.child;case 14:return zd(e,i,i.type,i.pendingProps,s);case 15:return Rd(e,i,i.type,i.pendingProps,s);case 19:return kd(e,i,s);case 31:return Dx(e,i,s);case 22:return Bd(e,i,s,i.pendingProps);case 24:return wn(i),r=ue(Ft),e===null?(c=ju(),c===null&&(c=Dt,f=Gu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),i.memoizedState={parent:r,cache:c},ku(i),Ii(i,Ft,c)):((e.lanes&s)!==0&&(Lu(e,i),ra(i,null,null,s),la()),c=e.memoizedState,f=i.memoizedState,c.parent!==r?(c={parent:r,cache:r},i.memoizedState=c,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=c),Ii(i,Ft,r)):(r=f.cache,Ii(i,Ft,r),r!==c.cache&&Ou(i,[Ft],s,!0))),oe(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Ri(e){e.flags|=4}function So(e,i,s,r,c){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(dm())e.flags|=8192;else throw Rn=Rl,Hu}else e.flags&=-16777217}function Yd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ip(i))if(dm())e.flags|=8192;else throw Rn=Rl,Hu}function Zl(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?_h():536870912,e.lanes|=i,_s|=i)}function da(e,i){if(!xt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function jt(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(i)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=s,i}function Gx(e,i,s){var r=i.pendingProps;switch(zu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(i),null;case 1:return jt(i),null;case 3:return s=i.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Ci(Ft),Gt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ls(i)?Ri(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bu())),jt(i),null;case 26:var c=i.type,f=i.memoizedState;return e===null?(Ri(i),f!==null?(jt(i),Yd(i,f)):(jt(i),So(i,c,null,r,s))):f?f!==e.memoizedState?(Ri(i),jt(i),Yd(i,f)):(jt(i),i.flags&=-16777217):(e=e.memoizedProps,e!==r&&Ri(i),jt(i),So(i,c,e,r,s)),null;case 27:if(Xi(i),s=ut.current,c=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&Ri(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return jt(i),null}e=W.current,ls(i)?bf(i):(e=Fm(c,r,s),i.stateNode=e,Ri(i))}return jt(i),null;case 5:if(Xi(i),c=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&Ri(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return jt(i),null}if(f=W.current,ls(i))bf(i);else{var y=ur(ut.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?y.createElement("select",{is:r.is}):y.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?y.createElement(c,{is:r.is}):y.createElement(c)}}f[le]=i,f[xe]=r;t:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break t;for(;y.sibling===null;){if(y.return===null||y.return===i)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=f;t:switch(ce(f,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Ri(i)}}return jt(i),So(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==r&&Ri(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(l(166));if(e=ut.current,ls(i)){if(e=i.stateNode,s=i.memoizedProps,r=null,c=re,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[le]=i,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||jm(e.nodeValue,s)),e||Ki(i,!0)}else e=ur(e).createTextNode(r),e[le]=i,i.stateNode=e}return jt(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(r=ls(i),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[le]=i}else Mn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jt(i),e=!1}else s=Bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?(Ne(i),i):(Ne(i),null);if((i.flags&128)!==0)throw Error(l(558))}return jt(i),null;case 13:if(r=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ls(i),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[le]=i}else Mn(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jt(i),c=!1}else c=Bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return i.flags&256?(Ne(i),i):(Ne(i),null)}return Ne(i),(i.flags&128)!==0?(i.lanes=s,i):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=i.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),Zl(i,i.updateQueue),jt(i),null);case 4:return Gt(),e===null&&Vo(i.stateNode.containerInfo),jt(i),null;case 10:return Ci(i.type),jt(i),null;case 19:if(X(Pt),r=i.memoizedState,r===null)return jt(i),null;if(c=(i.flags&128)!==0,f=r.rendering,f===null)if(c)da(r,!1);else{if(Yt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Ol(e),f!==null){for(i.flags|=128,da(r,!1),e=f.updateQueue,i.updateQueue=e,Zl(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)pf(s,e),s=s.sibling;return Z(Pt,Pt.current&1|2),xt&&Ai(i,r.treeForkCount),i.child}e=e.sibling}r.tail!==null&&Ce()>Jl&&(i.flags|=128,c=!0,da(r,!1),i.lanes=4194304)}else{if(!c)if(e=Ol(f),e!==null){if(i.flags|=128,c=!0,e=e.updateQueue,i.updateQueue=e,Zl(i,e),da(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!xt)return jt(i),null}else 2*Ce()-r.renderingStartTime>Jl&&s!==536870912&&(i.flags|=128,c=!0,da(r,!1),i.lanes=4194304);r.isBackwards?(f.sibling=i.child,i.child=f):(e=r.last,e!==null?e.sibling=f:i.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ce(),e.sibling=null,s=Pt.current,Z(Pt,c?s&1|2:s&1),xt&&Ai(i,r.treeForkCount),e):(jt(i),null);case 22:case 23:return Ne(i),Vu(),r=i.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(s&536870912)!==0&&(i.flags&128)===0&&(jt(i),i.subtreeFlags&6&&(i.flags|=8192)):jt(i),s=i.updateQueue,s!==null&&Zl(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048),e!==null&&X(En),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ci(Ft),jt(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function Ux(e,i){switch(zu(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ci(Ft),Gt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Xi(i),null;case 31:if(i.memoizedState!==null){if(Ne(i),i.alternate===null)throw Error(l(340));Mn()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Ne(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Mn()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(Pt),null;case 4:return Gt(),null;case 10:return Ci(i.type),null;case 22:case 23:return Ne(i),Vu(),e!==null&&X(En),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ci(Ft),null;case 25:return null;default:return null}}function qd(e,i){switch(zu(i),i.tag){case 3:Ci(Ft),Gt();break;case 26:case 27:case 5:Xi(i);break;case 4:Gt();break;case 31:i.memoizedState!==null&&Ne(i);break;case 13:Ne(i);break;case 19:X(Pt);break;case 10:Ci(i.type);break;case 22:case 23:Ne(i),Vu(),e!==null&&X(En);break;case 24:Ci(Ft)}}function ma(e,i){try{var s=i.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&e)===e){r=void 0;var f=s.create,y=s.inst;r=f(),y.destroy=r}s=s.next}while(s!==c)}}catch(b){wt(i,i.return,b)}}function nn(e,i,s){try{var r=i.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){var y=r.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,c=i;var M=s,O=b;try{O()}catch(L){wt(c,M,L)}}}r=r.next}while(r!==f)}}catch(L){wt(i,i.return,L)}}function Xd(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{Df(i,s)}catch(r){wt(e,e.return,r)}}}function Vd(e,i,s){s.props=Dn(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){wt(e,i,r)}}function pa(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(c){wt(e,i,c)}}function mi(e,i){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){wt(e,i,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){wt(e,i,c)}else s.current=null}function Pd(e){var i=e.type,s=e.memoizedProps,r=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break t;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){wt(e,e.return,c)}}function To(e,i,s){try{var r=e.stateNode;s_(r,e.type,s,i),r[xe]=i}catch(c){wt(e,e.return,c)}}function Qd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cn(e.type)||e.tag===4}function Ao(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cn(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mo(e,i,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=vi));else if(r!==4&&(r===27&&cn(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(Mo(e,i,s),e=e.sibling;e!==null;)Mo(e,i,s),e=e.sibling}function Fl(e,i,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(r!==4&&(r===27&&cn(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Fl(e,i,s),e=e.sibling;e!==null;)Fl(e,i,s),e=e.sibling}function Zd(e){var i=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,c=i.attributes;c.length;)i.removeAttributeNode(c[0]);ce(i,r,s),i[le]=e,i[xe]=s}catch(f){wt(e,e.return,f)}}var Bi=!1,Wt=!1,Co=!1,Fd=typeof WeakSet=="function"?WeakSet:Set,se=null;function jx(e,i){if(e=e.containerInfo,Zo=pr,e=lf(e),xu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,b=-1,M=-1,O=0,L=0,V=e,U=null;e:for(;;){for(var H;V!==s||c!==0&&V.nodeType!==3||(b=y+c),V!==f||r!==0&&V.nodeType!==3||(M=y+r),V.nodeType===3&&(y+=V.nodeValue.length),(H=V.firstChild)!==null;)U=V,V=H;for(;;){if(V===e)break e;if(U===s&&++O===c&&(b=y),U===f&&++L===r&&(M=y),(H=V.nextSibling)!==null)break;V=U,U=V.parentNode}V=H}s=b===-1||M===-1?null:{start:b,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(Fo={focusedElem:e,selectionRange:s},pr=!1,se=i;se!==null;)if(i=se,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,se=e;else for(;se!==null;){switch(i=se,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=i,c=f.memoizedProps,f=f.memoizedState,r=s.stateNode;try{var J=Dn(s.type,c);e=r.getSnapshotBeforeUpdate(J,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(at){wt(s,s.return,at)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Wo(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=i.sibling,e!==null){e.return=i.return,se=e;break}se=i.return}}function Kd(e,i,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Di(e,s),r&4&&ma(5,s);break;case 1:if(Di(e,s),r&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(y){wt(s,s.return,y)}else{var c=Dn(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(c,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){wt(s,s.return,y)}}r&64&&Xd(s),r&512&&pa(s,s.return);break;case 3:if(Di(e,s),r&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Df(e,i)}catch(y){wt(s,s.return,y)}}break;case 27:i===null&&r&4&&Zd(s);case 26:case 5:Di(e,s),i===null&&r&4&&Pd(s),r&512&&pa(s,s.return);break;case 12:Di(e,s);break;case 31:Di(e,s),r&4&&Jd(e,s);break;case 13:Di(e,s),r&4&&$d(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Qx.bind(null,s),f_(e,s))));break;case 22:if(r=s.memoizedState!==null||Bi,!r){i=i!==null&&i.memoizedState!==null||Wt,c=Bi;var f=Wt;Bi=r,(Wt=i)&&!f?Oi(e,s,(s.subtreeFlags&8772)!==0):Di(e,s),Bi=c,Wt=f}break;case 30:break;default:Di(e,s)}}function Id(e){var i=e.alternate;i!==null&&(e.alternate=null,Id(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&eu(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ht=null,be=!1;function Ni(e,i,s){for(s=s.child;s!==null;)Wd(e,i,s),s=s.sibling}function Wd(e,i,s){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(ks,s)}catch{}switch(s.tag){case 26:Wt||mi(s,i),Ni(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Wt||mi(s,i);var r=Ht,c=be;cn(s.type)&&(Ht=s.stateNode,be=!1),Ni(e,i,s),Aa(s.stateNode),Ht=r,be=c;break;case 5:Wt||mi(s,i);case 6:if(r=Ht,c=be,Ht=null,Ni(e,i,s),Ht=r,be=c,Ht!==null)if(be)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(s.stateNode)}catch(f){wt(s,i,f)}else try{Ht.removeChild(s.stateNode)}catch(f){wt(s,i,f)}break;case 18:Ht!==null&&(be?(e=Ht,Xm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ws(e)):Xm(Ht,s.stateNode));break;case 4:r=Ht,c=be,Ht=s.stateNode.containerInfo,be=!0,Ni(e,i,s),Ht=r,be=c;break;case 0:case 11:case 14:case 15:nn(2,s,i),Wt||nn(4,s,i),Ni(e,i,s);break;case 1:Wt||(mi(s,i),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Vd(s,i,r)),Ni(e,i,s);break;case 21:Ni(e,i,s);break;case 22:Wt=(r=Wt)||s.memoizedState!==null,Ni(e,i,s),Wt=r;break;default:Ni(e,i,s)}}function Jd(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ws(e)}catch(s){wt(i,i.return,s)}}}function $d(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ws(e)}catch(s){wt(i,i.return,s)}}function Hx(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Fd),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Fd),i;default:throw Error(l(435,e.tag))}}function Kl(e,i){var s=Hx(e);i.forEach(function(r){if(!s.has(r)){s.add(r);var c=Zx.bind(null,e,r);r.then(c,c)}})}function ve(e,i){var s=i.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],f=e,y=i,b=y;t:for(;b!==null;){switch(b.tag){case 27:if(cn(b.type)){Ht=b.stateNode,be=!1;break t}break;case 5:Ht=b.stateNode,be=!1;break t;case 3:case 4:Ht=b.stateNode.containerInfo,be=!0;break t}b=b.return}if(Ht===null)throw Error(l(160));Wd(f,y,c),Ht=null,be=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)tm(i,e),i=i.sibling}var ei=null;function tm(e,i){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ve(i,e),Se(e),r&4&&(nn(3,e,e.return),ma(3,e),nn(5,e,e.return));break;case 1:ve(i,e),Se(e),r&512&&(Wt||s===null||mi(s,s.return)),r&64&&Bi&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=ei;if(ve(i,e),Se(e),r&512&&(Wt||s===null||mi(s,s.return)),r&4){var f=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){t:{r=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[qs]||f[le]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),ce(f,r,s),f[le]=e,ne(f),r=f;break t;case"link":var y=tp("link","href",c).get(r+(s.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(b,1);break e}}f=c.createElement(r),ce(f,r,s),c.head.appendChild(f);break;case"meta":if(y=tp("meta","content",c).get(r+(s.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(b,1);break e}}f=c.createElement(r),ce(f,r,s),c.head.appendChild(f);break;default:throw Error(l(468,r))}f[le]=e,ne(f),r=f}e.stateNode=r}else ep(c,e.type,e.stateNode);else e.stateNode=$m(c,r,e.memoizedProps);else f!==r?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,r===null?ep(c,e.type,e.stateNode):$m(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&To(e,e.memoizedProps,s.memoizedProps)}break;case 27:ve(i,e),Se(e),r&512&&(Wt||s===null||mi(s,s.return)),s!==null&&r&4&&To(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ve(i,e),Se(e),r&512&&(Wt||s===null||mi(s,s.return)),e.flags&32){c=e.stateNode;try{In(c,"")}catch(J){wt(e,e.return,J)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,To(e,c,s!==null?s.memoizedProps:c)),r&1024&&(Co=!0);break;case 6:if(ve(i,e),Se(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(J){wt(e,e.return,J)}}break;case 3:if(hr=null,c=ei,ei=or(i.containerInfo),ve(i,e),ei=c,Se(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{ws(i.containerInfo)}catch(J){wt(e,e.return,J)}Co&&(Co=!1,em(e));break;case 4:r=ei,ei=or(e.stateNode.containerInfo),ve(i,e),Se(e),ei=r;break;case 12:ve(i,e),Se(e);break;case 31:ve(i,e),Se(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Kl(e,r)));break;case 13:ve(i,e),Se(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wl=Ce()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Kl(e,r)));break;case 22:c=e.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,O=Bi,L=Wt;if(Bi=O||c,Wt=L||M,ve(i,e),Wt=L,Bi=O,Se(e),r&8192)t:for(i=e.stateNode,i._visibility=c?i._visibility&-2:i._visibility|1,c&&(s===null||M||Bi||Wt||On(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){M=s=i;try{if(f=M.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=M.stateNode;var V=M.memoizedProps.style,U=V!=null&&V.hasOwnProperty("display")?V.display:null;b.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(J){wt(M,M.return,J)}}}else if(i.tag===6){if(s===null){M=i;try{M.stateNode.nodeValue=c?"":M.memoizedProps}catch(J){wt(M,M.return,J)}}}else if(i.tag===18){if(s===null){M=i;try{var H=M.stateNode;c?Vm(H,!0):Vm(M.stateNode,!1)}catch(J){wt(M,M.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Kl(e,s))));break;case 19:ve(i,e),Se(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Kl(e,r)));break;case 30:break;case 21:break;default:ve(i,e),Se(e)}}function Se(e){var i=e.flags;if(i&2){try{for(var s,r=e.return;r!==null;){if(Qd(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var c=s.stateNode,f=Ao(e);Fl(e,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(In(y,""),s.flags&=-33);var b=Ao(e);Fl(e,b,y);break;case 3:case 4:var M=s.stateNode.containerInfo,O=Ao(e);Mo(e,O,M);break;default:throw Error(l(161))}}catch(L){wt(e,e.return,L)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function em(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;em(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Di(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Kd(e,i.alternate,i),i=i.sibling}function On(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:nn(4,i,i.return),On(i);break;case 1:mi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Vd(i,i.return,s),On(i);break;case 27:Aa(i.stateNode);case 26:case 5:mi(i,i.return),On(i);break;case 22:i.memoizedState===null&&On(i);break;case 30:On(i);break;default:On(i)}e=e.sibling}}function Oi(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,c=e,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:Oi(c,f,s),ma(4,f);break;case 1:if(Oi(c,f,s),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){wt(r,r.return,O)}if(r=f,c=r.updateQueue,c!==null){var b=r.stateNode;try{var M=c.shared.hiddenCallbacks;if(M!==null)for(c.shared.hiddenCallbacks=null,c=0;c<M.length;c++)Nf(M[c],b)}catch(O){wt(r,r.return,O)}}s&&y&64&&Xd(f),pa(f,f.return);break;case 27:Zd(f);case 26:case 5:Oi(c,f,s),s&&r===null&&y&4&&Pd(f),pa(f,f.return);break;case 12:Oi(c,f,s);break;case 31:Oi(c,f,s),s&&y&4&&Jd(c,f);break;case 13:Oi(c,f,s),s&&y&4&&$d(c,f);break;case 22:f.memoizedState===null&&Oi(c,f,s),pa(f,f.return);break;case 30:break;default:Oi(c,f,s)}i=i.sibling}}function wo(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ea(s))}function Eo(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ea(e))}function ii(e,i,s,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)im(e,i,s,r),i=i.sibling}function im(e,i,s,r){var c=i.flags;switch(i.tag){case 0:case 11:case 15:ii(e,i,s,r),c&2048&&ma(9,i);break;case 1:ii(e,i,s,r);break;case 3:ii(e,i,s,r),c&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ea(e)));break;case 12:if(c&2048){ii(e,i,s,r),e=i.stateNode;try{var f=i.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){wt(i,i.return,M)}}else ii(e,i,s,r);break;case 31:ii(e,i,s,r);break;case 13:ii(e,i,s,r);break;case 23:break;case 22:f=i.stateNode,y=i.alternate,i.memoizedState!==null?f._visibility&2?ii(e,i,s,r):ga(e,i):f._visibility&2?ii(e,i,s,r):(f._visibility|=2,gs(e,i,s,r,(i.subtreeFlags&10256)!==0||!1)),c&2048&&wo(y,i);break;case 24:ii(e,i,s,r),c&2048&&Eo(i.alternate,i);break;default:ii(e,i,s,r)}}function gs(e,i,s,r,c){for(c=c&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,y=i,b=s,M=r,O=y.flags;switch(y.tag){case 0:case 11:case 15:gs(f,y,b,M,c),ma(8,y);break;case 23:break;case 22:var L=y.stateNode;y.memoizedState!==null?L._visibility&2?gs(f,y,b,M,c):ga(f,y):(L._visibility|=2,gs(f,y,b,M,c)),c&&O&2048&&wo(y.alternate,y);break;case 24:gs(f,y,b,M,c),c&&O&2048&&Eo(y.alternate,y);break;default:gs(f,y,b,M,c)}i=i.sibling}}function ga(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,r=i,c=r.flags;switch(r.tag){case 22:ga(s,r),c&2048&&wo(r.alternate,r);break;case 24:ga(s,r),c&2048&&Eo(r.alternate,r);break;default:ga(s,r)}i=i.sibling}}var ya=8192;function ys(e,i,s){if(e.subtreeFlags&ya)for(e=e.child;e!==null;)nm(e,i,s),e=e.sibling}function nm(e,i,s){switch(e.tag){case 26:ys(e,i,s),e.flags&ya&&e.memoizedState!==null&&A_(s,ei,e.memoizedState,e.memoizedProps);break;case 5:ys(e,i,s);break;case 3:case 4:var r=ei;ei=or(e.stateNode.containerInfo),ys(e,i,s),ei=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=ya,ya=16777216,ys(e,i,s),ya=r):ys(e,i,s));break;default:ys(e,i,s)}}function sm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function xa(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];se=r,lm(r,e)}sm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)am(e),e=e.sibling}function am(e){switch(e.tag){case 0:case 11:case 15:xa(e),e.flags&2048&&nn(9,e,e.return);break;case 3:xa(e);break;case 12:xa(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Il(e)):xa(e);break;default:xa(e)}}function Il(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];se=r,lm(r,e)}sm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:nn(8,i,i.return),Il(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Il(i));break;default:Il(i)}e=e.sibling}}function lm(e,i){for(;se!==null;){var s=se;switch(s.tag){case 0:case 11:case 15:nn(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ea(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,se=r;else t:for(s=e;se!==null;){r=se;var c=r.sibling,f=r.return;if(Id(r),r===s){se=null;break t}if(c!==null){c.return=f,se=c;break t}se=f}}}var kx={getCacheForType:function(e){var i=ue(Ft),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return ue(Ft).controller.signal}},Lx=typeof WeakMap=="function"?WeakMap:Map,At=0,Dt=null,ft=null,pt=0,Ct=0,De=null,sn=!1,xs=!1,zo=!1,Gi=0,Yt=0,an=0,Gn=0,Ro=0,Oe=0,_s=0,_a=null,Te=null,Bo=!1,Wl=0,rm=0,Jl=1/0,$l=null,ln=null,Jt=0,rn=null,bs=null,Ui=0,No=0,Do=null,um=null,ba=0,Oo=null;function Ge(){return(At&2)!==0&&pt!==0?pt&-pt:z.T!==null?Lo():Th()}function om(){if(Oe===0)if((pt&536870912)===0||xt){var e=rl;rl<<=1,(rl&3932160)===0&&(rl=262144),Oe=e}else Oe=536870912;return e=Be.current,e!==null&&(e.flags|=32),Oe}function Ae(e,i,s){(e===Dt&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)&&(vs(e,0),un(e,pt,Oe,!1)),Ys(e,s),((At&2)===0||e!==Dt)&&(e===Dt&&((At&2)===0&&(Gn|=s),Yt===4&&un(e,pt,Oe,!1)),pi(e))}function cm(e,i,s){if((At&6)!==0)throw Error(l(327));var r=!s&&(i&127)===0&&(i&e.expiredLanes)===0||Ls(e,i),c=r?Xx(e,i):Uo(e,i,!0),f=r;do{if(c===0){xs&&!r&&un(e,i,0,!1);break}else{if(s=e.current.alternate,f&&!Yx(s)){c=Uo(e,i,!1),f=!1;continue}if(c===2){if(f=i,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var b=e;c=_a;var M=b.current.memoizedState.isDehydrated;if(M&&(vs(b,y).flags|=256),y=Uo(b,y,!1),y!==2){if(zo&&!M){b.errorRecoveryDisabledLanes|=f,Gn|=f,c=4;break t}f=Te,Te=c,f!==null&&(Te===null?Te=f:Te.push.apply(Te,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){vs(e,0),un(e,i,0,!0);break}t:{switch(r=e,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:un(r,i,Oe,!sn);break t;case 2:Te=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(c=Wl+300-Ce(),10<c)){if(un(r,i,Oe,!sn),ol(r,0,!0)!==0)break t;Ui=i,r.timeoutHandle=Ym(hm.bind(null,r,s,Te,$l,Bo,i,Oe,Gn,_s,sn,f,"Throttled",-0,0),c);break t}hm(r,s,Te,$l,Bo,i,Oe,Gn,_s,sn,f,null,-0,0)}}break}while(!0);pi(e)}function hm(e,i,s,r,c,f,y,b,M,O,L,V,U,H){if(e.timeoutHandle=-1,V=i.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},nm(i,f,V);var J=(f&62914560)===f?Wl-Ce():(f&4194048)===f?rm-Ce():0;if(J=M_(V,J),J!==null){Ui=f,e.cancelPendingCommit=J(_m.bind(null,e,i,f,s,r,c,y,b,M,L,V,null,U,H)),un(e,f,y,!O);return}}_m(e,i,f,s,r,c,y,b,M)}function Yx(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],f=c.getSnapshot;c=c.value;try{if(!ze(f(),c))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function un(e,i,s,r){i&=~Ro,i&=~Gn,e.suspendedLanes|=i,e.pingedLanes&=~i,r&&(e.warmLanes|=i),r=e.expirationTimes;for(var c=i;0<c;){var f=31-Ee(c),y=1<<f;r[f]=-1,c&=~y}s!==0&&bh(e,s,i)}function tr(){return(At&6)===0?(va(0),!1):!0}function Go(){if(ft!==null){if(Ct===0)var e=ft.return;else e=ft,Mi=Cn=null,Iu(e),hs=null,na=0,e=ft;for(;e!==null;)qd(e.alternate,e),e=e.return;ft=null}}function vs(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,r_(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ui=0,Go(),Dt=e,ft=s=Ti(e.current,null),pt=i,Ct=0,De=null,sn=!1,xs=Ls(e,i),zo=!1,_s=Oe=Ro=Gn=an=Yt=0,Te=_a=null,Bo=!1,(i&8)!==0&&(i|=i&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=i;0<r;){var c=31-Ee(r),f=1<<c;i|=e[c],r&=~f}return Gi=i,vl(),s}function fm(e,i){ot=null,z.H=ha,i===cs||i===zl?(i=Ef(),Ct=3):i===Hu?(i=Ef(),Ct=4):Ct=i===fo?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,De=i,ft===null&&(Yt=1,Xl(e,Ye(i,e.current)))}function dm(){var e=Be.current;return e===null?!0:(pt&4194048)===pt?Pe===null:(pt&62914560)===pt||(pt&536870912)!==0?e===Pe:!1}function mm(){var e=z.H;return z.H=ha,e===null?ha:e}function pm(){var e=z.A;return z.A=kx,e}function er(){Yt=4,sn||(pt&4194048)!==pt&&Be.current!==null||(xs=!0),(an&134217727)===0&&(Gn&134217727)===0||Dt===null||un(Dt,pt,Oe,!1)}function Uo(e,i,s){var r=At;At|=2;var c=mm(),f=pm();(Dt!==e||pt!==i)&&($l=null,vs(e,i)),i=!1;var y=Yt;t:do try{if(Ct!==0&&ft!==null){var b=ft,M=De;switch(Ct){case 8:Go(),y=6;break t;case 3:case 2:case 9:case 6:Be.current===null&&(i=!0);var O=Ct;if(Ct=0,De=null,Ss(e,b,M,O),s&&xs){y=0;break t}break;default:O=Ct,Ct=0,De=null,Ss(e,b,M,O)}}qx(),y=Yt;break}catch(L){fm(e,L)}while(!0);return i&&e.shellSuspendCounter++,Mi=Cn=null,At=r,z.H=c,z.A=f,ft===null&&(Dt=null,pt=0,vl()),y}function qx(){for(;ft!==null;)gm(ft)}function Xx(e,i){var s=At;At|=2;var r=mm(),c=pm();Dt!==e||pt!==i?($l=null,Jl=Ce()+500,vs(e,i)):xs=Ls(e,i);t:do try{if(Ct!==0&&ft!==null){i=ft;var f=De;e:switch(Ct){case 1:Ct=0,De=null,Ss(e,i,f,1);break;case 2:case 9:if(Cf(f)){Ct=0,De=null,ym(i);break}i=function(){Ct!==2&&Ct!==9||Dt!==e||(Ct=7),pi(e)},f.then(i,i);break t;case 3:Ct=7;break t;case 4:Ct=5;break t;case 7:Cf(f)?(Ct=0,De=null,ym(i)):(Ct=0,De=null,Ss(e,i,f,7));break;case 5:var y=null;switch(ft.tag){case 26:y=ft.memoizedState;case 5:case 27:var b=ft;if(y?ip(y):b.stateNode.complete){Ct=0,De=null;var M=b.sibling;if(M!==null)ft=M;else{var O=b.return;O!==null?(ft=O,ir(O)):ft=null}break e}}Ct=0,De=null,Ss(e,i,f,5);break;case 6:Ct=0,De=null,Ss(e,i,f,6);break;case 8:Go(),Yt=6;break t;default:throw Error(l(462))}}Vx();break}catch(L){fm(e,L)}while(!0);return Mi=Cn=null,z.H=r,z.A=c,At=s,ft!==null?0:(Dt=null,pt=0,vl(),Yt)}function Vx(){for(;ft!==null&&!dy();)gm(ft)}function gm(e){var i=Ld(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,i===null?ir(e):ft=i}function ym(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Od(s,i,i.pendingProps,i.type,void 0,pt);break;case 11:i=Od(s,i,i.pendingProps,i.type.render,i.ref,pt);break;case 5:Iu(i);default:qd(s,i),i=ft=pf(i,Gi),i=Ld(s,i,Gi)}e.memoizedProps=e.pendingProps,i===null?ir(e):ft=i}function Ss(e,i,s,r){Mi=Cn=null,Iu(i),hs=null,na=0;var c=i.return;try{if(Nx(e,c,i,s,pt)){Yt=1,Xl(e,Ye(s,e.current)),ft=null;return}}catch(f){if(c!==null)throw ft=c,f;Yt=1,Xl(e,Ye(s,e.current)),ft=null;return}i.flags&32768?(xt||r===1?e=!0:xs||(pt&536870912)!==0?e=!1:(sn=e=!0,(r===2||r===9||r===3||r===6)&&(r=Be.current,r!==null&&r.tag===13&&(r.flags|=16384))),xm(i,e)):ir(i)}function ir(e){var i=e;do{if((i.flags&32768)!==0){xm(i,sn);return}e=i.return;var s=Gx(i.alternate,i,Gi);if(s!==null){ft=s;return}if(i=i.sibling,i!==null){ft=i;return}ft=i=e}while(i!==null);Yt===0&&(Yt=5)}function xm(e,i){do{var s=Ux(e.alternate,e);if(s!==null){s.flags&=32767,ft=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){ft=e;return}ft=e=s}while(e!==null);Yt=6,ft=null}function _m(e,i,s,r,c,f,y,b,M){e.cancelPendingCommit=null;do nr();while(Jt!==0);if((At&6)!==0)throw Error(l(327));if(i!==null){if(i===e.current)throw Error(l(177));if(f=i.lanes|i.childLanes,f|=Tu,Ty(e,s,f,y,b,M),e===Dt&&(ft=Dt=null,pt=0),bs=i,rn=e,Ui=s,No=f,Do=c,um=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Fx(al,function(){return Am(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=z.T,z.T=null,c=Y.p,Y.p=2,y=At,At|=4;try{jx(e,i,s)}finally{At=y,Y.p=c,z.T=r}}Jt=1,bm(),vm(),Sm()}}function bm(){if(Jt===1){Jt=0;var e=rn,i=bs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var r=Y.p;Y.p=2;var c=At;At|=4;try{tm(i,e);var f=Fo,y=lf(e.containerInfo),b=f.focusedElem,M=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&af(b.ownerDocument.documentElement,b)){if(M!==null&&xu(b)){var O=M.start,L=M.end;if(L===void 0&&(L=O),"selectionStart"in b)b.selectionStart=O,b.selectionEnd=Math.min(L,b.value.length);else{var V=b.ownerDocument||document,U=V&&V.defaultView||window;if(U.getSelection){var H=U.getSelection(),J=b.textContent.length,at=Math.min(M.start,J),Bt=M.end===void 0?at:Math.min(M.end,J);!H.extend&&at>Bt&&(y=Bt,Bt=at,at=y);var R=sf(b,at),C=sf(b,Bt);if(R&&C&&(H.rangeCount!==1||H.anchorNode!==R.node||H.anchorOffset!==R.offset||H.focusNode!==C.node||H.focusOffset!==C.offset)){var D=V.createRange();D.setStart(R.node,R.offset),H.removeAllRanges(),at>Bt?(H.addRange(D),H.extend(C.node,C.offset)):(D.setEnd(C.node,C.offset),H.addRange(D))}}}}for(V=[],H=b;H=H.parentNode;)H.nodeType===1&&V.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<V.length;b++){var q=V[b];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}pr=!!Zo,Fo=Zo=null}finally{At=c,Y.p=r,z.T=s}}e.current=i,Jt=2}}function vm(){if(Jt===2){Jt=0;var e=rn,i=bs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var r=Y.p;Y.p=2;var c=At;At|=4;try{Kd(e,i.alternate,i)}finally{At=c,Y.p=r,z.T=s}}Jt=3}}function Sm(){if(Jt===4||Jt===3){Jt=0,my();var e=rn,i=bs,s=Ui,r=um;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jt=5:(Jt=0,bs=rn=null,Tm(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ln=null),$r(s),i=i.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(ks,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=z.T,c=Y.p,Y.p=2,z.T=null;try{for(var f=e.onRecoverableError,y=0;y<r.length;y++){var b=r[y];f(b.value,{componentStack:b.stack})}}finally{z.T=i,Y.p=c}}(Ui&3)!==0&&nr(),pi(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Oo?ba++:(ba=0,Oo=e):ba=0,va(0)}}function Tm(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ea(i)))}function nr(){return bm(),vm(),Sm(),Am()}function Am(){if(Jt!==5)return!1;var e=rn,i=No;No=0;var s=$r(Ui),r=z.T,c=Y.p;try{Y.p=32>s?32:s,z.T=null,s=Do,Do=null;var f=rn,y=Ui;if(Jt=0,bs=rn=null,Ui=0,(At&6)!==0)throw Error(l(331));var b=At;if(At|=4,am(f.current),im(f,f.current,y,s),At=b,va(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(ks,f)}catch{}return!0}finally{Y.p=c,z.T=r,Tm(e,i)}}function Mm(e,i,s){i=Ye(s,i),i=ho(e.stateNode,i,2),e=$i(e,i,2),e!==null&&(Ys(e,2),pi(e))}function wt(e,i,s){if(e.tag===3)Mm(e,e,s);else for(;i!==null;){if(i.tag===3){Mm(i,e,s);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ln===null||!ln.has(r))){e=Ye(s,e),s=Cd(2),r=$i(i,s,2),r!==null&&(wd(s,r,i,e),Ys(r,2),pi(r));break}}i=i.return}}function jo(e,i,s){var r=e.pingCache;if(r===null){r=e.pingCache=new Lx;var c=new Set;r.set(i,c)}else c=r.get(i),c===void 0&&(c=new Set,r.set(i,c));c.has(s)||(zo=!0,c.add(s),e=Px.bind(null,e,i,s),i.then(e,e))}function Px(e,i,s){var r=e.pingCache;r!==null&&r.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Dt===e&&(pt&s)===s&&(Yt===4||Yt===3&&(pt&62914560)===pt&&300>Ce()-Wl?(At&2)===0&&vs(e,0):Ro|=s,_s===pt&&(_s=0)),pi(e)}function Cm(e,i){i===0&&(i=_h()),e=Tn(e,i),e!==null&&(Ys(e,i),pi(e))}function Qx(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Cm(e,s)}function Zx(e,i){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(i),Cm(e,s)}function Fx(e,i){return Kr(e,i)}var sr=null,Ts=null,Ho=!1,ar=!1,ko=!1,on=0;function pi(e){e!==Ts&&e.next===null&&(Ts===null?sr=Ts=e:Ts=Ts.next=e),ar=!0,Ho||(Ho=!0,Ix())}function va(e,i){if(!ko&&ar){ko=!0;do for(var s=!1,r=sr;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var y=r.suspendedLanes,b=r.pingedLanes;f=(1<<31-Ee(42|e)+1)-1,f&=c&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Rm(r,f))}else f=pt,f=ol(r,r===Dt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Ls(r,f)||(s=!0,Rm(r,f));r=r.next}while(s);ko=!1}}function Kx(){wm()}function wm(){ar=Ho=!1;var e=0;on!==0&&l_()&&(e=on);for(var i=Ce(),s=null,r=sr;r!==null;){var c=r.next,f=Em(r,i);f===0?(r.next=null,s===null?sr=c:s.next=c,c===null&&(Ts=s)):(s=r,(e!==0||(f&3)!==0)&&(ar=!0)),r=c}Jt!==0&&Jt!==5||va(e),on!==0&&(on=0)}function Em(e,i){for(var s=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Ee(f),b=1<<y,M=c[y];M===-1?((b&s)===0||(b&r)!==0)&&(c[y]=Sy(b,i)):M<=i&&(e.expiredLanes|=b),f&=~b}if(i=Dt,s=pt,s=ol(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===i&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ir(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ls(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(r!==null&&Ir(r),$r(s)){case 2:case 8:s=yh;break;case 32:s=al;break;case 268435456:s=xh;break;default:s=al}return r=zm.bind(null,e),s=Kr(s,r),e.callbackPriority=i,e.callbackNode=s,i}return r!==null&&r!==null&&Ir(r),e.callbackPriority=2,e.callbackNode=null,2}function zm(e,i){if(Jt!==0&&Jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(nr()&&e.callbackNode!==s)return null;var r=pt;return r=ol(e,e===Dt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(cm(e,r,i),Em(e,Ce()),e.callbackNode!=null&&e.callbackNode===s?zm.bind(null,e):null)}function Rm(e,i){if(nr())return null;cm(e,i,!0)}function Ix(){u_(function(){(At&6)!==0?Kr(gh,Kx):wm()})}function Lo(){if(on===0){var e=us;e===0&&(e=ll,ll<<=1,(ll&261888)===0&&(ll=256)),on=e}return on}function Bm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dl(""+e)}function Nm(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function Wx(e,i,s,r,c){if(i==="submit"&&s&&s.stateNode===c){var f=Bm((c[xe]||null).action),y=r.submitter;y&&(i=(i=y[xe]||null)?Bm(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var b=new yl("action","action",null,r,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(on!==0){var M=y?Nm(c,y):new FormData(c);ao(s,{pending:!0,data:M,method:c.method,action:f},null,M)}}else typeof f=="function"&&(b.preventDefault(),M=y?Nm(c,y):new FormData(c),ao(s,{pending:!0,data:M,method:c.method,action:f},f,M))},currentTarget:c}]})}}for(var Yo=0;Yo<Su.length;Yo++){var qo=Su[Yo],Jx=qo.toLowerCase(),$x=qo[0].toUpperCase()+qo.slice(1);ti(Jx,"on"+$x)}ti(of,"onAnimationEnd"),ti(cf,"onAnimationIteration"),ti(hf,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(px,"onTransitionRun"),ti(gx,"onTransitionStart"),ti(yx,"onTransitionCancel"),ti(ff,"onTransitionEnd"),Fn("onMouseEnter",["mouseout","mouseover"]),Fn("onMouseLeave",["mouseout","mouseover"]),Fn("onPointerEnter",["pointerout","pointerover"]),Fn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sa));function Dm(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],c=r.event;r=r.listeners;t:{var f=void 0;if(i)for(var y=r.length-1;0<=y;y--){var b=r[y],M=b.instance,O=b.currentTarget;if(b=b.listener,M!==f&&c.isPropagationStopped())break t;f=b,c.currentTarget=O;try{f(c)}catch(L){bl(L)}c.currentTarget=null,f=M}else for(y=0;y<r.length;y++){if(b=r[y],M=b.instance,O=b.currentTarget,b=b.listener,M!==f&&c.isPropagationStopped())break t;f=b,c.currentTarget=O;try{f(c)}catch(L){bl(L)}c.currentTarget=null,f=M}}}}function dt(e,i){var s=i[tu];s===void 0&&(s=i[tu]=new Set);var r=e+"__bubble";s.has(r)||(Om(i,e,2,!1),s.add(r))}function Xo(e,i,s){var r=0;i&&(r|=4),Om(s,e,r,i)}var lr="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[lr]){e[lr]=!0,Ch.forEach(function(s){s!=="selectionchange"&&(t_.has(s)||Xo(s,!1,e),Xo(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[lr]||(i[lr]=!0,Xo("selectionchange",!1,i))}}function Om(e,i,s,r){switch(op(i)){case 2:var c=E_;break;case 8:c=z_;break;default:c=ac}s=c.bind(null,i,s,e),c=void 0,!ou||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(i,s,{capture:!0,passive:c}):e.addEventListener(i,s,!0):c!==void 0?e.addEventListener(i,s,{passive:c}):e.addEventListener(i,s,!1)}function Po(e,i,s,r,c){var f=r;if((i&1)===0&&(i&2)===0&&r!==null)t:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var b=r.stateNode.containerInfo;if(b===c)break;if(y===4)for(y=r.return;y!==null;){var M=y.tag;if((M===3||M===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;b!==null;){if(y=Pn(b),y===null)return;if(M=y.tag,M===5||M===6||M===26||M===27){r=f=y;continue t}b=b.parentNode}}r=r.return}Hh(function(){var O=f,L=ru(s),V=[];t:{var U=df.get(e);if(U!==void 0){var H=yl,J=e;switch(e){case"keypress":if(pl(s)===0)break t;case"keydown":case"keyup":H=Zy;break;case"focusin":J="focus",H=du;break;case"focusout":J="blur",H=du;break;case"beforeblur":case"afterblur":H=du;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Iy;break;case of:case cf:case hf:H=Hy;break;case ff:H=Jy;break;case"scroll":case"scrollend":H=Dy;break;case"wheel":H=tx;break;case"copy":case"cut":case"paste":H=Ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Xh;break;case"toggle":case"beforetoggle":H=ix}var at=(i&4)!==0,Bt=!at&&(e==="scroll"||e==="scrollend"),R=at?U!==null?U+"Capture":null:U;at=[];for(var C=O,D;C!==null;){var q=C;if(D=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||D===null||R===null||(q=Vs(C,R),q!=null&&at.push(Ta(C,q,D))),Bt)break;C=C.return}0<at.length&&(U=new H(U,J,null,s,L),V.push({event:U,listeners:at}))}}if((i&7)===0){t:{if(U=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",U&&s!==lu&&(J=s.relatedTarget||s.fromElement)&&(Pn(J)||J[Vn]))break t;if((H||U)&&(U=L.window===L?L:(U=L.ownerDocument)?U.defaultView||U.parentWindow:window,H?(J=s.relatedTarget||s.toElement,H=O,J=J?Pn(J):null,J!==null&&(Bt=o(J),at=J.tag,J!==Bt||at!==5&&at!==27&&at!==6)&&(J=null)):(H=null,J=O),H!==J)){if(at=Yh,q="onMouseLeave",R="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(at=Xh,q="onPointerLeave",R="onPointerEnter",C="pointer"),Bt=H==null?U:Xs(H),D=J==null?U:Xs(J),U=new at(q,C+"leave",H,s,L),U.target=Bt,U.relatedTarget=D,q=null,Pn(L)===O&&(at=new at(R,C+"enter",J,s,L),at.target=D,at.relatedTarget=Bt,q=at),Bt=q,H&&J)e:{for(at=e_,R=H,C=J,D=0,q=R;q;q=at(q))D++;q=0;for(var nt=C;nt;nt=at(nt))q++;for(;0<D-q;)R=at(R),D--;for(;0<q-D;)C=at(C),q--;for(;D--;){if(R===C||C!==null&&R===C.alternate){at=R;break e}R=at(R),C=at(C)}at=null}else at=null;H!==null&&Gm(V,U,H,at,!1),J!==null&&Bt!==null&&Gm(V,Bt,J,at,!0)}}t:{if(U=O?Xs(O):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var St=Wh;else if(Kh(U))if(Jh)St=fx;else{St=cx;var $=ox}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?O&&au(O.elementType)&&(St=Wh):St=hx;if(St&&(St=St(e,O))){Ih(V,St,s,L);break t}$&&$(e,U,O),e==="focusout"&&O&&U.type==="number"&&O.memoizedProps.value!=null&&su(U,"number",U.value)}switch($=O?Xs(O):window,e){case"focusin":(Kh($)||$.contentEditable==="true")&&(ts=$,_u=O,Js=null);break;case"focusout":Js=_u=ts=null;break;case"mousedown":bu=!0;break;case"contextmenu":case"mouseup":case"dragend":bu=!1,rf(V,s,L);break;case"selectionchange":if(mx)break;case"keydown":case"keyup":rf(V,s,L)}var ht;if(pu)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else $n?Zh(e,s)&&(gt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(gt="onCompositionStart");gt&&(Vh&&s.locale!=="ko"&&($n||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&$n&&(ht=kh()):(Qi=L,cu="value"in Qi?Qi.value:Qi.textContent,$n=!0)),$=rr(O,gt),0<$.length&&(gt=new qh(gt,e,null,s,L),V.push({event:gt,listeners:$}),ht?gt.data=ht:(ht=Fh(s),ht!==null&&(gt.data=ht)))),(ht=sx?ax(e,s):lx(e,s))&&(gt=rr(O,"onBeforeInput"),0<gt.length&&($=new qh("onBeforeInput","beforeinput",null,s,L),V.push({event:$,listeners:gt}),$.data=ht)),Wx(V,e,O,s,L)}Dm(V,i)})}function Ta(e,i,s){return{instance:e,listener:i,currentTarget:s}}function rr(e,i){for(var s=i+"Capture",r=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Vs(e,s),c!=null&&r.unshift(Ta(e,c,f)),c=Vs(e,i),c!=null&&r.push(Ta(e,c,f))),e.tag===3)return r;e=e.return}return[]}function e_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gm(e,i,s,r,c){for(var f=i._reactName,y=[];s!==null&&s!==r;){var b=s,M=b.alternate,O=b.stateNode;if(b=b.tag,M!==null&&M===r)break;b!==5&&b!==26&&b!==27||O===null||(M=O,c?(O=Vs(s,f),O!=null&&y.unshift(Ta(s,O,M))):c||(O=Vs(s,f),O!=null&&y.push(Ta(s,O,M)))),s=s.return}y.length!==0&&e.push({event:i,listeners:y})}var i_=/\r\n?/g,n_=/\u0000|\uFFFD/g;function Um(e){return(typeof e=="string"?e:""+e).replace(i_,`
`).replace(n_,"")}function jm(e,i){return i=Um(i),Um(e)===i}function Rt(e,i,s,r,c,f){switch(s){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||In(e,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&In(e,""+r);break;case"className":hl(e,"class",r);break;case"tabIndex":hl(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":hl(e,s,r);break;case"style":Uh(e,r,f);break;case"data":if(i!=="object"){hl(e,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=dl(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&Rt(e,i,"name",c.name,c,null),Rt(e,i,"formEncType",c.formEncType,c,null),Rt(e,i,"formMethod",c.formMethod,c,null),Rt(e,i,"formTarget",c.formTarget,c,null)):(Rt(e,i,"encType",c.encType,c,null),Rt(e,i,"method",c.method,c,null),Rt(e,i,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=dl(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=vi);break;case"onScroll":r!=null&&dt("scroll",e);break;case"onScrollEnd":r!=null&&dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=dl(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":dt("beforetoggle",e),dt("toggle",e),cl(e,"popover",r);break;case"xlinkActuate":bi(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":bi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":bi(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":bi(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":bi(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":bi(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":bi(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":bi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":bi(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":cl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=By.get(s)||s,cl(e,s,r))}}function Qo(e,i,s,r,c,f){switch(s){case"style":Uh(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?In(e,r):(typeof r=="number"||typeof r=="bigint")&&In(e,""+r);break;case"onScroll":r!=null&&dt("scroll",e);break;case"onScrollEnd":r!=null&&dt("scrollend",e);break;case"onClick":r!=null&&(e.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wh.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),i=s.slice(2,c?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(i,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,r,c);break t}s in e?e[s]=r:r===!0?e.setAttribute(s,""):cl(e,s,r)}}}function ce(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",e),dt("load",e);var r=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Rt(e,i,f,y,s,null)}}c&&Rt(e,i,"srcSet",s.srcSet,s,null),r&&Rt(e,i,"src",s.src,s,null);return;case"input":dt("invalid",e);var b=f=y=c=null,M=null,O=null;for(r in s)if(s.hasOwnProperty(r)){var L=s[r];if(L!=null)switch(r){case"name":c=L;break;case"type":y=L;break;case"checked":M=L;break;case"defaultChecked":O=L;break;case"value":f=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,i));break;default:Rt(e,i,r,L,s,null)}}Nh(e,f,b,M,O,y,c,!1);return;case"select":dt("invalid",e),r=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(b=s[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":r=b;default:Rt(e,i,c,b,s,null)}i=f,s=y,e.multiple=!!r,i!=null?Kn(e,!!r,i,!1):s!=null&&Kn(e,!!r,s,!0);return;case"textarea":dt("invalid",e),f=c=r=null;for(y in s)if(s.hasOwnProperty(y)&&(b=s[y],b!=null))switch(y){case"value":r=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Rt(e,i,y,b,s,null)}Oh(e,r,c,f);return;case"option":for(M in s)if(s.hasOwnProperty(M)&&(r=s[M],r!=null))switch(M){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Rt(e,i,M,r,s,null)}return;case"dialog":dt("beforetoggle",e),dt("toggle",e),dt("cancel",e),dt("close",e);break;case"iframe":case"object":dt("load",e);break;case"video":case"audio":for(r=0;r<Sa.length;r++)dt(Sa[r],e);break;case"image":dt("error",e),dt("load",e);break;case"details":dt("toggle",e);break;case"embed":case"source":case"link":dt("error",e),dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in s)if(s.hasOwnProperty(O)&&(r=s[O],r!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Rt(e,i,O,r,s,null)}return;default:if(au(i)){for(L in s)s.hasOwnProperty(L)&&(r=s[L],r!==void 0&&Qo(e,i,L,r,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(r=s[b],r!=null&&Rt(e,i,b,r,s,null))}function s_(e,i,s,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,b=null,M=null,O=null,L=null;for(H in s){var V=s[H];if(s.hasOwnProperty(H)&&V!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":M=V;default:r.hasOwnProperty(H)||Rt(e,i,H,null,r,V)}}for(var U in r){var H=r[U];if(V=s[U],r.hasOwnProperty(U)&&(H!=null||V!=null))switch(U){case"type":f=H;break;case"name":c=H;break;case"checked":O=H;break;case"defaultChecked":L=H;break;case"value":y=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,i));break;default:H!==V&&Rt(e,i,U,H,r,V)}}nu(e,y,b,M,O,L,f,c);return;case"select":H=y=b=U=null;for(f in s)if(M=s[f],s.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":H=M;default:r.hasOwnProperty(f)||Rt(e,i,f,null,r,M)}for(c in r)if(f=r[c],M=s[c],r.hasOwnProperty(c)&&(f!=null||M!=null))switch(c){case"value":U=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==M&&Rt(e,i,c,f,r,M)}i=b,s=y,r=H,U!=null?Kn(e,!!s,U,!1):!!r!=!!s&&(i!=null?Kn(e,!!s,i,!0):Kn(e,!!s,s?[]:"",!1));return;case"textarea":H=U=null;for(b in s)if(c=s[b],s.hasOwnProperty(b)&&c!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Rt(e,i,b,null,r,c)}for(y in r)if(c=r[y],f=s[y],r.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":U=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&Rt(e,i,y,c,r,f)}Dh(e,U,H);return;case"option":for(var J in s)if(U=s[J],s.hasOwnProperty(J)&&U!=null&&!r.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Rt(e,i,J,null,r,U)}for(M in r)if(U=r[M],H=s[M],r.hasOwnProperty(M)&&U!==H&&(U!=null||H!=null))switch(M){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Rt(e,i,M,U,r,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in s)U=s[at],s.hasOwnProperty(at)&&U!=null&&!r.hasOwnProperty(at)&&Rt(e,i,at,null,r,U);for(O in r)if(U=r[O],H=s[O],r.hasOwnProperty(O)&&U!==H&&(U!=null||H!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,i));break;default:Rt(e,i,O,U,r,H)}return;default:if(au(i)){for(var Bt in s)U=s[Bt],s.hasOwnProperty(Bt)&&U!==void 0&&!r.hasOwnProperty(Bt)&&Qo(e,i,Bt,void 0,r,U);for(L in r)U=r[L],H=s[L],!r.hasOwnProperty(L)||U===H||U===void 0&&H===void 0||Qo(e,i,L,U,r,H);return}}for(var R in s)U=s[R],s.hasOwnProperty(R)&&U!=null&&!r.hasOwnProperty(R)&&Rt(e,i,R,null,r,U);for(V in r)U=r[V],H=s[V],!r.hasOwnProperty(V)||U===H||U==null&&H==null||Rt(e,i,V,U,r,H)}function Hm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],f=c.transferSize,y=c.initiatorType,b=c.duration;if(f&&b&&Hm(y)){for(y=0,b=c.responseEnd,r+=1;r<s.length;r++){var M=s[r],O=M.startTime;if(O>b)break;var L=M.transferSize,V=M.initiatorType;L&&Hm(V)&&(M=M.responseEnd,y+=L*(M<b?1:(b-O)/(M-O)))}if(--r,i+=8*(f+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zo=null,Fo=null;function ur(e){return e.nodeType===9?e:e.ownerDocument}function km(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ko(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Io=null;function l_(){var e=window.event;return e&&e.type==="popstate"?e===Io?!1:(Io=e,!0):(Io=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,r_=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,u_=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(e){return qm.resolve(null).then(e).catch(o_)}:Ym;function o_(e){setTimeout(function(){throw e})}function cn(e){return e==="head"}function Xm(e,i){var s=i,r=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(c),ws(i);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")Aa(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Aa(s);for(var f=s.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[qs]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&Aa(e.ownerDocument.body);s=c}while(s);ws(i)}function Vm(e,i){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function Wo(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wo(s),eu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function c_(e,i,s,r){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[qs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qe(e.nextSibling),e===null)break}return null}function h_(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qe(e.nextSibling),e===null))return null;return e}function Pm(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Qe(e.nextSibling),e===null))return null;return e}function Jo(e){return e.data==="$?"||e.data==="$~"}function $o(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function f_(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var r=function(){i(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Qe(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var tc=null;function Qm(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return Qe(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function Zm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function Fm(e,i,s){switch(i=ur(s),e){case"html":if(e=i.documentElement,!e)throw Error(l(452));return e;case"head":if(e=i.head,!e)throw Error(l(453));return e;case"body":if(e=i.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Aa(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);eu(e)}var Ze=new Map,Km=new Set;function or(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=Y.d;Y.d={f:d_,r:m_,D:p_,C:g_,L:y_,m:x_,X:b_,S:__,M:v_};function d_(){var e=ji.f(),i=tr();return e||i}function m_(e){var i=Qn(e);i!==null&&i.tag===5&&i.type==="form"?fd(i):ji.r(e)}var As=typeof document>"u"?null:document;function Im(e,i,s){var r=As;if(r&&typeof i=="string"&&i){var c=ke(i);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Km.has(c)||(Km.add(c),e={rel:e,crossOrigin:s,href:i},r.querySelector(c)===null&&(i=r.createElement("link"),ce(i,"link",e),ne(i),r.head.appendChild(i)))}}function p_(e){ji.D(e),Im("dns-prefetch",e,null)}function g_(e,i){ji.C(e,i),Im("preconnect",e,i)}function y_(e,i,s){ji.L(e,i,s);var r=As;if(r&&e&&i){var c='link[rel="preload"][as="'+ke(i)+'"]';i==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+ke(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+ke(s.imageSizes)+'"]')):c+='[href="'+ke(e)+'"]';var f=c;switch(i){case"style":f=Ms(e);break;case"script":f=Cs(e)}Ze.has(f)||(e=x({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),Ze.set(f,e),r.querySelector(c)!==null||i==="style"&&r.querySelector(Ma(f))||i==="script"&&r.querySelector(Ca(f))||(i=r.createElement("link"),ce(i,"link",e),ne(i),r.head.appendChild(i)))}}function x_(e,i){ji.m(e,i);var s=As;if(s&&e){var r=i&&typeof i.as=="string"?i.as:"script",c='link[rel="modulepreload"][as="'+ke(r)+'"][href="'+ke(e)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Cs(e)}if(!Ze.has(f)&&(e=x({rel:"modulepreload",href:e},i),Ze.set(f,e),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ca(f)))return}r=s.createElement("link"),ce(r,"link",e),ne(r),s.head.appendChild(r)}}}function __(e,i,s){ji.S(e,i,s);var r=As;if(r&&e){var c=Zn(r).hoistableStyles,f=Ms(e);i=i||"default";var y=c.get(f);if(!y){var b={loading:0,preload:null};if(y=r.querySelector(Ma(f)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":i},s),(s=Ze.get(f))&&ec(e,s);var M=y=r.createElement("link");ne(M),ce(M,"link",e),M._p=new Promise(function(O,L){M.onload=O,M.onerror=L}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,cr(y,i,r)}y={type:"stylesheet",instance:y,count:1,state:b},c.set(f,y)}}}function b_(e,i){ji.X(e,i);var s=As;if(s&&e){var r=Zn(s).hoistableScripts,c=Cs(e),f=r.get(c);f||(f=s.querySelector(Ca(c)),f||(e=x({src:e,async:!0},i),(i=Ze.get(c))&&ic(e,i),f=s.createElement("script"),ne(f),ce(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function v_(e,i){ji.M(e,i);var s=As;if(s&&e){var r=Zn(s).hoistableScripts,c=Cs(e),f=r.get(c);f||(f=s.querySelector(Ca(c)),f||(e=x({src:e,async:!0,type:"module"},i),(i=Ze.get(c))&&ic(e,i),f=s.createElement("script"),ne(f),ce(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function Wm(e,i,s,r){var c=(c=ut.current)?or(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ms(s.href),s=Zn(c).hoistableStyles,r=s.get(i),r||(r={type:"style",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ms(s.href);var f=Zn(c).hoistableStyles,y=f.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=c.querySelector(Ma(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Ze.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ze.set(e,s),f||S_(c,e,s,y.state))),i&&r===null)throw Error(l(528,""));return y}if(i&&r!==null)throw Error(l(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Cs(s),s=Zn(c).hoistableScripts,r=s.get(i),r||(r={type:"script",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ms(e){return'href="'+ke(e)+'"'}function Ma(e){return'link[rel="stylesheet"]['+e+"]"}function Jm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function S_(e,i,s,r){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=e.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),ce(i,"link",s),ne(i),e.head.appendChild(i))}function Cs(e){return'[src="'+ke(e)+'"]'}function Ca(e){return"script[async]"+e}function $m(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var r=e.querySelector('style[data-href~="'+ke(s.href)+'"]');if(r)return i.instance=r,ne(r),r;var c=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ne(r),ce(r,"style",c),cr(r,s.precedence,e),i.instance=r;case"stylesheet":c=Ms(s.href);var f=e.querySelector(Ma(c));if(f)return i.state.loading|=4,i.instance=f,ne(f),f;r=Jm(s),(c=Ze.get(c))&&ec(r,c),f=(e.ownerDocument||e).createElement("link"),ne(f);var y=f;return y._p=new Promise(function(b,M){y.onload=b,y.onerror=M}),ce(f,"link",r),i.state.loading|=4,cr(f,s.precedence,e),i.instance=f;case"script":return f=Cs(s.src),(c=e.querySelector(Ca(f)))?(i.instance=c,ne(c),c):(r=s,(c=Ze.get(f))&&(r=x({},s),ic(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),ne(c),ce(c,"link",r),e.head.appendChild(c),i.instance=c);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,cr(r,s.precedence,e));return i.instance}function cr(e,i,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,y=0;y<r.length;y++){var b=r[y];if(b.dataset.precedence===i)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function ec(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ic(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var hr=null;function tp(e,i,s){if(hr===null){var r=new Map,c=hr=new Map;c.set(s,r)}else c=hr,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[qs]||f[le]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=e+y;var b=r.get(y);b?b.push(f):r.set(y,[f])}}return r}function ep(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function T_(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ip(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function A_(e,i,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ms(r.href),f=i.querySelector(Ma(c));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=fr.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=f,ne(f);return}f=i.ownerDocument||i,r=Jm(r),(c=Ze.get(c))&&ec(r,c),f=f.createElement("link"),ne(f);var y=f;y._p=new Promise(function(b,M){y.onload=b,y.onerror=M}),ce(f,"link",r),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=fr.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var nc=0;function M_(e,i){return e.stylesheets&&e.count===0&&mr(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&mr(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&nc===0&&(nc=62500*a_());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mr(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>nc?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function fr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dr=null;function mr(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dr=new Map,i.forEach(C_,e),dr=null,fr.call(e))}function C_(e,i){if(!(i.state.loading&4)){var s=dr.get(e);if(s)var r=s.get(null);else{s=new Map,dr.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),r=y)}r&&s.set(null,r)}c=i.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||r,f===r&&s.set(null,c),s.set(y,c),this.count++,r=fr.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),i.state.loading|=4}}var wa={$$typeof:B,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function w_(e,i,s,r,c,f,y,b,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function np(e,i,s,r,c,f,y,b,M,O,L,V){return e=new w_(e,i,s,y,M,O,L,V,b),i=1,f===!0&&(i|=24),f=Re(3,null,null,i),e.current=f,f.stateNode=e,i=Gu(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:r,isDehydrated:s,cache:i},ku(f),e}function sp(e){return e?(e=ns,e):ns}function ap(e,i,s,r,c,f){c=sp(c),r.context===null?r.context=c:r.pendingContext=c,r=Ji(i),r.payload={element:s},f=f===void 0?null:f,f!==null&&(r.callback=f),s=$i(e,r,i),s!==null&&(Ae(s,e,i),aa(s,e,i))}function lp(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function sc(e,i){lp(e,i),(e=e.alternate)&&lp(e,i)}function rp(e){if(e.tag===13||e.tag===31){var i=Tn(e,67108864);i!==null&&Ae(i,e,67108864),sc(e,67108864)}}function up(e){if(e.tag===13||e.tag===31){var i=Ge();i=Jr(i);var s=Tn(e,i);s!==null&&Ae(s,e,i),sc(e,i)}}var pr=!0;function E_(e,i,s,r){var c=z.T;z.T=null;var f=Y.p;try{Y.p=2,ac(e,i,s,r)}finally{Y.p=f,z.T=c}}function z_(e,i,s,r){var c=z.T;z.T=null;var f=Y.p;try{Y.p=8,ac(e,i,s,r)}finally{Y.p=f,z.T=c}}function ac(e,i,s,r){if(pr){var c=lc(r);if(c===null)Po(e,i,r,gr,s),cp(e,r);else if(B_(c,e,i,s,r))r.stopPropagation();else if(cp(e,r),i&4&&-1<R_.indexOf(e)){for(;c!==null;){var f=Qn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=xn(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var M=1<<31-Ee(y);b.entanglements[1]|=M,y&=~M}pi(f),(At&6)===0&&(Jl=Ce()+500,va(0))}}break;case 31:case 13:b=Tn(f,2),b!==null&&Ae(b,f,2),tr(),sc(f,2)}if(f=lc(r),f===null&&Po(e,i,r,gr,s),f===c)break;c=f}c!==null&&r.stopPropagation()}else Po(e,i,r,null,s)}}function lc(e){return e=ru(e),rc(e)}var gr=null;function rc(e){if(gr=null,e=Pn(e),e!==null){var i=o(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=h(i),e!==null)return e;e=null}else if(s===31){if(e=d(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return gr=e,null}function op(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(py()){case gh:return 2;case yh:return 8;case al:case gy:return 32;case xh:return 268435456;default:return 32}default:return 32}}var uc=!1,hn=null,fn=null,dn=null,Ea=new Map,za=new Map,mn=[],R_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cp(e,i){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Ea.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(i.pointerId)}}function Ra(e,i,s,r,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:s,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},i!==null&&(i=Qn(i),i!==null&&rp(i)),e):(e.eventSystemFlags|=r,i=e.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),e)}function B_(e,i,s,r,c){switch(i){case"focusin":return hn=Ra(hn,e,i,s,r,c),!0;case"dragenter":return fn=Ra(fn,e,i,s,r,c),!0;case"mouseover":return dn=Ra(dn,e,i,s,r,c),!0;case"pointerover":var f=c.pointerId;return Ea.set(f,Ra(Ea.get(f)||null,e,i,s,r,c)),!0;case"gotpointercapture":return f=c.pointerId,za.set(f,Ra(za.get(f)||null,e,i,s,r,c)),!0}return!1}function hp(e){var i=Pn(e.target);if(i!==null){var s=o(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){e.blockedOn=i,Ah(e.priority,function(){up(s)});return}}else if(i===31){if(i=d(s),i!==null){e.blockedOn=i,Ah(e.priority,function(){up(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yr(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=lc(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);lu=r,s.target.dispatchEvent(r),lu=null}else return i=Qn(s),i!==null&&rp(i),e.blockedOn=s,!1;i.shift()}return!0}function fp(e,i,s){yr(e)&&s.delete(i)}function N_(){uc=!1,hn!==null&&yr(hn)&&(hn=null),fn!==null&&yr(fn)&&(fn=null),dn!==null&&yr(dn)&&(dn=null),Ea.forEach(fp),za.forEach(fp)}function xr(e,i){e.blockedOn===i&&(e.blockedOn=null,uc||(uc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,N_)))}var _r=null;function dp(e){_r!==e&&(_r=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){_r===e&&(_r=null);for(var i=0;i<e.length;i+=3){var s=e[i],r=e[i+1],c=e[i+2];if(typeof r!="function"){if(rc(r||s)===null)continue;break}var f=Qn(s);f!==null&&(e.splice(i,3),i-=3,ao(f,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function ws(e){function i(M){return xr(M,e)}hn!==null&&xr(hn,e),fn!==null&&xr(fn,e),dn!==null&&xr(dn,e),Ea.forEach(i),za.forEach(i);for(var s=0;s<mn.length;s++){var r=mn[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<mn.length&&(s=mn[0],s.blockedOn===null);)hp(s),s.blockedOn===null&&mn.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],f=s[r+1],y=c[xe]||null;if(typeof f=="function")y||dp(s);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[xe]||null)b=y.formAction;else if(rc(c)!==null)continue}else b=y.action;typeof b=="function"?s[r+1]=b:(s.splice(r,3),r-=3),dp(s)}}}function mp(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function i(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),c!==null&&(c(),c=null)}}}function oc(e){this._internalRoot=e}br.prototype.render=oc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(l(409));var s=i.current,r=Ge();ap(s,r,e,i,null,null)},br.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;ap(e.current,2,null,e,null,null),tr(),i[Vn]=null}};function br(e){this._internalRoot=e}br.prototype.unstable_scheduleHydration=function(e){if(e){var i=Th();e={blockedOn:null,target:e,priority:i};for(var s=0;s<mn.length&&i!==0&&i<mn[s].priority;s++);mn.splice(s,0,e),s===0&&hp(e)}};var pp=t.version;if(pp!=="19.2.3")throw Error(l(527,pp,"19.2.3"));Y.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var D_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vr.isDisabled&&vr.supportsFiber)try{ks=vr.inject(D_),we=vr}catch{}}return Na.createRoot=function(e,i){if(!u(e))throw Error(l(299));var s=!1,r="",c=Sd,f=Td,y=Ad;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=np(e,1,!1,null,null,s,r,null,c,f,y,mp),e[Vn]=i.current,Vo(e),new oc(i)},Na.hydrateRoot=function(e,i,s){if(!u(e))throw Error(l(299));var r=!1,c="",f=Sd,y=Td,b=Ad,M=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(M=s.formState)),i=np(e,1,!0,i,s??null,r,c,M,f,y,b,mp),i.context=sp(null),s=i.current,r=Ge(),r=Jr(r),c=Ji(r),c.callback=null,$i(s,c,r),s=r,i.current.lanes=s,Ys(i,s),pi(i),e[Vn]=i.current,Vo(e),new br(i)},Na.version="19.2.3",Na}var Mp;function X_(){if(Mp)return fc.exports;Mp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),fc.exports=q_(),fc.exports}var V_=X_();const Lg="enchanted_glamour_kingdom_progress",Yg={musicEnabled:!0,sfxEnabled:!0,musicVolume:.5,sfxVolume:.7},Cp={currentLevel:1,unlockedLevels:[1],collection:[],totalStars:0,settings:Yg},qg=()=>{try{const a=localStorage.getItem(Lg);if(a){const t=JSON.parse(a);return{...Cp,...t,settings:{...Yg,...t.settings}}}}catch(a){console.error("Failed to load progress:",a)}return Cp},jr=a=>{try{localStorage.setItem(Lg,JSON.stringify(a))}catch(t){console.error("Failed to save progress:",t)}},P_=(a,t)=>{if(a.unlockedLevels.includes(t))return a;const n={...a,unlockedLevels:[...a.unlockedLevels,t]};return jr(n),n},Q_=a=>{const t=new Set;a.forEach(u=>{t.add(u.item.category)});const n=t.size;let l=0;return n>=6?l=3:n>=4?l=2:n>=1&&(l=1),l},Z_=a=>{switch(a){case 3:return"Perfect! You used all categories!";case 2:return"Great job! Almost complete!";case 1:return"Good start! Try more categories!";default:return"Keep trying!"}},F_={screen:"menu",currentLevel:null,appliedItems:[],selectedCategory:null,progress:qg(),isLoading:!0};function K_(a,t){switch(t.type){case"SET_SCREEN":return{...a,screen:t.screen};case"SELECT_LEVEL":return{...a,currentLevel:t.level,appliedItems:[],selectedCategory:"lips",screen:"game"};case"APPLY_ITEM":{const n={item:t.item,position:t.position,rotation:0,scale:1};return{...a,appliedItems:[...a.appliedItems,n]}}case"REMOVE_LAST_ITEM":return{...a,appliedItems:a.appliedItems.slice(0,-1)};case"RESET_MAKEOVER":return{...a,appliedItems:[]};case"SELECT_CATEGORY":return{...a,selectedCategory:t.category};case"COMPLETE_LEVEL":{if(!a.currentLevel)return a;const n={id:`${a.currentLevel.id}-${Date.now()}`,levelId:a.currentLevel.id,characterId:a.currentLevel.character.id,appliedItems:a.appliedItems.map(o=>o.item.id),stars:t.stars,timestamp:Date.now()},l=a.currentLevel.id+1;let u={...a.progress,collection:[...a.progress.collection,n],totalStars:a.progress.totalStars+t.stars};return l<=10&&(u=P_(u,l)),jr(u),{...a,progress:u,screen:"result"}}case"LOAD_PROGRESS":return{...a,progress:t.progress,isLoading:!1};case"SET_LOADING":return{...a,isLoading:t.isLoading};case"TOGGLE_MUSIC":{const n={...a.progress.settings,musicEnabled:!a.progress.settings.musicEnabled},l={...a.progress,settings:n};return jr(l),{...a,progress:l}}case"TOGGLE_SFX":{const n={...a.progress.settings,sfxEnabled:!a.progress.settings.sfxEnabled},l={...a.progress,settings:n};return jr(l),{...a,progress:l}}default:return a}}const Xg=$t.createContext(void 0);function I_({children:a}){const[t,n]=$t.useReducer(K_,F_);$t.useEffect(()=>{const S=qg();n({type:"LOAD_PROGRESS",progress:S})},[]);const l=()=>n({type:"SET_SCREEN",screen:"menu"}),u=()=>n({type:"SET_SCREEN",screen:"levelSelect"}),o=()=>n({type:"SET_SCREEN",screen:"collection"}),h=S=>n({type:"SELECT_LEVEL",level:S}),d=(S,A)=>n({type:"APPLY_ITEM",item:S,position:A}),m=()=>n({type:"REMOVE_LAST_ITEM"}),p=()=>n({type:"RESET_MAKEOVER"}),g=S=>n({type:"SELECT_CATEGORY",category:S}),x=()=>{const S=Q_(t.appliedItems);n({type:"COMPLETE_LEVEL",stars:S})},v=()=>n({type:"TOGGLE_MUSIC"}),_=()=>n({type:"TOGGLE_SFX"});return G.jsx(Xg.Provider,{value:{state:t,dispatch:n,goToMenu:l,goToLevelSelect:u,goToCollection:o,selectLevel:h,applyItem:d,undoItem:m,resetMakeover:p,selectCategory:g,completeMakeover:x,toggleMusic:v,toggleSfx:_},children:a})}function yn(){const a=$t.useContext(Xg);if(a===void 0)throw new Error("useGame must be used within a GameProvider");return a}const W_=({delay:a,left:t,size:n})=>G.jsx("div",{className:"absolute text-yellow-300 animate-pulse pointer-events-none",style:{left:t,top:`${Math.random()*100}%`,fontSize:`${n}px`,animationDelay:`${a}s`,opacity:.6+Math.random()*.4},children:""}),wp=()=>{const{goToLevelSelect:a,goToCollection:t,state:n,toggleMusic:l,toggleSfx:u}=yn(),[o,h]=$t.useState([]);$t.useEffect(()=>{const p=Array.from({length:20},(g,x)=>({id:x,delay:Math.random()*3,left:`${Math.random()*100}%`,size:16+Math.random()*24}));h(p)},[]);const{musicEnabled:d,sfxEnabled:m}=n.progress.settings;return G.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center overflow-hidden",children:[G.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 via-pink-800 to-indigo-900 animate-pulse"}),o.map(p=>G.jsx(W_,{delay:p.delay,left:p.left,size:p.size},p.id)),G.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-8 p-8",children:[G.jsxs("div",{className:"text-center animate-float",children:[G.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-300 via-purple-300 to-indigo-300 drop-shadow-lg",style:{textShadow:"0 0 30px rgba(236, 72, 153, 0.5)"},children:" Enchanted "}),G.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 mt-2",style:{textShadow:"0 0 30px rgba(251, 191, 36, 0.5)"},children:"Glamour Kingdom"})]}),G.jsx("p",{className:"text-pink-200 text-lg md:text-xl text-center max-w-md",children:"Transform magical creatures with enchanted makeup and sparkles!"}),G.jsxs("div",{className:"flex items-center gap-2 bg-purple-900/50 px-6 py-3 rounded-full border border-purple-400/30",children:[G.jsx("span",{className:"text-2xl",children:""}),G.jsx("span",{className:"text-yellow-300 font-bold text-xl",children:n.progress.totalStars}),G.jsx("span",{className:"text-purple-200",children:"stars collected"})]}),G.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-xs",children:[G.jsx("button",{onClick:a,className:"btn-magic text-xl py-4 animate-glow",children:" Play"}),G.jsxs("button",{onClick:t,className:"btn-magic text-xl py-4 bg-gradient-to-r from-indigo-500 to-purple-500",children:[" Collection (",n.progress.collection.length,"/10)"]})]}),G.jsxs("div",{className:"flex gap-4 mt-4",children:[G.jsx("button",{onClick:l,className:`w-14 h-14 rounded-full flex items-center justify-center text-2xl transition-all ${d?"bg-purple-600 text-white shadow-lg shadow-purple-500/50":"bg-gray-700 text-gray-400"}`,children:d?"":""}),G.jsx("button",{onClick:u,className:`w-14 h-14 rounded-full flex items-center justify-center text-2xl transition-all ${m?"bg-pink-600 text-white shadow-lg shadow-pink-500/50":"bg-gray-700 text-gray-400"}`,children:m?"":""})]}),G.jsx("p",{className:"text-purple-300/60 text-sm mt-8",children:"Made with  for Aysel"})]})]})},si=[{id:"forest-fairy",name:"Luna the Forest Fairy",baseImageUrl:"/assets/characters/forest-fairy.png",theme:"Spring Garden",unlocked:!0},{id:"water-mermaid",name:"Marina the Water Mermaid",baseImageUrl:"/assets/characters/water-mermaid.png",theme:"Ocean Dreams",unlocked:!1},{id:"unicorn-princess",name:"Starlight the Unicorn Princess",baseImageUrl:"/assets/characters/unicorn-princess.png",theme:"Rainbow Magic",unlocked:!1},{id:"moon-fairy",name:"Celeste the Moon Fairy",baseImageUrl:"/assets/characters/moon-fairy.png",theme:"Starlight Night",unlocked:!1},{id:"flower-spirit",name:"Petal the Flower Spirit",baseImageUrl:"/assets/characters/flower-spirit.png",theme:"Enchanted Garden",unlocked:!1},{id:"crystal-mermaid",name:"Crystal the Ice Mermaid",baseImageUrl:"/assets/characters/crystal-mermaid.png",theme:"Ice Palace",unlocked:!1},{id:"sun-princess",name:"Aurora the Sun Princess",baseImageUrl:"/assets/characters/sun-princess.png",theme:"Golden Kingdom",unlocked:!1},{id:"shadow-fairy",name:"Violet the Shadow Fairy",baseImageUrl:"/assets/characters/shadow-fairy.png",theme:"Mystic Forest",unlocked:!1},{id:"rainbow-unicorn",name:"Prism the Rainbow Unicorn",baseImageUrl:"/assets/characters/rainbow-unicorn.png",theme:"Cloud Castle",unlocked:!1},{id:"queen-magic",name:"Empress Enchantia",baseImageUrl:"/assets/characters/queen-magic.png",theme:"Enchanted Throne",unlocked:!1}],js=(a,t)=>t.map((n,l)=>({id:`${a}-${l+1}`,name:n.name,category:a,imageUrl:`/assets/makeup/${a}/${a}-${l+1}.png`,rarity:n.rarity,position:n.position,scale:1})),Vg=js("lips",[{name:"Rose Petal Pink",rarity:"common",position:{x:0,y:80}},{name:"Cherry Blossom",rarity:"common",position:{x:0,y:80}},{name:"Coral Dream",rarity:"common",position:{x:0,y:80}},{name:"Fairy Berry",rarity:"rare",position:{x:0,y:80}},{name:"Sparkle Gloss",rarity:"rare",position:{x:0,y:80}},{name:"Rainbow Kiss",rarity:"legendary",position:{x:0,y:80}}]),Pg=js("eyes",[{name:"Starlight Shimmer",rarity:"common",position:{x:0,y:-20}},{name:"Ocean Blue",rarity:"common",position:{x:0,y:-20}},{name:"Forest Green",rarity:"common",position:{x:0,y:-20}},{name:"Sunset Orange",rarity:"rare",position:{x:0,y:-20}},{name:"Galaxy Purple",rarity:"rare",position:{x:0,y:-20}},{name:"Diamond Sparkle",rarity:"legendary",position:{x:0,y:-20}}]),Qg=js("cheeks",[{name:"Peach Glow",rarity:"common",position:{x:0,y:40}},{name:"Pink Cloud",rarity:"common",position:{x:0,y:40}},{name:"Coral Dust",rarity:"common",position:{x:0,y:40}},{name:"Fairy Dust",rarity:"rare",position:{x:0,y:40}},{name:"Glitter Blush",rarity:"rare",position:{x:0,y:40}},{name:"Moonbeam Glow",rarity:"legendary",position:{x:0,y:40}}]),Zg=js("hair",[{name:"Flowing Waves",rarity:"common",position:{x:0,y:-100}},{name:"Braided Crown",rarity:"common",position:{x:0,y:-100}},{name:"Curly Locks",rarity:"common",position:{x:0,y:-100}},{name:"Flower Braid",rarity:"rare",position:{x:0,y:-100}},{name:"Star Streaks",rarity:"rare",position:{x:0,y:-100}},{name:"Rainbow Cascade",rarity:"legendary",position:{x:0,y:-100}}]),Fg=js("accessories",[{name:"Flower Crown",rarity:"common",position:{x:0,y:-120}},{name:"Crystal Tiara",rarity:"common",position:{x:0,y:-120}},{name:"Pearl Necklace",rarity:"common",position:{x:0,y:100}},{name:"Star Earrings",rarity:"rare",position:{x:0,y:-10}},{name:"Magic Wand",rarity:"rare",position:{x:80,y:50}},{name:"Enchanted Crown",rarity:"legendary",position:{x:0,y:-130}}]),Kg=js("wings",[{name:"Butterfly Wings",rarity:"common",position:{x:0,y:0}},{name:"Fairy Wings",rarity:"common",position:{x:0,y:0}},{name:"Crystal Wings",rarity:"common",position:{x:0,y:0}},{name:"Rainbow Wings",rarity:"rare",position:{x:0,y:0}},{name:"Starlight Wings",rarity:"rare",position:{x:0,y:0}},{name:"Galaxy Wings",rarity:"legendary",position:{x:0,y:0}}]),gi=[...Vg,...Pg,...Qg,...Zg,...Fg,...Kg],J_=a=>{switch(a){case"lips":return Vg;case"eyes":return Pg;case"cheeks":return Qg;case"hair":return Zg;case"accessories":return Fg;case"wings":return Kg;default:return[]}},$_=[{id:"lips",name:"Lips",icon:""},{id:"eyes",name:"Eyes",icon:""},{id:"cheeks",name:"Cheeks",icon:""},{id:"hair",name:"Hair",icon:""},{id:"accessories",name:"Accessories",icon:""},{id:"wings",name:"Wings",icon:""}],Ig=[{id:1,name:"Spring Garden",character:si[0],backgroundUrl:"/assets/backgrounds/spring-garden.jpg",availableItems:gi,unlockRequirement:null},{id:2,name:"Ocean Dreams",character:si[1],backgroundUrl:"/assets/backgrounds/ocean-dreams.jpg",availableItems:gi,unlockRequirement:1},{id:3,name:"Rainbow Magic",character:si[2],backgroundUrl:"/assets/backgrounds/rainbow-magic.jpg",availableItems:gi,unlockRequirement:2},{id:4,name:"Starlight Night",character:si[3],backgroundUrl:"/assets/backgrounds/starlight-night.jpg",availableItems:gi,unlockRequirement:3},{id:5,name:"Enchanted Garden",character:si[4],backgroundUrl:"/assets/backgrounds/enchanted-garden.jpg",availableItems:gi,unlockRequirement:4},{id:6,name:"Ice Palace",character:si[5],backgroundUrl:"/assets/backgrounds/ice-palace.jpg",availableItems:gi,unlockRequirement:5},{id:7,name:"Golden Kingdom",character:si[6],backgroundUrl:"/assets/backgrounds/golden-kingdom.jpg",availableItems:gi,unlockRequirement:6},{id:8,name:"Mystic Forest",character:si[7],backgroundUrl:"/assets/backgrounds/mystic-forest.jpg",availableItems:gi,unlockRequirement:7},{id:9,name:"Cloud Castle",character:si[8],backgroundUrl:"/assets/backgrounds/cloud-castle.jpg",availableItems:gi,unlockRequirement:8},{id:10,name:"Enchanted Throne",character:si[9],backgroundUrl:"/assets/backgrounds/enchanted-throne.jpg",availableItems:gi,unlockRequirement:9}],tb=a=>Ig.find(t=>t.id===a),eb=(a,t)=>{const n=tb(a);return n?n.unlockRequirement===null?!0:t.includes(n.unlockRequirement):!1},ib=({level:a,isUnlocked:t,stars:n,onSelect:l})=>G.jsxs("button",{onClick:t?l:void 0,disabled:!t,className:`relative w-full aspect-square rounded-2xl overflow-hidden transition-all duration-300 ${t?"transform hover:scale-105 hover:shadow-xl hover:shadow-purple-500/30 cursor-pointer":"opacity-50 cursor-not-allowed grayscale"}`,children:[G.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-br from-purple-600 via-pink-500 to-indigo-600":"bg-gradient-to-br from-gray-600 to-gray-800"}`}),G.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:G.jsx("div",{className:"text-6xl opacity-80",children:t?nb(a.id):""})}),G.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3",children:[G.jsx("p",{className:"text-white font-bold text-sm",children:a.name}),G.jsx("p",{className:"text-pink-300 text-xs",children:a.character.name})]}),t&&G.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5",children:[1,2,3].map(u=>G.jsx("span",{className:`text-lg ${u<=n?"text-yellow-400":"text-gray-600"}`,children:""},u))}),G.jsx("div",{className:"absolute top-2 left-2 w-8 h-8 rounded-full bg-purple-900/80 flex items-center justify-center",children:G.jsx("span",{className:"text-white font-bold text-sm",children:a.id})})]});function nb(a){return["","","","","","","","","",""][a-1]||""}const sb=()=>{const{goToMenu:a,selectLevel:t,state:n}=yn(),{unlockedLevels:l,collection:u}=n.progress,o=h=>u.find(m=>m.levelId===h)?.stars||0;return G.jsxs("div",{className:"w-full h-full flex flex-col bg-gradient-to-br from-purple-900 via-indigo-900 to-purple-800 overflow-hidden",children:[G.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-900/50",children:[G.jsx("button",{onClick:a,className:"w-12 h-12 rounded-full bg-purple-700 hover:bg-purple-600 flex items-center justify-center text-2xl transition-colors",children:""}),G.jsx("h1",{className:"text-2xl font-bold text-pink-200",children:"Choose Your Level"}),G.jsx("div",{className:"w-12"})," "]}),G.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:G.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 max-w-4xl mx-auto",children:Ig.map(h=>G.jsx(ib,{level:h,isUnlocked:eb(h.id,l),stars:o(h.id),onSelect:()=>t(h)},h.id))})}),G.jsx("div",{className:"p-4 bg-purple-900/50",children:G.jsxs("div",{className:"max-w-md mx-auto",children:[G.jsxs("div",{className:"flex justify-between text-sm text-purple-200 mb-2",children:[G.jsx("span",{children:"Progress"}),G.jsxs("span",{children:[l.length,"/10 levels"]})]}),G.jsx("div",{className:"h-3 bg-purple-950 rounded-full overflow-hidden",children:G.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-purple-500 rounded-full transition-all duration-500",style:{width:`${l.length/10*100}%`}})})]})})]})},ab=({makeover:a,characterName:t})=>G.jsxs("div",{className:"relative bg-gradient-to-br from-purple-700 to-pink-700 rounded-2xl overflow-hidden shadow-lg",children:[G.jsx("div",{className:"aspect-square flex items-center justify-center bg-purple-800/50",children:G.jsx("div",{className:"text-6xl",children:lb(a.characterId)})}),G.jsxs("div",{className:"p-3 bg-purple-900/80",children:[G.jsx("p",{className:"text-white font-bold text-sm truncate",children:t}),G.jsxs("p",{className:"text-purple-300 text-xs",children:[a.appliedItems.length," items used"]})]}),G.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5 bg-purple-900/80 px-2 py-1 rounded-full",children:[1,2,3].map(n=>G.jsx("span",{className:`text-sm ${n<=a.stars?"text-yellow-400":"text-gray-600"}`,children:""},n))})]});function lb(a){return{"forest-fairy":"","water-mermaid":"","unicorn-princess":"","moon-fairy":"","flower-spirit":"","crystal-mermaid":"","sun-princess":"","shadow-fairy":"","rainbow-unicorn":"","queen-magic":""}[a]||""}const rb=({index:a})=>G.jsxs("div",{className:"bg-purple-900/30 rounded-2xl border-2 border-dashed border-purple-600/50 aspect-square flex flex-col items-center justify-center",children:[G.jsx("span",{className:"text-4xl text-purple-600/50",children:""}),G.jsxs("span",{className:"text-purple-400/50 text-sm mt-2",children:["Level ",a+1]})]}),ub=()=>{const{goToMenu:a,state:t}=yn(),{collection:n,totalStars:l}=t.progress,u=h=>si.find(m=>m.id===h)?.name||"Unknown",o=new Map;return n.forEach(h=>{const d=o.get(h.levelId);(!d||h.stars>d.stars)&&o.set(h.levelId,h)}),G.jsxs("div",{className:"w-full h-full flex flex-col bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 overflow-hidden",children:[G.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-900/50",children:[G.jsx("button",{onClick:a,className:"w-12 h-12 rounded-full bg-purple-700 hover:bg-purple-600 flex items-center justify-center text-2xl transition-colors",children:""}),G.jsx("h1",{className:"text-2xl font-bold text-pink-200",children:" Collection"}),G.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/20 px-4 py-2 rounded-full",children:[G.jsx("span",{className:"text-xl",children:""}),G.jsx("span",{className:"text-yellow-300 font-bold",children:l})]})]}),G.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:n.length===0?G.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[G.jsx("span",{className:"text-6xl mb-4",children:""}),G.jsx("h2",{className:"text-2xl font-bold text-pink-200 mb-2",children:"Your collection is empty!"}),G.jsx("p",{className:"text-purple-300",children:"Complete makeovers to fill your collection book with beautiful creations."})]}):G.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 max-w-4xl mx-auto",children:Array.from({length:10},(h,d)=>{const m=d+1,p=o.get(m);return p?G.jsx(ab,{makeover:p,characterName:u(p.characterId)},m):G.jsx(rb,{index:d},m)})})}),G.jsx("div",{className:"p-4 bg-purple-900/50",children:G.jsxs("div",{className:"max-w-md mx-auto flex justify-around",children:[G.jsxs("div",{className:"text-center",children:[G.jsx("p",{className:"text-3xl font-bold text-pink-300",children:o.size}),G.jsx("p",{className:"text-purple-300 text-sm",children:"Creatures"})]}),G.jsxs("div",{className:"text-center",children:[G.jsx("p",{className:"text-3xl font-bold text-yellow-300",children:l}),G.jsx("p",{className:"text-purple-300 text-sm",children:"Total Stars"})]}),G.jsxs("div",{className:"text-center",children:[G.jsx("p",{className:"text-3xl font-bold text-purple-300",children:n.length}),G.jsx("p",{className:"text-purple-300 text-sm",children:"Makeovers"})]})]})})]})},ob=()=>{const{state:a,goToLevelSelect:t,goToMenu:n}=yn(),[l,u]=$t.useState(0),[o,h]=$t.useState(!1),[d,m]=$t.useState(!1),p=a.progress.collection[a.progress.collection.length-1],g=p?.stars||0,x=a.currentLevel?.character.name||"Character";return $t.useEffect(()=>{const v=[];for(let A=1;A<=g;A++){const T=setTimeout(()=>{u(A)},A*500);v.push(T)}const _=setTimeout(()=>{h(!0)},g*500+300),S=setTimeout(()=>{m(!0)},g*500+800);return()=>{v.forEach(clearTimeout),clearTimeout(_),clearTimeout(S)}},[g]),G.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-purple-900 via-pink-800 to-indigo-900 overflow-hidden relative",children:[G.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:30}).map((v,_)=>G.jsx("div",{className:"absolute animate-bounce",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${1+Math.random()}s`,fontSize:`${16+Math.random()*16}px`},children:["","","","",""][Math.floor(Math.random()*5)]},_))}),G.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6 p-8 text-center",children:[G.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-pink-200 animate-pulse",children:" Makeover Complete! "}),G.jsxs("div",{className:"bg-purple-800/50 rounded-2xl px-8 py-4",children:[G.jsx("p",{className:"text-purple-200",children:"You transformed"}),G.jsx("p",{className:"text-2xl font-bold text-white",children:x})]}),G.jsx("div",{className:"flex gap-4 my-4",children:[1,2,3].map(v=>G.jsx("div",{className:`transform transition-all duration-500 ${v<=l?"scale-100 opacity-100":"scale-0 opacity-0"}`,children:G.jsx("span",{className:`text-6xl ${v<=l?"text-yellow-400 animate-bounce":"text-gray-600"}`,style:{animationDelay:`${v*.1}s`,textShadow:v<=l?"0 0 20px #fbbf24":"none"},children:""})},v))}),G.jsxs("div",{className:`transition-all duration-500 ${o?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-4"}`,children:[G.jsx("p",{className:"text-xl text-pink-300 font-bold",children:Z_(g)}),p&&G.jsxs("p",{className:"text-purple-300 mt-2",children:[p.appliedItems.length," magical items used"]})]}),G.jsx("div",{className:`bg-yellow-500/20 rounded-full px-6 py-3 transition-all duration-500 ${o?"opacity-100":"opacity-0"}`,children:G.jsxs("span",{className:"text-yellow-300 font-bold",children:["Total: ",a.progress.totalStars," "]})}),G.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 mt-4 transition-all duration-500 ${d?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-4"}`,children:[G.jsx("button",{onClick:t,className:"btn-magic text-lg px-8 py-3",children:" Next Level"}),G.jsx("button",{onClick:n,className:"px-8 py-3 rounded-xl bg-purple-700 hover:bg-purple-600 text-white font-bold transition-colors",children:" Home"})]}),a.currentLevel&&a.currentLevel.id<10&&G.jsx("div",{className:`mt-4 bg-green-500/20 rounded-full px-6 py-2 transition-all duration-500 ${d?"opacity-100":"opacity-0"}`,children:G.jsxs("span",{className:"text-green-300",children:[" Level ",a.currentLevel.id+1," Unlocked!"]})})]})]})},cb="modulepreload",hb=function(a){return"/aysel_game/"+a},Ep={},Lr=function(t,n,l){let u=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");u=m(n.map(p=>{if(p=hb(p),p in Ep)return;Ep[p]=!0;const g=p.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":cb,g||(v.as="script"),v.crossOrigin="",v.href=p,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((_,S)=>{v.addEventListener("load",_),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return u.then(h=>{for(const d of h||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};var Et=(a=>(a.Application="application",a.WebGLPipes="webgl-pipes",a.WebGLPipesAdaptor="webgl-pipes-adaptor",a.WebGLSystem="webgl-system",a.WebGPUPipes="webgpu-pipes",a.WebGPUPipesAdaptor="webgpu-pipes-adaptor",a.WebGPUSystem="webgpu-system",a.CanvasSystem="canvas-system",a.CanvasPipesAdaptor="canvas-pipes-adaptor",a.CanvasPipes="canvas-pipes",a.Asset="asset",a.LoadParser="load-parser",a.ResolveParser="resolve-parser",a.CacheParser="cache-parser",a.DetectionParser="detection-parser",a.MaskEffect="mask-effect",a.BlendMode="blend-mode",a.TextureSource="texture-source",a.Environment="environment",a.ShapeBuilder="shape-builder",a.Batcher="batcher",a))(Et||{});const Hc=a=>{if(typeof a=="function"||typeof a=="object"&&a.extension){if(!a.extension)throw new Error("Extension class must have an extension object");a={...typeof a.extension!="object"?{type:a.extension}:a.extension,ref:a}}if(typeof a=="object")a={...a};else throw new Error("Invalid extension type");return typeof a.type=="string"&&(a.type=[a.type]),a},Sr=(a,t)=>Hc(a).priority??t,We={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...a){return a.map(Hc).forEach(t=>{t.type.forEach(n=>this._removeHandlers[n]?.(t))}),this},add(...a){return a.map(Hc).forEach(t=>{t.type.forEach(n=>{const l=this._addHandlers,u=this._queue;l[n]?l[n]?.(t):(u[n]=u[n]||[],u[n]?.push(t))})}),this},handle(a,t,n){const l=this._addHandlers,u=this._removeHandlers;if(l[a]||u[a])throw new Error(`Extension type ${a} already has a handler`);l[a]=t,u[a]=n;const o=this._queue;return o[a]&&(o[a]?.forEach(h=>t(h)),delete o[a]),this},handleByMap(a,t){return this.handle(a,n=>{n.name&&(t[n.name]=n.ref)},n=>{n.name&&delete t[n.name]})},handleByNamedList(a,t,n=-1){return this.handle(a,l=>{t.findIndex(o=>o.name===l.name)>=0||(t.push({name:l.name,value:l.ref}),t.sort((o,h)=>Sr(h.value,n)-Sr(o.value,n)))},l=>{const u=t.findIndex(o=>o.name===l.name);u!==-1&&t.splice(u,1)})},handleByList(a,t,n=-1){return this.handle(a,l=>{t.includes(l.ref)||(t.push(l.ref),t.sort((u,o)=>Sr(o,n)-Sr(u,n)))},l=>{const u=t.indexOf(l.ref);u!==-1&&t.splice(u,1)})},mixin(a,...t){for(const n of t)Object.defineProperties(a.prototype,Object.getOwnPropertyDescriptors(n))}},fb={extension:{type:Et.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Lr(()=>import("./browserAll-Cy_jIyZE.js"),__vite__mapDeps([0,1,2]))}},db={extension:{type:Et.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Lr(()=>import("./webworkerAll-DpnOfoqJ.js"),__vite__mapDeps([1,2]))}};class he{constructor(t,n,l){this._x=n||0,this._y=l||0,this._observer=t}clone(t){return new he(t??this._observer,this._x,this._y)}set(t=0,n=t){return(this._x!==t||this._y!==n)&&(this._x=t,this._y=n,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var gc={exports:{}},zp;function mb(){return zp||(zp=1,(function(a){var t=Object.prototype.hasOwnProperty,n="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(n=!1));function u(m,p,g){this.fn=m,this.context=p,this.once=g||!1}function o(m,p,g,x,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new u(g,x||m,v),S=n?n+p:p;return m._events[S]?m._events[S].fn?m._events[S]=[m._events[S],_]:m._events[S].push(_):(m._events[S]=_,m._eventsCount++),m}function h(m,p){--m._eventsCount===0?m._events=new l:delete m._events[p]}function d(){this._events=new l,this._eventsCount=0}d.prototype.eventNames=function(){var p=[],g,x;if(this._eventsCount===0)return p;for(x in g=this._events)t.call(g,x)&&p.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},d.prototype.listeners=function(p){var g=n?n+p:p,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,_=x.length,S=new Array(_);v<_;v++)S[v]=x[v].fn;return S},d.prototype.listenerCount=function(p){var g=n?n+p:p,x=this._events[g];return x?x.fn?1:x.length:0},d.prototype.emit=function(p,g,x,v,_,S){var A=n?n+p:p;if(!this._events[A])return!1;var T=this._events[A],E=arguments.length,N,B;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),E){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,g),!0;case 3:return T.fn.call(T.context,g,x),!0;case 4:return T.fn.call(T.context,g,x,v),!0;case 5:return T.fn.call(T.context,g,x,v,_),!0;case 6:return T.fn.call(T.context,g,x,v,_,S),!0}for(B=1,N=new Array(E-1);B<E;B++)N[B-1]=arguments[B];T.fn.apply(T.context,N)}else{var j=T.length,Q;for(B=0;B<j;B++)switch(T[B].once&&this.removeListener(p,T[B].fn,void 0,!0),E){case 1:T[B].fn.call(T[B].context);break;case 2:T[B].fn.call(T[B].context,g);break;case 3:T[B].fn.call(T[B].context,g,x);break;case 4:T[B].fn.call(T[B].context,g,x,v);break;default:if(!N)for(Q=1,N=new Array(E-1);Q<E;Q++)N[Q-1]=arguments[Q];T[B].fn.apply(T[B].context,N)}}return!0},d.prototype.on=function(p,g,x){return o(this,p,g,x,!1)},d.prototype.once=function(p,g,x){return o(this,p,g,x,!0)},d.prototype.removeListener=function(p,g,x,v){var _=n?n+p:p;if(!this._events[_])return this;if(!g)return h(this,_),this;var S=this._events[_];if(S.fn)S.fn===g&&(!v||S.once)&&(!x||S.context===x)&&h(this,_);else{for(var A=0,T=[],E=S.length;A<E;A++)(S[A].fn!==g||v&&!S[A].once||x&&S[A].context!==x)&&T.push(S[A]);T.length?this._events[_]=T.length===1?T[0]:T:h(this,_)}return this},d.prototype.removeAllListeners=function(p){var g;return p?(g=n?n+p:p,this._events[g]&&h(this,g)):(this._events=new l,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,a.exports=d})(gc)),gc.exports}var pb=mb();const _i=kg(pb),gb=Math.PI*2,yb=180/Math.PI,xb=Math.PI/180;class de{constructor(t=0,n=0){this.x=0,this.y=0,this.x=t,this.y=n}clone(){return new de(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,n=t){return this.x=t,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return yc.x=0,yc.y=0,yc}}const yc=new de;class yt{constructor(t=1,n=0,l=0,u=1,o=0,h=0){this.array=null,this.a=t,this.b=n,this.c=l,this.d=u,this.tx=o,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,n,l,u,o,h){return this.a=t,this.b=n,this.c=l,this.d=u,this.tx=o,this.ty=h,this}toArray(t,n){this.array||(this.array=new Float32Array(9));const l=n||this.array;return t?(l[0]=this.a,l[1]=this.b,l[2]=0,l[3]=this.c,l[4]=this.d,l[5]=0,l[6]=this.tx,l[7]=this.ty,l[8]=1):(l[0]=this.a,l[1]=this.c,l[2]=this.tx,l[3]=this.b,l[4]=this.d,l[5]=this.ty,l[6]=0,l[7]=0,l[8]=1),l}apply(t,n){n=n||new de;const l=t.x,u=t.y;return n.x=this.a*l+this.c*u+this.tx,n.y=this.b*l+this.d*u+this.ty,n}applyInverse(t,n){n=n||new de;const l=this.a,u=this.b,o=this.c,h=this.d,d=this.tx,m=this.ty,p=1/(l*h+o*-u),g=t.x,x=t.y;return n.x=h*p*g+-o*p*x+(m*o-d*h)*p,n.y=l*p*x+-u*p*g+(-m*l+d*u)*p,n}translate(t,n){return this.tx+=t,this.ty+=n,this}scale(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this}rotate(t){const n=Math.cos(t),l=Math.sin(t),u=this.a,o=this.c,h=this.tx;return this.a=u*n-this.b*l,this.b=u*l+this.b*n,this.c=o*n-this.d*l,this.d=o*l+this.d*n,this.tx=h*n-this.ty*l,this.ty=h*l+this.ty*n,this}append(t){const n=this.a,l=this.b,u=this.c,o=this.d;return this.a=t.a*n+t.b*u,this.b=t.a*l+t.b*o,this.c=t.c*n+t.d*u,this.d=t.c*l+t.d*o,this.tx=t.tx*n+t.ty*u+this.tx,this.ty=t.tx*l+t.ty*o+this.ty,this}appendFrom(t,n){const l=t.a,u=t.b,o=t.c,h=t.d,d=t.tx,m=t.ty,p=n.a,g=n.b,x=n.c,v=n.d;return this.a=l*p+u*x,this.b=l*g+u*v,this.c=o*p+h*x,this.d=o*g+h*v,this.tx=d*p+m*x+n.tx,this.ty=d*g+m*v+n.ty,this}setTransform(t,n,l,u,o,h,d,m,p){return this.a=Math.cos(d+p)*o,this.b=Math.sin(d+p)*o,this.c=-Math.sin(d-m)*h,this.d=Math.cos(d-m)*h,this.tx=t-(l*this.a+u*this.c),this.ty=n-(l*this.b+u*this.d),this}prepend(t){const n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const l=this.a,u=this.c;this.a=l*t.a+this.b*t.c,this.b=l*t.b+this.b*t.d,this.c=u*t.a+this.d*t.c,this.d=u*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this}decompose(t){const n=this.a,l=this.b,u=this.c,o=this.d,h=t.pivot,d=-Math.atan2(-u,o),m=Math.atan2(l,n),p=Math.abs(d+m);return p<1e-5||Math.abs(gb-p)<1e-5?(t.rotation=m,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=d,t.skew.y=m),t.scale.x=Math.sqrt(n*n+l*l),t.scale.y=Math.sqrt(u*u+o*o),t.position.x=this.tx+(h.x*n+h.y*u),t.position.y=this.ty+(h.x*l+h.y*o),t}invert(){const t=this.a,n=this.b,l=this.c,u=this.d,o=this.tx,h=t*u-n*l;return this.a=u/h,this.b=-n/h,this.c=-l/h,this.d=t/h,this.tx=(l*this.ty-u*o)/h,this.ty=-(t*this.ty-n*o)/h,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new yt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return bb.identity()}static get shared(){return _b.identity()}}const _b=new yt,bb=new yt,Hn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],kn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ln=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Yn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],kc=[],Wg=[],Tr=Math.sign;function vb(){for(let a=0;a<16;a++){const t=[];kc.push(t);for(let n=0;n<16;n++){const l=Tr(Hn[a]*Hn[n]+Ln[a]*kn[n]),u=Tr(kn[a]*Hn[n]+Yn[a]*kn[n]),o=Tr(Hn[a]*Ln[n]+Ln[a]*Yn[n]),h=Tr(kn[a]*Ln[n]+Yn[a]*Yn[n]);for(let d=0;d<16;d++)if(Hn[d]===l&&kn[d]===u&&Ln[d]===o&&Yn[d]===h){t.push(d);break}}}for(let a=0;a<16;a++){const t=new yt;t.set(Hn[a],kn[a],Ln[a],Yn[a],0,0),Wg.push(t)}}vb();const Ot={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:a=>Hn[a],uY:a=>kn[a],vX:a=>Ln[a],vY:a=>Yn[a],inv:a=>a&8?a&15:-a&7,add:(a,t)=>kc[a][t],sub:(a,t)=>kc[a][Ot.inv(t)],rotate180:a=>a^4,isVertical:a=>(a&3)===2,byDirection:(a,t)=>Math.abs(a)*2<=Math.abs(t)?t>=0?Ot.S:Ot.N:Math.abs(t)*2<=Math.abs(a)?a>0?Ot.E:Ot.W:t>0?a>0?Ot.SE:Ot.SW:a>0?Ot.NE:Ot.NW,matrixAppendRotationInv:(a,t,n=0,l=0)=>{const u=Wg[Ot.inv(t)];u.tx=n,u.ty=l,a.append(u)},transformRectCoords:(a,t,n,l)=>{const{x:u,y:o,width:h,height:d}=a,{x:m,y:p,width:g,height:x}=t;return n===Ot.E?(l.set(u+m,o+p,h,d),l):n===Ot.S?l.set(g-o-d+m,u+p,d,h):n===Ot.W?l.set(g-u-h+m,x-o-d+p,h,d):n===Ot.N?l.set(o+m,x-u-h+p,d,h):l.set(u+m,o+p,h,d)}},Ar=[new de,new de,new de,new de];class Zt{constructor(t=0,n=0,l=0,u=0){this.type="rectangle",this.x=Number(t),this.y=Number(n),this.width=Number(l),this.height=Number(u)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Zt(0,0,0,0)}clone(){return new Zt(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(t,n,l,u=.5){const{width:o,height:h}=this;if(o<=0||h<=0)return!1;const d=this.x,m=this.y,p=l*(1-u),g=l-p,x=d-p,v=d+o+p,_=m-p,S=m+h+p,A=d+g,T=d+o-g,E=m+g,N=m+h-g;return t>=x&&t<=v&&n>=_&&n<=S&&!(t>A&&t<T&&n>E&&n<N)}intersects(t,n){if(!n){const it=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=it)return!1;const F=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>F}const l=this.left,u=this.right,o=this.top,h=this.bottom;if(u<=l||h<=o)return!1;const d=Ar[0].set(t.left,t.top),m=Ar[1].set(t.left,t.bottom),p=Ar[2].set(t.right,t.top),g=Ar[3].set(t.right,t.bottom);if(p.x<=d.x||m.y<=d.y)return!1;const x=Math.sign(n.a*n.d-n.b*n.c);if(x===0||(n.apply(d,d),n.apply(m,m),n.apply(p,p),n.apply(g,g),Math.max(d.x,m.x,p.x,g.x)<=l||Math.min(d.x,m.x,p.x,g.x)>=u||Math.max(d.y,m.y,p.y,g.y)<=o||Math.min(d.y,m.y,p.y,g.y)>=h))return!1;const v=x*(m.y-d.y),_=x*(d.x-m.x),S=v*l+_*o,A=v*u+_*o,T=v*l+_*h,E=v*u+_*h;if(Math.max(S,A,T,E)<=v*d.x+_*d.y||Math.min(S,A,T,E)>=v*g.x+_*g.y)return!1;const N=x*(d.y-p.y),B=x*(p.x-d.x),j=N*l+B*o,Q=N*u+B*o,P=N*l+B*h,k=N*u+B*h;return!(Math.max(j,Q,P,k)<=N*d.x+B*d.y||Math.min(j,Q,P,k)>=N*g.x+B*g.y)}pad(t=0,n=t){return this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this}fit(t){const n=Math.max(this.x,t.x),l=Math.min(this.x+this.width,t.x+t.width),u=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(l-n,0),this.y=u,this.height=Math.max(o-u,0),this}ceil(t=1,n=.001){const l=Math.ceil((this.x+this.width-n)*t)/t,u=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=l-this.x,this.height=u-this.y,this}scale(t,n=t){return this.x*=t,this.y*=n,this.width*=t,this.height*=n,this}enlarge(t){const n=Math.min(this.x,t.x),l=Math.max(this.x+this.width,t.x+t.width),u=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=l-n,this.y=u,this.height=o-u,this}getBounds(t){return t||(t=new Zt),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const n=t.x,l=t.y,u=t.x+t.width,o=t.y+t.height;return n>=this.x&&n<this.x+this.width&&l>=this.y&&l<this.y+this.height&&u>=this.x&&u<this.x+this.width&&o>=this.y&&o<this.y+this.height}set(t,n,l,u){return this.x=t,this.y=n,this.width=l,this.height=u,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const xc={default:-1};function Vt(a="default"){return xc[a]===void 0&&(xc[a]=-1),++xc[a]}const Rp=new Set,Xt="8.0.0",Sb="8.3.4",Ds={quiet:!1,noColor:!1},Mt=(a,t,n=3)=>{if(Ds.quiet||Rp.has(t))return;let l=new Error().stack;const u=`${t}
Deprecated since v${a}`,o=typeof console.groupCollapsed=="function"&&!Ds.noColor;typeof l>"u"?console.warn("PixiJS Deprecation Warning: ",u):(l=l.split(`
`).splice(n).join(`
`),o?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",u),console.warn(l),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",u),console.warn(l))),Rp.add(t)};Object.defineProperties(Mt,{quiet:{get:()=>Ds.quiet,set:a=>{Ds.quiet=a},enumerable:!0,configurable:!1},noColor:{get:()=>Ds.noColor,set:a=>{Ds.noColor=a},enumerable:!0,configurable:!1}});const Jg=()=>{};function Os(a){return a+=a===0?1:0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1}function Bp(a){return!(a&a-1)&&!!a}function $g(a){const t={};for(const n in a)a[n]!==void 0&&(t[n]=a[n]);return t}const Np=Object.create(null);function Tb(a){const t=Np[a];return t===void 0&&(Np[a]=Vt("resource")),t}const t0=class e0 extends _i{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...e0.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){Mt(Xt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Tb(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};t0.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Yr=t0;const i0=class n0 extends _i{constructor(t={}){super(),this.options=t,this.uid=Vt("textureSource"),this._resourceType="textureSource",this._resourceId=Vt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...n0.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new Yr($g(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(t){this._style.maxAnisotropy=t}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Vt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,n,l){l||(l=this._resolution),t||(t=this.width),n||(n=this.height);const u=Math.round(t*l),o=Math.round(n*l);return this.width=u/l,this.height=o/l,this._resolution=l,this.pixelWidth===u&&this.pixelHeight===o?!1:(this._refreshPOT(),this.pixelWidth=u,this.pixelHeight=o,this.emit("resize",this),this._resourceId=Vt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Bp(this.pixelWidth)&&Bp(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};i0.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let ui=i0;class nh extends ui{constructor(t){const n=t.resource||new Float32Array(t.width*t.height*4);let l=t.format;l||(n instanceof Float32Array?l="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?l="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?l="rgba16uint":(n instanceof Int8Array,l="bgra8unorm")),super({...t,resource:n,format:l}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}nh.extension=Et.TextureSource;const Dp=new yt;class Ab{constructor(t,n){this.mapCoord=new yt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,n){n===void 0&&(n=t);const l=this.mapCoord;for(let u=0;u<t.length;u+=2){const o=t[u],h=t[u+1];n[u]=o*l.a+h*l.c+l.tx,n[u+1]=o*l.b+h*l.d+l.ty}return n}update(){const t=this._texture;this._updateID++;const n=t.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const l=t.orig,u=t.trim;u&&(Dp.set(l.width/u.width,0,0,l.height/u.height,-u.x/u.width,-u.y/u.height),this.mapCoord.append(Dp));const o=t.source,h=this.uClampFrame,d=this.clampMargin/o._resolution,m=this.clampOffset/o._resolution;return h[0]=(t.frame.x+d+m)/o.width,h[1]=(t.frame.y+d+m)/o.height,h[2]=(t.frame.x+t.frame.width-d+m)/o.width,h[3]=(t.frame.y+t.frame.height-d+m)/o.height,this.uClampOffset[0]=this.clampOffset/o.pixelWidth,this.uClampOffset[1]=this.clampOffset/o.pixelHeight,this.isSimple=t.frame.width===o.width&&t.frame.height===o.height&&t.rotate===0,!0}}class Nt extends _i{constructor({source:t,label:n,frame:l,orig:u,trim:o,defaultAnchor:h,defaultBorders:d,rotate:m,dynamic:p}={}){if(super(),this.uid=Vt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Zt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=t?.source??new ui,this.noFrame=!l,l)this.frame.copyFrom(l);else{const{width:g,height:x}=this._source;this.frame.width=g,this.frame.height=x}this.orig=u||this.frame,this.trim=o,this.rotate=m??0,this.defaultAnchor=h,this.defaultBorders=d,this.destroyed=!1,this.dynamic=p||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Ab(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:n}=this,{width:l,height:u}=this._source,o=n.x/l,h=n.y/u,d=n.width/l,m=n.height/u;let p=this.rotate;if(p){const g=d/2,x=m/2,v=o+g,_=h+x;p=Ot.add(p,Ot.NW),t.x0=v+g*Ot.uX(p),t.y0=_+x*Ot.uY(p),p=Ot.add(p,2),t.x1=v+g*Ot.uX(p),t.y1=_+x*Ot.uY(p),p=Ot.add(p,2),t.x2=v+g*Ot.uX(p),t.y2=_+x*Ot.uY(p),p=Ot.add(p,2),t.x3=v+g*Ot.uX(p),t.y3=_+x*Ot.uY(p)}else t.x0=o,t.y0=h,t.x1=o+d,t.y1=h,t.x2=o+d,t.y2=h+m,t.x3=o,t.y3=h+m}destroy(t=!1){this._source&&(this._source.off("resize",this.update,this),t&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Mt(Xt,"Texture.baseTexture is now Texture.source"),this._source}}Nt.EMPTY=new Nt({label:"EMPTY",source:new ui({label:"EMPTY"})});Nt.EMPTY.destroy=Jg;Nt.WHITE=new Nt({source:new nh({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Nt.WHITE.destroy=Jg;function Mb(a,t,n){const{width:l,height:u}=n.orig,o=n.trim;if(o){const h=o.width,d=o.height;a.minX=o.x-t._x*l,a.maxX=a.minX+h,a.minY=o.y-t._y*u,a.maxY=a.minY+d}else a.minX=-t._x*l,a.maxX=a.minX+l,a.minY=-t._y*u,a.maxY=a.minY+u}const Op=new yt;class ri{constructor(t=1/0,n=1/0,l=-1/0,u=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Op,this.minX=t,this.minY=n,this.maxX=l,this.maxY=u}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Zt);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Op,this}set(t,n,l,u){this.minX=t,this.minY=n,this.maxX=l,this.maxY=u}addFrame(t,n,l,u,o){o||(o=this.matrix);const h=o.a,d=o.b,m=o.c,p=o.d,g=o.tx,x=o.ty;let v=this.minX,_=this.minY,S=this.maxX,A=this.maxY,T=h*t+m*n+g,E=d*t+p*n+x;T<v&&(v=T),E<_&&(_=E),T>S&&(S=T),E>A&&(A=E),T=h*l+m*n+g,E=d*l+p*n+x,T<v&&(v=T),E<_&&(_=E),T>S&&(S=T),E>A&&(A=E),T=h*t+m*u+g,E=d*t+p*u+x,T<v&&(v=T),E<_&&(_=E),T>S&&(S=T),E>A&&(A=E),T=h*l+m*u+g,E=d*l+p*u+x,T<v&&(v=T),E<_&&(_=E),T>S&&(S=T),E>A&&(A=E),this.minX=v,this.minY=_,this.maxX=S,this.maxY=A}addRect(t,n){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,n)}addBounds(t,n){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,n)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const n=this.minX,l=this.minY,u=this.maxX,o=this.maxY,{a:h,b:d,c:m,d:p,tx:g,ty:x}=t;let v=h*n+m*l+g,_=d*n+p*l+x;this.minX=v,this.minY=_,this.maxX=v,this.maxY=_,v=h*u+m*l+g,_=d*u+p*l+x,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY,v=h*n+m*o+g,_=d*n+p*o+x,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY,v=h*u+m*o+g,_=d*u+p*o+x,this.minX=v<this.minX?v:this.minX,this.minY=_<this.minY?_:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=_>this.maxY?_:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,n,l,u){return this.minX<t&&(this.minX=t),this.maxX>n&&(this.maxX=n),this.minY<l&&(this.minY=l),this.maxY>u&&(this.maxY=u),this}pad(t,n=t){return this.minX-=t,this.maxX+=t,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new ri(this.minX,this.minY,this.maxX,this.maxY)}scale(t,n=t){return this.minX*=t,this.minY*=n,this.maxX*=t,this.maxY*=n,this}get x(){return this.minX}set x(t){const n=this.maxX-this.minX;this.minX=t,this.maxX=t+n}get y(){return this.minY}set y(t){const n=this.maxY-this.minY;this.minY=t,this.maxY=t+n}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,n,l,u){let o=this.minX,h=this.minY,d=this.maxX,m=this.maxY;u||(u=this.matrix);const p=u.a,g=u.b,x=u.c,v=u.d,_=u.tx,S=u.ty;for(let A=n;A<l;A+=2){const T=t[A],E=t[A+1],N=p*T+x*E+_,B=g*T+v*E+S;o=N<o?N:o,h=B<h?B:h,d=N>d?N:d,m=B>m?B:m}this.minX=o,this.minY=h,this.maxX=d,this.maxY=m}containsPoint(t,n){return this.minX<=t&&this.minY<=n&&this.maxX>=t&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var Cb={grad:.9,turn:360,rad:360/(2*Math.PI)},Hi=function(a){return typeof a=="string"?a.length>0:typeof a=="number"},ae=function(a,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*a)/n+0},Ke=function(a,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),a>n?n:a>t?a:t},s0=function(a){return(a=isFinite(a)?a%360:0)>0?a:a+360},Gp=function(a){return{r:Ke(a.r,0,255),g:Ke(a.g,0,255),b:Ke(a.b,0,255),a:Ke(a.a)}},_c=function(a){return{r:ae(a.r),g:ae(a.g),b:ae(a.b),a:ae(a.a,3)}},wb=/^#([0-9a-f]{3,8})$/i,Mr=function(a){var t=a.toString(16);return t.length<2?"0"+t:t},a0=function(a){var t=a.r,n=a.g,l=a.b,u=a.a,o=Math.max(t,n,l),h=o-Math.min(t,n,l),d=h?o===t?(n-l)/h:o===n?2+(l-t)/h:4+(t-n)/h:0;return{h:60*(d<0?d+6:d),s:o?h/o*100:0,v:o/255*100,a:u}},l0=function(a){var t=a.h,n=a.s,l=a.v,u=a.a;t=t/360*6,n/=100,l/=100;var o=Math.floor(t),h=l*(1-n),d=l*(1-(t-o)*n),m=l*(1-(1-t+o)*n),p=o%6;return{r:255*[l,d,h,h,m,l][p],g:255*[m,l,l,d,h,h][p],b:255*[h,h,m,l,l,d][p],a:u}},Up=function(a){return{h:s0(a.h),s:Ke(a.s,0,100),l:Ke(a.l,0,100),a:Ke(a.a)}},jp=function(a){return{h:ae(a.h),s:ae(a.s),l:ae(a.l),a:ae(a.a,3)}},Hp=function(a){return l0((n=(t=a).s,{h:t.h,s:(n*=((l=t.l)<50?l:100-l)/100)>0?2*n/(l+n)*100:0,v:l+n,a:t.a}));var t,n,l},Va=function(a){return{h:(t=a0(a)).h,s:(u=(200-(n=t.s))*(l=t.v)/100)>0&&u<200?n*l/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,l,u},Eb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Rb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Bb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Lc={string:[[function(a){var t=wb.exec(a);return t?(a=t[1]).length<=4?{r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16),a:a.length===4?ae(parseInt(a[3]+a[3],16)/255,2):1}:a.length===6||a.length===8?{r:parseInt(a.substr(0,2),16),g:parseInt(a.substr(2,2),16),b:parseInt(a.substr(4,2),16),a:a.length===8?ae(parseInt(a.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(a){var t=Rb.exec(a)||Bb.exec(a);return t?t[2]!==t[4]||t[4]!==t[6]?null:Gp({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(a){var t=Eb.exec(a)||zb.exec(a);if(!t)return null;var n,l,u=Up({h:(n=t[1],l=t[2],l===void 0&&(l="deg"),Number(n)*(Cb[l]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Hp(u)},"hsl"]],object:[[function(a){var t=a.r,n=a.g,l=a.b,u=a.a,o=u===void 0?1:u;return Hi(t)&&Hi(n)&&Hi(l)?Gp({r:Number(t),g:Number(n),b:Number(l),a:Number(o)}):null},"rgb"],[function(a){var t=a.h,n=a.s,l=a.l,u=a.a,o=u===void 0?1:u;if(!Hi(t)||!Hi(n)||!Hi(l))return null;var h=Up({h:Number(t),s:Number(n),l:Number(l),a:Number(o)});return Hp(h)},"hsl"],[function(a){var t=a.h,n=a.s,l=a.v,u=a.a,o=u===void 0?1:u;if(!Hi(t)||!Hi(n)||!Hi(l))return null;var h=(function(d){return{h:s0(d.h),s:Ke(d.s,0,100),v:Ke(d.v,0,100),a:Ke(d.a)}})({h:Number(t),s:Number(n),v:Number(l),a:Number(o)});return l0(h)},"hsv"]]},kp=function(a,t){for(var n=0;n<t.length;n++){var l=t[n][0](a);if(l)return[l,t[n][1]]}return[null,void 0]},Nb=function(a){return typeof a=="string"?kp(a.trim(),Lc.string):typeof a=="object"&&a!==null?kp(a,Lc.object):[null,void 0]},bc=function(a,t){var n=Va(a);return{h:n.h,s:Ke(n.s+100*t,0,100),l:n.l,a:n.a}},vc=function(a){return(299*a.r+587*a.g+114*a.b)/1e3/255},Lp=function(a,t){var n=Va(a);return{h:n.h,s:n.s,l:Ke(n.l+100*t,0,100),a:n.a}},Yc=(function(){function a(t){this.parsed=Nb(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return a.prototype.isValid=function(){return this.parsed!==null},a.prototype.brightness=function(){return ae(vc(this.rgba),2)},a.prototype.isDark=function(){return vc(this.rgba)<.5},a.prototype.isLight=function(){return vc(this.rgba)>=.5},a.prototype.toHex=function(){return t=_c(this.rgba),n=t.r,l=t.g,u=t.b,h=(o=t.a)<1?Mr(ae(255*o)):"","#"+Mr(n)+Mr(l)+Mr(u)+h;var t,n,l,u,o,h},a.prototype.toRgb=function(){return _c(this.rgba)},a.prototype.toRgbString=function(){return t=_c(this.rgba),n=t.r,l=t.g,u=t.b,(o=t.a)<1?"rgba("+n+", "+l+", "+u+", "+o+")":"rgb("+n+", "+l+", "+u+")";var t,n,l,u,o},a.prototype.toHsl=function(){return jp(Va(this.rgba))},a.prototype.toHslString=function(){return t=jp(Va(this.rgba)),n=t.h,l=t.s,u=t.l,(o=t.a)<1?"hsla("+n+", "+l+"%, "+u+"%, "+o+")":"hsl("+n+", "+l+"%, "+u+"%)";var t,n,l,u,o},a.prototype.toHsv=function(){return t=a0(this.rgba),{h:ae(t.h),s:ae(t.s),v:ae(t.v),a:ae(t.a,3)};var t},a.prototype.invert=function(){return yi({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},a.prototype.saturate=function(t){return t===void 0&&(t=.1),yi(bc(this.rgba,t))},a.prototype.desaturate=function(t){return t===void 0&&(t=.1),yi(bc(this.rgba,-t))},a.prototype.grayscale=function(){return yi(bc(this.rgba,-1))},a.prototype.lighten=function(t){return t===void 0&&(t=.1),yi(Lp(this.rgba,t))},a.prototype.darken=function(t){return t===void 0&&(t=.1),yi(Lp(this.rgba,-t))},a.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},a.prototype.alpha=function(t){return typeof t=="number"?yi({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):ae(this.rgba.a,3);var n},a.prototype.hue=function(t){var n=Va(this.rgba);return typeof t=="number"?yi({h:t,s:n.s,l:n.l,a:n.a}):ae(n.h)},a.prototype.isEqual=function(t){return this.toHex()===yi(t).toHex()},a})(),yi=function(a){return a instanceof Yc?a:new Yc(a)},Yp=[],Db=function(a){a.forEach(function(t){Yp.indexOf(t)<0&&(t(Yc,Lc),Yp.push(t))})};function Ob(a,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},l={};for(var u in n)l[n[u]]=u;var o={};a.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,m,p=l[this.toHex()];if(p)return p;if(h?.closest){var g=this.toRgb(),x=1/0,v="black";if(!o.length)for(var _ in n)o[_]=new a(n[_]).toRgb();for(var S in n){var A=(d=g,m=o[S],Math.pow(d.r-m.r,2)+Math.pow(d.g-m.g,2)+Math.pow(d.b-m.b,2));A<x&&(x=A,v=S)}return v}},t.string.push([function(h){var d=h.toLowerCase(),m=d==="transparent"?"#0000":n[d];return m?new a(m).toRgb():null},"name"])}Db([Ob]);const Gs=class La{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof La)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,n){const l=typeof t;if(l!==typeof n)return!1;if(l==="number"||l==="string"||t instanceof Number)return t===n;if(Array.isArray(t)&&Array.isArray(n)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(n))return t.length!==n.length?!1:t.every((o,h)=>o===n[h]);if(t!==null&&n!==null){const o=Object.keys(t),h=Object.keys(n);return o.length!==h.length?!1:o.every(d=>t[d]===n[d])}return t===n}toRgba(){const[t,n,l,u]=this._components;return{r:t,g:n,b:l,a:u}}toRgb(){const[t,n,l]=this._components;return{r:t,g:n,b:l}}toRgbaString(){const[t,n,l]=this.toUint8RgbArray();return`rgba(${t},${n},${l},${this.alpha})`}toUint8RgbArray(t){const[n,l,u]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(n*255),t[1]=Math.round(l*255),t[2]=Math.round(u*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[n,l,u,o]=this._components;return t[0]=n,t[1]=l,t[2]=u,t[3]=o,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[n,l,u]=this._components;return t[0]=n,t[1]=l,t[2]=u,t}toNumber(){return this._int}toBgrNumber(){const[t,n,l]=this.toUint8RgbArray();return(l<<16)+(n<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[n,l,u,o]=La._temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=l,this._components[2]*=u,this._components[3]*=o,this._refreshInt(),this._value=null,this}premultiply(t,n=!0){return n&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,n=!0){if(t===1)return(255<<24)+this._int;if(t===0)return n?0:this._int;let l=this._int>>16&255,u=this._int>>8&255,o=this._int&255;return n&&(l=l*t+.5|0,u=u*t+.5|0,o=o*t+.5|0),(t*255<<24)+(l<<16)+(u<<8)+o}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let n,l,u,o;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;n=(h>>16&255)/255,l=(h>>8&255)/255,u=(h&255)/255,o=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,l,u,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,l,u,o=255]=t,n/=255,l/=255,u/=255,o/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const d=La.HEX_PATTERN.exec(t);d&&(t=`#${d[2]}`)}const h=yi(t);h.isValid()&&({r:n,g:l,b:u,a:o}=h.rgba,n/=255,l/=255,u/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=l,this._components[2]=u,this._components[3]=o,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,n,l]=this._components;this._int=(t*255<<16)+(n*255<<8)+(l*255|0)}_clamp(t,n=0,l=1){return typeof t=="number"?Math.min(Math.max(t,n),l):(t.forEach((u,o)=>{t[o]=Math.min(Math.max(u,n),l)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof La||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Gs.shared=new Gs;Gs._temp=new Gs;Gs.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let te=Gs;const Gb={cullArea:null,cullable:!1,cullableChildren:!0};let Sc=0;const qp=500;function ye(...a){Sc!==qp&&(Sc++,Sc===qp?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...a))}const el={_registeredResources:new Set,register(a){this._registeredResources.add(a)},unregister(a){this._registeredResources.delete(a)},release(){this._registeredResources.forEach(a=>a.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(a){return this._registeredResources.has(a)},reset(){this._registeredResources.clear()}};class Ub{constructor(t,n){this._pool=[],this._count=0,this._index=0,this._classType=t,n&&this.prepopulate(n)}prepopulate(t){for(let n=0;n<t;n++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let n;return this._index>0?n=this._pool[--this._index]:(n=new this._classType,this._count++),n.init?.(t),n}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let t=0;t<this._index;t++)this._pool[t].destroy();this._pool.length=0,this._count=0,this._index=0}}class jb{constructor(){this._poolsByClass=new Map}prepopulate(t,n){this.getPool(t).prepopulate(n)}get(t,n){return this.getPool(t).get(n)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Ub(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(n=>{const l=t[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;t[l]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),t}clear(){this._poolsByClass.forEach(t=>t.clear()),this._poolsByClass.clear()}}const Ie=new jb;el.register(Ie);const Hb={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(a){typeof a=="boolean"&&a===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(a===!0?{}:a))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(a){Mt("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(a)}};function kb(a,t,n){const l=a.length;let u;if(t>=l||n===0)return;n=t+n>l?l-t:n;const o=l-n;for(u=t;u<o;++u)a[u]=a[u+n];a.length=o}const Lb={allowChildren:!0,removeChildren(a=0,t){const n=t??this.children.length,l=n-a,u=[];if(l>0&&l<=n){for(let h=n-1;h>=a;h--){const d=this.children[h];d&&(u.push(d),d.parent=null)}kb(this.children,a,n);const o=this.renderGroup||this.parentRenderGroup;o&&o.removeChildren(u);for(let h=0;h<u.length;++h){const d=u[h];d.parentRenderLayer?.detach(d),this.emit("childRemoved",d,this,h),u[h].emit("removed",this)}return u.length>0&&this._didViewChangeTick++,u}else if(l===0&&this.children.length===0)return u;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(a){const t=this.getChildAt(a);return this.removeChild(t)},getChildAt(a){if(a<0||a>=this.children.length)throw new Error(`getChildAt: Index (${a}) does not exist.`);return this.children[a]},setChildIndex(a,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(a),this.addChildAt(a,t)},getChildIndex(a){const t=this.children.indexOf(a);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(a,t){this.allowChildren||Mt(Xt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(t<0||t>n.length)throw new Error(`${a}addChildAt: The index ${t} supplied is out of bounds ${n.length}`);if(a.parent){const u=a.parent.children.indexOf(a);if(a.parent===this&&u===t)return a;u!==-1&&a.parent.children.splice(u,1)}t===n.length?n.push(a):n.splice(t,0,a),a.parent=this,a.didChange=!0,a._updateFlags=15;const l=this.renderGroup||this.parentRenderGroup;return l&&l.addChild(a),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",a,this,t),a.emit("added",this),a},swapChildren(a,t){if(a===t)return;const n=this.getChildIndex(a),l=this.getChildIndex(t);this.children[n]=t,this.children[l]=a;const u=this.renderGroup||this.parentRenderGroup;u&&(u.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...a){return a.length===1?this.reparentChildAt(a[0],this.children.length):(a.forEach(t=>this.reparentChildAt(t,this.children.length)),a[0])},reparentChildAt(a,t){if(a.parent===this)return this.setChildIndex(a,t),a;const n=a.worldTransform.clone();a.removeFromParent(),this.addChildAt(a,t);const l=this.worldTransform.clone();return l.invert(),n.prepend(l),a.setFromMatrix(n),a},replaceChild(a,t){a.updateLocalTransform(),this.addChildAt(t,this.getChildIndex(a)),t.setFromMatrix(a.localTransform),t.updateLocalTransform(),this.removeChild(a)}},Yb={collectRenderables(a,t,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(a,t,n):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,a):this.collectRenderablesWithEffects(a,t,n))},collectRenderablesSimple(a,t,n){const l=this.children,u=l.length;for(let o=0;o<u;o++)l[o].collectRenderables(a,t,n)},collectRenderablesWithEffects(a,t,n){const{renderPipes:l}=t;for(let u=0;u<this.effects.length;u++){const o=this.effects[u];l[o.pipe].push(o,this,a)}this.collectRenderablesSimple(a,t,n);for(let u=this.effects.length-1;u>=0;u--){const o=this.effects[u];l[o.pipe].pop(o,this,a)}}};class Xp{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class qb{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const l=this._tests[n];if(l.test(t))return Ie.get(l.maskClass,t)}return t}returnMaskEffect(t){Ie.return(t)}}const qc=new qb;We.handleByList(Et.MaskEffect,qc._effectClasses);const Xb={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const a=this.renderGroup||this.parentRenderGroup;a&&(a.structureDidChange=!0)},addEffect(a){this.effects.indexOf(a)===-1&&(this.effects.push(a),this.effects.sort((n,l)=>n.priority-l.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(a){const t=this.effects.indexOf(a);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(a){const t=this._maskEffect;t?.mask!==a&&(t&&(this.removeEffect(t),qc.returnMaskEffect(t),this._maskEffect=null),a!=null&&(this._maskEffect=qc.getMaskEffect(a),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(a){this._maskOptions={...this._maskOptions,...a},a.mask&&(this.mask=a.mask),this._markStructureAsChanged()},set filters(a){!Array.isArray(a)&&a&&(a=[a]);const t=this._filterEffect||(this._filterEffect=new Xp);a=a;const n=a?.length>0,l=t.filters?.length>0,u=n!==l;a=Array.isArray(a)?a.slice(0):a,t.filters=Object.freeze(a),u&&(n?this.addEffect(t):(this.removeEffect(t),t.filters=a??null))},get filters(){return this._filterEffect?.filters},set filterArea(a){this._filterEffect||(this._filterEffect=new Xp),this._filterEffect.filterArea=a},get filterArea(){return this._filterEffect?.filterArea}},Vb={label:null,get name(){return Mt(Xt,"Container.name property has been removed, use Container.label instead"),this.label},set name(a){Mt(Xt,"Container.name property has been removed, use Container.label instead"),this.label=a},getChildByName(a,t=!1){return this.getChildByLabel(a,t)},getChildByLabel(a,t=!1){const n=this.children;for(let l=0;l<n.length;l++){const u=n[l];if(u.label===a||a instanceof RegExp&&a.test(u.label))return u}if(t)for(let l=0;l<n.length;l++){const o=n[l].getChildByLabel(a,!0);if(o)return o}return null},getChildrenByLabel(a,t=!1,n=[]){const l=this.children;for(let u=0;u<l.length;u++){const o=l[u];(o.label===a||a instanceof RegExp&&a.test(o.label))&&n.push(o)}if(t)for(let u=0;u<l.length;u++)l[u].getChildrenByLabel(a,!0,n);return n}},ge=Ie.getPool(yt),Li=Ie.getPool(ri),Pb=new yt,Qb={getFastGlobalBounds(a,t){t||(t=new ri),t.clear(),this._getGlobalBoundsRecursive(!!a,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(n.worldTransform),t},_getGlobalBoundsRecursive(a,t,n){let l=t;if(a&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const u=!!this.effects.length;if((this.renderGroup||u)&&(l=Li.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const h=this.bounds;l.addFrame(h.minX,h.minY,h.maxX,h.maxY,this.groupTransform)}const o=this.children;for(let h=0;h<o.length;h++)o[h]._getGlobalBoundsRecursive(a,l,n)}if(u){let o=!1;const h=this.renderGroup||this.parentRenderGroup;for(let d=0;d<this.effects.length;d++)this.effects[d].addBounds&&(o||(o=!0,l.applyMatrix(h.worldTransform)),this.effects[d].addBounds(l,!0));o&&l.applyMatrix(h.worldTransform.copyTo(Pb).invert()),t.addBounds(l),Li.return(l)}else this.renderGroup&&(t.addBounds(l,this.relativeGroupTransform),Li.return(l))}};function r0(a,t,n){n.clear();let l,u;return a.parent?t?l=a.parent.worldTransform:(u=ge.get().identity(),l=sh(a,u)):l=yt.IDENTITY,u0(a,n,l,t),u&&ge.return(u),n.isValid||n.set(0,0,0,0),n}function u0(a,t,n,l){if(!a.visible||!a.measurable)return;let u;l?u=a.worldTransform:(a.updateLocalTransform(),u=ge.get(),u.appendFrom(a.localTransform,n));const o=t,h=!!a.effects.length;if(h&&(t=Li.get().clear()),a.boundsArea)t.addRect(a.boundsArea,u);else{const d=a.bounds;d&&!d.isEmpty()&&(t.matrix=u,t.addBounds(d));for(let m=0;m<a.children.length;m++)u0(a.children[m],t,u,l)}if(h){for(let d=0;d<a.effects.length;d++)a.effects[d].addBounds?.(t);o.addBounds(t,yt.IDENTITY),Li.return(t)}l||ge.return(u)}function sh(a,t){const n=a.parent;return n&&(sh(n,t),n.updateLocalTransform(),t.append(n.localTransform)),t}function o0(a,t){if(a===16777215||!t)return t;if(t===16777215||!a)return a;const n=a>>16&255,l=a>>8&255,u=a&255,o=t>>16&255,h=t>>8&255,d=t&255,m=n*o/255|0,p=l*h/255|0,g=u*d/255|0;return(m<<16)+(p<<8)+g}const Vp=16777215;function Pp(a,t){return a===Vp?t:t===Vp?a:o0(a,t)}function Hr(a){return((a&255)<<16)+(a&65280)+(a>>16&255)}const Zb={getGlobalAlpha(a){if(a)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,n=this.parent;for(;n;)t*=n.alpha,n=n.parent;return t},getGlobalTransform(a=new yt,t){if(t)return a.copyFrom(this.worldTransform);this.updateLocalTransform();const n=sh(this,ge.get().identity());return a.appendFrom(this.localTransform,n),ge.return(n),a},getGlobalTint(a){if(a)return this.renderGroup?Hr(this.renderGroup.worldColor):this.parentRenderGroup?Hr(Pp(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,n=this.parent;for(;n;)t=Pp(t,n.localColor),n=n.parent;return Hr(t)}};function c0(a,t,n){return t.clear(),n||(n=yt.IDENTITY),h0(a,t,n,a,!0),t.isValid||t.set(0,0,0,0),t}function h0(a,t,n,l,u){let o;if(u)o=ge.get(),o=n.copyTo(o);else{if(!a.visible||!a.measurable)return;a.updateLocalTransform();const m=a.localTransform;o=ge.get(),o.appendFrom(m,n)}const h=t,d=!!a.effects.length;if(d&&(t=Li.get().clear()),a.boundsArea)t.addRect(a.boundsArea,o);else{a.renderPipeId&&(t.matrix=o,t.addBounds(a.bounds));const m=a.children;for(let p=0;p<m.length;p++)h0(m[p],t,o,l,!1)}if(d){for(let m=0;m<a.effects.length;m++)a.effects[m].addLocalBounds?.(t,l);h.addBounds(t,yt.IDENTITY),Li.return(t)}ge.return(o)}function f0(a,t){const n=a.children;for(let l=0;l<n.length;l++){const u=n[l],o=u.uid,h=(u._didViewChangeTick&65535)<<16|u._didContainerChangeTick&65535,d=t.index;(t.data[d]!==o||t.data[d+1]!==h)&&(t.data[t.index]=o,t.data[t.index+1]=h,t.didChange=!0),t.index=d+2,u.children.length&&f0(u,t)}return t.didChange}const Fb=new yt,Kb={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(a,t){const n=Math.sign(this.scale.x)||1;t!==0?this.scale.x=a/t*n:this.scale.x=n},_setHeight(a,t){const n=Math.sign(this.scale.y)||1;t!==0?this.scale.y=a/t*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new ri});const a=this._localBoundsCacheData;return a.index=1,a.didChange=!1,a.data[0]!==this._didViewChangeTick&&(a.didChange=!0,a.data[0]=this._didViewChangeTick),f0(this,a),a.didChange&&c0(this,a.localBounds,Fb),a.localBounds},getBounds(a,t){return r0(this,a,t||new ri)}},Ib={_onRender:null,set onRender(a){const t=this.renderGroup||this.parentRenderGroup;if(!a){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=a},get onRender(){return this._onRender}},Wb={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(a){this._zIndex!==a&&(this._zIndex=a,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Jb))}};function Jb(a,t){return a._zIndex-t._zIndex}const $b={getGlobalPosition(a=new de,t=!1){return this.parent?this.parent.toGlobal(this._position,a,t):(a.x=this._position.x,a.y=this._position.y),a},toGlobal(a,t,n=!1){const l=this.getGlobalTransform(ge.get(),n);return t=l.apply(a,t),ge.return(l),t},toLocal(a,t,n,l){t&&(a=t.toGlobal(a,n,l));const u=this.getGlobalTransform(ge.get(),l);return n=u.applyInverse(a,n),ge.return(u),n}};class d0{constructor(){this.uid=Vt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let t1=0;class e1{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new Yr(this.textureOptions)}createTexture(t,n,l){const u=new ui({...this.textureOptions,width:t,height:n,resolution:1,antialias:l,autoGarbageCollect:!1});return new Nt({source:u,label:`texturePool_${t1++}`})}getOptimalTexture(t,n,l=1,u){let o=Math.ceil(t*l-1e-6),h=Math.ceil(n*l-1e-6);o=Os(o),h=Os(h);const d=(o<<17)+(h<<1)+(u?1:0);this._texturePool[d]||(this._texturePool[d]=[]);let m=this._texturePool[d].pop();return m||(m=this.createTexture(o,h,u)),m.source._resolution=l,m.source.width=o/l,m.source.height=h/l,m.source.pixelWidth=o,m.source.pixelHeight=h,m.frame.x=0,m.frame.y=0,m.frame.width=t,m.frame.height=n,m.updateUvs(),this._poolKeyHash[m.uid]=d,m}getSameSizeTexture(t,n=!1){const l=t.source;return this.getOptimalTexture(t.width,t.height,l._resolution,n)}returnTexture(t,n=!1){const l=this._poolKeyHash[t.uid];n&&(t.source.style=this.textureStyle),this._texturePool[l].push(t)}clear(t){if(t=t!==!1,t)for(const n in this._texturePool){const l=this._texturePool[n];if(l)for(let u=0;u<l.length;u++)l[u].destroy(!0)}this._texturePool={}}}const m0=new e1;el.register(m0);class i1{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new yt,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new d0,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const n=t.children;for(let l=0;l<n.length;l++){const u=n[l];u._updateFlags=15,this.addChild(u)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(m0.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const t=this._parentCacheAsTextureRenderGroup;t&&!t.textureNeedsUpdate&&t.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const n=this.childrenToUpdate[t];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const n=this.renderGroupChildren.indexOf(t);n>-1&&this.renderGroupChildren.splice(n,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const n=t.children;for(let l=0;l<n.length;l++)this.addChild(n[l])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const n=t.children;for(let l=0;l<n.length;l++)this.removeChild(n[l])}removeChildren(t){for(let n=0;n<t.length;n++)this.removeChild(t[n])}onChildUpdate(t){let n=this.childrenToUpdate[t.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const n=this.root.children;for(let l=0;l<n.length;l++)this._getChildren(n[l],t);return t}_getChildren(t,n=[]){if(n.push(t),t.renderGroup)return n;const l=t.children;for(let u=0;u<l.length;u++)this._getChildren(l[u],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new yt),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new yt),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new yt),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function n1(a,t,n={}){for(const l in t)!n[l]&&t[l]!==void 0&&(a[l]=t[l])}const Tc=new he(null),Cr=new he(null),Ac=new he(null,1,1),wr=new he(null),Qp=1,s1=2,Mc=4;class li extends _i{constructor(t={}){super(),this.uid=Vt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new yt,this.relativeGroupTransform=new yt,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new he(this,0,0),this._scale=Ac,this._pivot=Cr,this._origin=wr,this._skew=Tc,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],n1(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(n=>this.addChild(n)),t.parent?.addChild(this)}static mixin(t){Mt("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),We.mixin(li,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||Mt(Xt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let u=0;u<t.length;u++)this.addChild(t[u]);return t[0]}const n=t[0],l=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),l&&(l.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,l&&l.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...t){if(t.length>1){for(let u=0;u<t.length;u++)this.removeChild(t[u]);return t[0]}const n=t[0],l=this.children.indexOf(n);return l>-1&&(this._didViewChangeTick++,this.children.splice(l,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,l),n.emit("removed",this)),n}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=Ie.get(i1,this),this.groupTransform=yt.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),Ie.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new yt),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*yb}set angle(t){this.rotation=t*xb}get pivot(){return this._pivot===Cr&&(this._pivot=new he(this,0,0)),this._pivot}set pivot(t){this._pivot===Cr&&(this._pivot=new he(this,0,0),this._origin!==wr&&ye("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Tc&&(this._skew=new he(this,0,0)),this._skew}set skew(t){this._skew===Tc&&(this._skew=new he(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Ac&&(this._scale=new he(this,1,1)),this._scale}set scale(t){this._scale===Ac&&(this._scale=new he(this,0,0)),typeof t=="string"&&(t=parseFloat(t)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get origin(){return this._origin===wr&&(this._origin=new he(this,0,0)),this._origin}set origin(t){this._origin===wr&&(this._origin=new he(this,0,0),this._pivot!==Cr&&ye("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._origin.set(t):this._origin.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const n=this.getLocalBounds().width;this._setWidth(t,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const n=this.getLocalBounds().height;this._setHeight(t,n)}getSize(t){t||(t={});const n=this.getLocalBounds();return t.width=Math.abs(this.scale.x*n.width),t.height=Math.abs(this.scale.y*n.height),t}setSize(t,n){const l=this.getLocalBounds();typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,l.width),n!==void 0&&this._setHeight(n,l.height)}_updateSkew(){const t=this._rotation,n=this._skew;this._cx=Math.cos(t+n._y),this._sx=Math.sin(t+n._y),this._cy=-Math.sin(t-n._x),this._sy=Math.cos(t-n._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this.origin.set(typeof t.originX=="number"?t.originX:this.origin.x,typeof t.originY=="number"?t.originY:this.origin.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const n=this.localTransform,l=this._scale,u=this._pivot,o=this._origin,h=this._position,d=l._x,m=l._y,p=u._x,g=u._y,x=-o._x,v=-o._y;n.a=this._cx*d,n.b=this._sx*d,n.c=this._cy*m,n.d=this._sy*m,n.tx=h._x-(p*n.a+g*n.c)+(x*n.a+v*n.c)-x,n.ty=h._y-(p*n.b+g*n.d)+(x*n.b+v*n.d)-v}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=Qp,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const l=te.shared.setValue(t??16777215).toBgrNumber();l!==this.localColor&&(this.localColor=l,this._updateFlags|=Qp,this._onUpdate())}get tint(){return Hr(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=s1,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const n=t?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Mc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const n=t?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Mc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const n=t?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=Mc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t?.children)&&n)for(let u=0;u<n.length;++u)n[u].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}We.mixin(li,Lb,Qb,$b,Ib,Kb,Xb,Vb,Wb,Gb,Hb,Zb,Yb);class ah extends li{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new ri(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const n=this.bounds,{x:l,y:u}=t;return l>=n.minX&&l<=n.maxX&&u>=n.minY&&u<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null;for(const n in this._gpuData)this._gpuData[n].destroy?.();this._gpuData=null}collectRenderablesSimple(t,n,l){const{renderPipes:u}=n;u.blendMode.pushBlendMode(this,this.groupBlendMode,t),u[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const h=this.children,d=h.length;for(let m=0;m<d;m++)h[m].collectRenderables(t,n,l);u.blendMode.popBlendMode(t)}}class Fa extends ah{constructor(t=Nt.EMPTY){t instanceof Nt&&(t={texture:t});const{texture:n=Nt.EMPTY,anchor:l,roundPixels:u,width:o,height:h,...d}=t;super({label:"Sprite",...d}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new he({_onUpdate:()=>{this.onViewUpdate()}}),l?this.anchor=l:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=u??!1,o!==void 0&&(this.width=o),h!==void 0&&(this.height=h)}static from(t,n=!1){return t instanceof Nt?new Fa(t):new Fa(Nt.from(t,n))}set texture(t){t||(t=Nt.EMPTY);const n=this._texture;n!==t&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Mb(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Mt("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,n=this._texture,l=this._bounds,{width:u,height:o}=n.orig;l.minX=-t._x*u,l.maxX=l.minX+u,l.minY=-t._y*o,l.maxY=l.minY+o}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const l=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(l)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,n){typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const a1=new ri;function p0(a,t,n){const l=a1;a.measurable=!0,r0(a,n,l),t.addBoundsMask(l),a.measurable=!1}function g0(a,t,n){const l=Li.get();a.measurable=!0;const u=ge.get().identity(),o=y0(a,n,u);c0(a,l,o),a.measurable=!1,t.addBoundsMask(l),ge.return(u),Li.return(l)}function y0(a,t,n){return a?(a!==t&&(y0(a.parent,t,n),a.updateLocalTransform(),n.append(a.localTransform)),n):(ye("Mask bounds, renderable is not inside the root container"),n)}class x0{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof Fa),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(t,n){this.inverse||p0(this.mask,t,n)}addLocalBounds(t,n){g0(this.mask,t,n)}containsPoint(t,n){const l=this.mask;return n(l,t)}destroy(){this.reset()}static test(t){return t instanceof Fa}}x0.extension=Et.MaskEffect;class _0{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}_0.extension=Et.MaskEffect;class b0{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(t,n){p0(this.mask,t,n)}addLocalBounds(t,n){g0(this.mask,t,n)}containsPoint(t,n){const l=this.mask;return n(l,t)}destroy(){this.reset()}static test(t){return t instanceof li}}b0.extension=Et.MaskEffect;const l1={createCanvas:(a,t)=>{const n=document.createElement("canvas");return n.width=a,n.height=t,n},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(a,t)=>fetch(a,t),parseXML:a=>new DOMParser().parseFromString(a,"text/xml")};let Zp=l1;const je={get(){return Zp},set(a){Zp=a}};class v0 extends ui{constructor(t){t.resource||(t.resource=je.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,n=this.height,l=this._resolution){const u=super.resize(t,n,l);return u&&this.resizeCanvas(),u}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}v0.extension=Et.TextureSource;class qr extends ui{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}qr.extension=Et.TextureSource;var Xc=(a=>(a[a.INTERACTION=50]="INTERACTION",a[a.HIGH=25]="HIGH",a[a.NORMAL=0]="NORMAL",a[a.LOW=-25]="LOW",a[a.UTILITY=-50]="UTILITY",a))(Xc||{});class Cc{constructor(t,n=null,l=0,u=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=n,this.priority=l,this._once=u}match(t,n=null){return this._fn===t&&this._context===n}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=t?null:n,this.previous=null,n}}const S0=class Ue{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Cc(null,null,1/0),this.deltaMS=1/Ue.targetFPMS,this.elapsedMS=1/Ue.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,n,l=Xc.NORMAL){return this._addListener(new Cc(t,n,l))}addOnce(t,n,l=Xc.NORMAL){return this._addListener(new Cc(t,n,l,!0))}_addListener(t){let n=this._head.next,l=this._head;if(!n)t.connect(l);else{for(;n;){if(t.priority>n.priority){t.connect(l);break}l=n,n=n.next}t.previous||t.connect(l)}return this._startIfPossible(),this}remove(t,n){let l=this._head.next;for(;l;)l.match(t,n)?l=l.destroy():l=l.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,n=this._head;for(;n=n.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const o=t-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=t-o%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*Ue.targetFPMS;const l=this._head;let u=l.next;for(;u;)u=u.emit(this);l.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const n=Math.min(this.maxFPS,t),l=Math.min(Math.max(0,n)/1e3,Ue.targetFPMS);this._maxElapsedMS=1/l}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,t);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!Ue._shared){const t=Ue._shared=new Ue;t.autoStart=!0,t._protected=!0}return Ue._shared}static get system(){if(!Ue._system){const t=Ue._system=new Ue;t.autoStart=!0,t._protected=!0}return Ue._system}};S0.targetFPMS=.06;let Er=S0,wc;async function r1(){return wc??(wc=(async()=>{const t=je.get().createCanvas(1,1).getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const n=await new Promise(h=>{const d=document.createElement("video");d.onloadeddata=()=>h(d),d.onerror=()=>h(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!n)return"premultiply-alpha-on-upload";const l=t.createTexture();t.bindTexture(t.TEXTURE_2D,l);const u=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,u),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,l,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);const o=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,o),t.deleteFramebuffer(u),t.deleteTexture(l),t.getExtension("WEBGL_lose_context")?.loseContext(),o[0]<=o[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),wc}const Pr=class T0 extends ui{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...T0.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Er.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,n=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await r1(),this._load=new Promise((l,u)=>{this.isValid?l(this):(this._resolve=l,this._reject=u,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Er.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Er.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Er.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};Pr.extension=Et.TextureSource;Pr.defaultOptions={...ui.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Pr.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let u1=Pr;const zs=(a,t,n=!1)=>(Array.isArray(a)||(a=[a]),t?a.map(l=>typeof l=="string"||n?t(l):l):a);class o1{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const n=this._cache.get(t);return n||ye(`[Assets] Asset id ${t} was not found in the Cache`),n}set(t,n){const l=zs(t);let u;for(let m=0;m<this.parsers.length;m++){const p=this.parsers[m];if(p.test(n)){u=p.getCacheableAssets(l,n);break}}const o=new Map(Object.entries(u||{}));u||l.forEach(m=>{o.set(m,n)});const h=[...o.keys()],d={cacheKeys:h,keys:l};l.forEach(m=>{this._cacheMap.set(m,d)}),h.forEach(m=>{const p=u?u[m]:n;this._cache.has(m)&&this._cache.get(m)!==p&&ye("[Cache] already has key:",m),this._cache.set(m,o.get(m))})}remove(t){if(!this._cacheMap.has(t)){ye(`[Assets] Asset id ${t} was not found in the Cache`);return}const n=this._cacheMap.get(t);n.cacheKeys.forEach(u=>{this._cache.delete(u)}),n.keys.forEach(u=>{this._cacheMap.delete(u)})}get parsers(){return this._parsers}}const Rs=new o1,Vc=[];We.handleByList(Et.TextureSource,Vc);function A0(a={}){const t=a&&a.resource,n=t?a.resource:a,l=t?a:{resource:a};for(let u=0;u<Vc.length;u++){const o=Vc[u];if(o.test(n))return new o(l)}throw new Error(`Could not find a source type for resource: ${l.resource}`)}function c1(a={},t=!1){const n=a&&a.resource,l=n?a.resource:a,u=n?a:{resource:a};if(!t&&Rs.has(l))return Rs.get(l);const o=new Nt({source:A0(u)});return o.on("destroy",()=>{Rs.has(l)&&Rs.remove(l)}),t||Rs.set(l,o),o}function h1(a,t=!1){return typeof a=="string"?Rs.get(a):a instanceof ui?new Nt({source:a}):c1(a,t)}Nt.from=h1;ui.from=A0;We.add(x0,_0,b0,u1,qr,v0,nh);var M0=(a=>(a[a.Low=0]="Low",a[a.Normal=1]="Normal",a[a.High=2]="High",a))(M0||{});function ni(a){if(typeof a!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(a)}`)}function Da(a){return a.split("?")[0].split("#")[0]}function f1(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function d1(a,t,n){return a.replace(new RegExp(f1(t),"g"),n)}function m1(a,t){let n="",l=0,u=-1,o=0,h=-1;for(let d=0;d<=a.length;++d){if(d<a.length)h=a.charCodeAt(d);else{if(h===47)break;h=47}if(h===47){if(!(u===d-1||o===1))if(u!==d-1&&o===2){if(n.length<2||l!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const m=n.lastIndexOf("/");if(m!==n.length-1){m===-1?(n="",l=0):(n=n.slice(0,m),l=n.length-1-n.lastIndexOf("/")),u=d,o=0;continue}}else if(n.length===2||n.length===1){n="",l=0,u=d,o=0;continue}}}else n.length>0?n+=`/${a.slice(u+1,d)}`:n=a.slice(u+1,d),l=d-u-1;u=d,o=0}else h===46&&o!==-1?++o:o=-1}return n}const Ka={toPosix(a){return d1(a,"\\","/")},isUrl(a){return/^https?:/.test(this.toPosix(a))},isDataUrl(a){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(a)},isBlobUrl(a){return a.startsWith("blob:")},hasProtocol(a){return/^[^/:]+:/.test(this.toPosix(a))},getProtocol(a){ni(a),a=this.toPosix(a);const t=/^file:\/\/\//.exec(a);if(t)return t[0];const n=/^[^/:]+:\/{0,2}/.exec(a);return n?n[0]:""},toAbsolute(a,t,n){if(ni(a),this.isDataUrl(a)||this.isBlobUrl(a))return a;const l=Da(this.toPosix(t??je.get().getBaseUrl())),u=Da(this.toPosix(n??this.rootname(l)));return a=this.toPosix(a),a.startsWith("/")?Ka.join(u,a.slice(1)):this.isAbsolute(a)?a:this.join(l,a)},normalize(a){if(ni(a),a.length===0)return".";if(this.isDataUrl(a)||this.isBlobUrl(a))return a;a=this.toPosix(a);let t="";const n=a.startsWith("/");this.hasProtocol(a)&&(t=this.rootname(a),a=a.slice(t.length));const l=a.endsWith("/");return a=m1(a),a.length>0&&l&&(a+="/"),n?`/${a}`:t+a},isAbsolute(a){return ni(a),a=this.toPosix(a),this.hasProtocol(a)?!0:a.startsWith("/")},join(...a){if(a.length===0)return".";let t;for(let n=0;n<a.length;++n){const l=a[n];if(ni(l),l.length>0)if(t===void 0)t=l;else{const u=a[n-1]??"";this.joinExtensions.includes(this.extname(u).toLowerCase())?t+=`/../${l}`:t+=`/${l}`}}return t===void 0?".":this.normalize(t)},dirname(a){if(ni(a),a.length===0)return".";a=this.toPosix(a);let t=a.charCodeAt(0);const n=t===47;let l=-1,u=!0;const o=this.getProtocol(a),h=a;a=a.slice(o.length);for(let d=a.length-1;d>=1;--d)if(t=a.charCodeAt(d),t===47){if(!u){l=d;break}}else u=!1;return l===-1?n?"/":this.isUrl(h)?o+a:o:n&&l===1?"//":o+a.slice(0,l)},rootname(a){ni(a),a=this.toPosix(a);let t="";if(a.startsWith("/")?t="/":t=this.getProtocol(a),this.isUrl(a)){const n=a.indexOf("/",t.length);n!==-1?t=a.slice(0,n):t=a,t.endsWith("/")||(t+="/")}return t},basename(a,t){ni(a),t&&ni(t),a=Da(this.toPosix(a));let n=0,l=-1,u=!0,o;if(t!==void 0&&t.length>0&&t.length<=a.length){if(t.length===a.length&&t===a)return"";let h=t.length-1,d=-1;for(o=a.length-1;o>=0;--o){const m=a.charCodeAt(o);if(m===47){if(!u){n=o+1;break}}else d===-1&&(u=!1,d=o+1),h>=0&&(m===t.charCodeAt(h)?--h===-1&&(l=o):(h=-1,l=d))}return n===l?l=d:l===-1&&(l=a.length),a.slice(n,l)}for(o=a.length-1;o>=0;--o)if(a.charCodeAt(o)===47){if(!u){n=o+1;break}}else l===-1&&(u=!1,l=o+1);return l===-1?"":a.slice(n,l)},extname(a){ni(a),a=Da(this.toPosix(a));let t=-1,n=0,l=-1,u=!0,o=0;for(let h=a.length-1;h>=0;--h){const d=a.charCodeAt(h);if(d===47){if(!u){n=h+1;break}continue}l===-1&&(u=!1,l=h+1),d===46?t===-1?t=h:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||l===-1||o===0||o===1&&t===l-1&&t===n+1?"":a.slice(t,l)},parse(a){ni(a);const t={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return t;a=Da(this.toPosix(a));let n=a.charCodeAt(0);const l=this.isAbsolute(a);let u;t.root=this.rootname(a),l||this.hasProtocol(a)?u=1:u=0;let o=-1,h=0,d=-1,m=!0,p=a.length-1,g=0;for(;p>=u;--p){if(n=a.charCodeAt(p),n===47){if(!m){h=p+1;break}continue}d===-1&&(m=!1,d=p+1),n===46?o===-1?o=p:g!==1&&(g=1):o!==-1&&(g=-1)}return o===-1||d===-1||g===0||g===1&&o===d-1&&o===h+1?d!==-1&&(h===0&&l?t.base=t.name=a.slice(1,d):t.base=t.name=a.slice(h,d)):(h===0&&l?(t.name=a.slice(1,o),t.base=a.slice(1,d)):(t.name=a.slice(h,o),t.base=a.slice(h,d)),t.ext=a.slice(o,d)),t.dir=this.dirname(a),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function C0(a,t,n,l,u){const o=t[n];for(let h=0;h<o.length;h++){const d=o[h];n<t.length-1?C0(a.replace(l[n],d),t,n+1,l,u):u.push(a.replace(l[n],d))}}function p1(a){const t=/\{(.*?)\}/g,n=a.match(t),l=[];if(n){const u=[];n.forEach(o=>{const h=o.substring(1,o.length-1).split(",");u.push(h)}),C0(a,u,0,n,l)}else l.push(a);return l}const Fp=a=>!Array.isArray(a);class w0{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,n)=>`${t}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(t,n)=>n.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const n=t;this._defaultSearchParams=Object.keys(n).map(l=>`${encodeURIComponent(l)}=${encodeURIComponent(n[l])}`).join("&")}}getAlias(t){const{alias:n,src:l}=t;return zs(n||l,o=>typeof o=="string"?o:Array.isArray(o)?o.map(h=>h?.src??h):o?.src?o.src:o,!0)}addManifest(t){this._manifest&&ye("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(t,n){const l=[];let u=n;Array.isArray(n)||(u=Object.entries(n).map(([o,h])=>typeof h=="string"||Array.isArray(h)?{alias:o,src:h}:{alias:o,...h})),u.forEach(o=>{const h=o.src,d=o.alias;let m;if(typeof d=="string"){const p=this._createBundleAssetId(t,d);l.push(p),m=[d,p]}else{const p=d.map(g=>this._createBundleAssetId(t,g));l.push(...p),m=[...d,...p]}this.add({...o,alias:m,src:h})}),this._bundles[t]=l}add(t){const n=[];Array.isArray(t)?n.push(...t):n.push(t);let l;l=o=>{this.hasKey(o)&&ye(`[Resolver] already has key: ${o} overwriting`)},zs(n).forEach(o=>{const{src:h}=o;let{data:d,format:m,loadParser:p,parser:g}=o;const x=zs(h).map(A=>typeof A=="string"?p1(A):Array.isArray(A)?A:[A]),v=this.getAlias(o);Array.isArray(v)?v.forEach(l):l(v);const _=[],S=A=>({...this._parsers.find(E=>E.test(A))?.parse(A),src:A});x.forEach(A=>{A.forEach(T=>{let E={};if(typeof T!="object"?E=S(T):(d=T.data??d,m=T.format??m,(T.loadParser||T.parser)&&(p=T.loadParser??p,g=T.parser??g),E={...S(T.src),...T}),!v)throw new Error(`[Resolver] alias is undefined for this asset: ${E.src}`);E=this._buildResolvedAsset(E,{aliases:v,data:d,format:m,loadParser:p,parser:g,progressSize:o.progressSize}),_.push(E)})}),v.forEach(A=>{this._assetMap[A]=_})})}resolveBundle(t){const n=Fp(t);t=zs(t);const l={};return t.forEach(u=>{const o=this._bundles[u];if(o){const h=this.resolve(o),d={};for(const m in h){const p=h[m];d[this._extractAssetIdFromBundle(u,m)]=p}l[u]=d}}),n?l[t[0]]:l}resolveUrl(t){const n=this.resolve(t);if(typeof t!="string"){const l={};for(const u in n)l[u]=n[u].src;return l}return n.src}resolve(t){const n=Fp(t);t=zs(t);const l={};return t.forEach(u=>{if(!this._resolverHash[u])if(this._assetMap[u]){let o=this._assetMap[u];const h=this._getPreferredOrder(o);h?.priority.forEach(d=>{h.params[d].forEach(m=>{const p=o.filter(g=>g[d]?g[d]===m:!1);p.length&&(o=p)})}),this._resolverHash[u]=o[0]}else this._resolverHash[u]=this._buildResolvedAsset({alias:[u],src:u},{});l[u]=this._resolverHash[u]}),n?l[t[0]]:l}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let n=0;n<t.length;n++){const l=t[n],u=this._preferredOrder.find(o=>o.params.format.includes(l.format));if(u)return u}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const n=/\?/.test(t)?"&":"?";return`${t}${n}${this._defaultSearchParams}`}_buildResolvedAsset(t,n){const{aliases:l,data:u,loadParser:o,parser:h,format:d,progressSize:m}=n;return(this._basePath||this._rootPath)&&(t.src=Ka.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=l??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...u||{},...t.data},t.loadParser=o??t.loadParser,t.parser=h??t.parser,t.format=d??t.format??g1(t.src),m!==void 0&&(t.progressSize=m),t}}w0.RETINA_PREFIX=/@([0-9\.]+)x/;function g1(a){return a.split(".").pop().split("?").shift().split("#").shift()}const Kp=(a,t)=>{const n=t.split("?")[1];return n&&(a+=`?${n}`),a},E0=class Ya{constructor(t,n){this.linkedSheets=[];let l=t;t?.source instanceof ui&&(l={texture:t,data:n});const{texture:u,data:o,cachePrefix:h=""}=l;this.cachePrefix=h,this._texture=u instanceof Nt?u:null,this.textureSource=u.source,this.textures={},this.animations={},this.data=o;const d=parseFloat(o.meta.scale);d?(this.resolution=d,u.source.resolution=this.resolution):this.resolution=u.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Ya.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t;const l=Ya.BATCH_SIZE;for(;n-t<l&&n<this._frameKeys.length;){const u=this._frameKeys[n],o=this._frames[u],h=o.frame;if(h){let d=null,m=null;const p=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,g=new Zt(0,0,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution);o.rotated?d=new Zt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):d=new Zt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(m=new Zt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[u]=new Nt({source:this.textureSource,frame:d,orig:g,trim:m,rotate:o.rotated?2:0,defaultAnchor:o.anchor,defaultBorders:o.borders,label:u.toString()})}n++}}_processAnimations(){const t=this.data.animations||{};for(const n in t){this.animations[n]=[];for(let l=0;l<t[n].length;l++){const u=t[n][l];this.animations[n].push(this.textures[u])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ya.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ya.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};E0.BATCH_SIZE=1e3;let Ip=E0;const y1=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function z0(a,t,n){const l={};if(a.forEach(u=>{l[u]=t}),Object.keys(t.textures).forEach(u=>{l[`${t.cachePrefix}${u}`]=t.textures[u]}),!n){const u=Ka.dirname(a[0]);t.linkedSheets.forEach((o,h)=>{const d=z0([`${u}/${t.data.meta.related_multi_packs[h]}`],o,!0);Object.assign(l,d)})}return l}const x1={extension:Et.Asset,cache:{test:a=>a instanceof Ip,getCacheableAssets:(a,t)=>z0(a,t,!1)},resolver:{extension:{type:Et.ResolveParser,name:"resolveSpritesheet"},test:a=>{const n=a.split("?")[0].split("."),l=n.pop(),u=n.pop();return l==="json"&&y1.includes(u)},parse:a=>{const t=a.split(".");return{resolution:parseFloat(w0.RETINA_PREFIX.exec(a)?.[1]??"1"),format:t[t.length-2],src:a}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:Et.LoadParser,priority:M0.Normal,name:"spritesheetLoader"},async testParse(a,t){return Ka.extname(t.src).toLowerCase()===".json"&&!!a.frames},async parse(a,t,n){const{texture:l,imageFilename:u,textureOptions:o,cachePrefix:h}=t?.data??{};let d=Ka.dirname(t.src);d&&d.lastIndexOf("/")!==d.length-1&&(d+="/");let m;if(l instanceof Nt)m=l;else{const x=Kp(d+(u??a.meta.image),t.src);m=(await n.load([{src:x,data:o}]))[x]}const p=new Ip({texture:m.source,data:a,cachePrefix:h});await p.parse();const g=a?.meta?.related_multi_packs;if(Array.isArray(g)){const x=[];for(const _ of g){if(typeof _!="string")continue;let S=d+_;t.data?.ignoreMultiPack||(S=Kp(S,t.src),x.push(n.load({src:S,data:{textureOptions:o,ignoreMultiPack:!0}})))}const v=await Promise.all(x);p.linkedSheets=v,v.forEach(_=>{_.linkedSheets=[p].concat(p.linkedSheets.filter(S=>S!==_))})}return p},async unload(a,t,n){await n.unload(a.textureSource._sourceOrigin),a.destroy(!1)}}};We.add(x1);const Ec=Object.create(null),Wp=Object.create(null);function lh(a,t){let n=Wp[a];return n===void 0&&(Ec[t]===void 0&&(Ec[t]=1),Wp[a]=n=Ec[t]++),n}let zr;function R0(){return(!zr||zr?.isContextLost())&&(zr=je.get().createCanvas().getContext("webgl",{})),zr}let Rr;function _1(){if(!Rr){Rr="mediump";const a=R0();a&&a.getShaderPrecisionFormat&&(Rr=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision?"highp":"mediump")}return Rr}function b1(a,t,n){return t?a:n?(a=a.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${a}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${a}
        `}function v1(a,t,n){const l=n?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(a.substring(0,9)!=="precision"){let u=n?t.requestedFragmentPrecision:t.requestedVertexPrecision;return u==="highp"&&l!=="highp"&&(u="mediump"),`precision ${u} float;
${a}`}else if(l!=="highp"&&a.substring(0,15)==="precision highp")return a.replace("precision highp","precision mediump");return a}function S1(a,t){return t?`#version 300 es
${a}`:a}const T1={},A1={};function M1(a,{name:t="pixi-program"},n=!0){t=t.replace(/\s+/g,"-"),t+=n?"-fragment":"-vertex";const l=n?T1:A1;return l[t]?(l[t]++,t+=`-${l[t]}`):l[t]=1,a.indexOf("#define SHADER_NAME")!==-1?a:`${`#define SHADER_NAME ${t}`}
${a}`}function C1(a,t){return t?a.replace("#version 300 es",""):a}const zc={stripVersion:C1,ensurePrecision:v1,addProgramDefines:b1,setProgramName:M1,insertVersion:S1},Oa=Object.create(null),B0=class Pc{constructor(t){t={...Pc.defaultOptions,...t};const n=t.fragment.indexOf("#version 300 es")!==-1,l={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:_1()},setProgramName:{name:t.name},addProgramDefines:n,insertVersion:n};let u=t.fragment,o=t.vertex;Object.keys(zc).forEach(h=>{const d=l[h];u=zc[h](u,d,!0),o=zc[h](o,d,!1)}),this.fragment=u,this.vertex=o,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=lh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Oa[this._cacheKey]=null}static from(t){const n=`${t.vertex}:${t.fragment}`;return Oa[n]||(Oa[n]=new Pc(t),Oa[n]._cacheKey=n),Oa[n]}};B0.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let N0=B0;const Jp={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function w1(a){return Jp[a]??Jp.float32}const E1={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function z1({source:a,entryPoint:t}){const n={},l=a.indexOf(`fn ${t}`);if(l!==-1){const u=a.indexOf("->",l);if(u!==-1){const o=a.substring(l,u),h=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let d;for(;(d=h.exec(o))!==null;){const m=E1[d[3]]??"float32";n[d[2]]={location:parseInt(d[1],10),format:m,stride:w1(m).stride,offset:0,instance:!1,start:0}}}}return n}function Rc(a){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,l=/@binding\((\d+)\)/,u=/var(<[^>]+>)? (\w+)/,o=/:\s*(\w+)/,h=/struct\s+(\w+)\s*{([^}]+)}/g,d=/(\w+)\s*:\s*([\w\<\>]+)/g,m=/struct\s+(\w+)/,p=a.match(t)?.map(x=>({group:parseInt(x.match(n)[1],10),binding:parseInt(x.match(l)[1],10),name:x.match(u)[2],isUniform:x.match(u)[1]==="<uniform>",type:x.match(o)[1]}));if(!p)return{groups:[],structs:[]};const g=a.match(h)?.map(x=>{const v=x.match(m)[1],_=x.match(d).reduce((S,A)=>{const[T,E]=A.split(":");return S[T.trim()]=E.trim(),S},{});return _?{name:v,members:_}:null}).filter(({name:x})=>p.some(v=>v.type===x))??[];return{groups:p,structs:g}}var qa=(a=>(a[a.VERTEX=1]="VERTEX",a[a.FRAGMENT=2]="FRAGMENT",a[a.COMPUTE=4]="COMPUTE",a))(qa||{});function R1({groups:a}){const t=[];for(let n=0;n<a.length;n++){const l=a[n];t[l.group]||(t[l.group]=[]),l.isUniform?t[l.group].push({binding:l.binding,visibility:qa.VERTEX|qa.FRAGMENT,buffer:{type:"uniform"}}):l.type==="sampler"?t[l.group].push({binding:l.binding,visibility:qa.FRAGMENT,sampler:{type:"filtering"}}):l.type==="texture_2d"&&t[l.group].push({binding:l.binding,visibility:qa.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function B1({groups:a}){const t=[];for(let n=0;n<a.length;n++){const l=a[n];t[l.group]||(t[l.group]={}),t[l.group][l.name]=l.binding}return t}function N1(a,t){const n=new Set,l=new Set,u=[...a.structs,...t.structs].filter(h=>n.has(h.name)?!1:(n.add(h.name),!0)),o=[...a.groups,...t.groups].filter(h=>{const d=`${h.name}-${h.binding}`;return l.has(d)?!1:(l.add(d),!0)});return{structs:u,groups:o}}const Ga=Object.create(null);class Qr{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:l,layout:u,gpuLayout:o,name:h}=t;if(this.name=h,this.fragment=n,this.vertex=l,n.source===l.source){const d=Rc(n.source);this.structsAndGroups=d}else{const d=Rc(l.source),m=Rc(n.source);this.structsAndGroups=N1(d,m)}this.layout=u??B1(this.structsAndGroups),this.gpuLayout=o??R1(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:n}=this,l=t.source+n.source+t.entryPoint+n.entryPoint;this._layoutKey=lh(l,"program")}get attributeData(){return this._attributeData??(this._attributeData=z1(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,Ga[this._cacheKey]=null}static from(t){const n=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Ga[n]||(Ga[n]=new Qr(t),Ga[n]._cacheKey=n),Ga[n]}}const D0=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],D1=D0.reduce((a,t)=>(a[t]=!0,a),{});function O1(a,t){switch(a){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const O0=class G0{constructor(t,n){this._touched=0,this.uid=Vt("uniform"),this._resourceType="uniformGroup",this._resourceId=Vt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...G0.defaultOptions,...n},this.uniformStructures=t;const l={};for(const u in t){const o=t[u];if(o.name=u,o.size=o.size??1,!D1[o.type]){const h=o.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(h){const[,d,m]=h;throw new Error(`Uniform type ${o.type} is not supported. Use type: '${d}', size: ${m} instead.`)}throw new Error(`Uniform type ${o.type} is not supported. Supported uniform types are: ${D0.join(", ")}`)}o.value??(o.value=O1(o.type,o.size)),l[u]=o.value}this.uniforms=l,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=lh(Object.keys(l).map(u=>`${u}-${t[u].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};O0.defaultOptions={ubo:!1,isStatic:!1};let U0=O0;class kr{constructor(t){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const l in t){const u=t[l];this.setResource(u,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let n=0;for(const l in this.resources)t[n++]=this.resources[l]._resourceId;this._key=t.join("|")}setResource(t,n){const l=this.resources[n];t!==l&&(l&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[n]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const n=this.resources;for(const l in n)n[l]._touched=t}destroy(){const t=this.resources;for(const n in t)t[n]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const n=this.resources;for(const l in n)n[l]===t&&(n[l]=null)}else this._updateKey()}}var Qc=(a=>(a[a.WEBGL=1]="WEBGL",a[a.WEBGPU=2]="WEBGPU",a[a.BOTH=3]="BOTH",a))(Qc||{});class rh extends _i{constructor(t){super(),this.uid=Vt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:n,glProgram:l,groups:u,resources:o,compatibleRenderers:h,groupMap:d}=t;this.gpuProgram=n,this.glProgram=l,h===void 0&&(h=0,n&&(h|=Qc.WEBGPU),l&&(h|=Qc.WEBGL)),this.compatibleRenderers=h;const m={};if(!o&&!u&&(o={}),o&&u)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&u&&!d)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&u&&d)for(const p in d)for(const g in d[p]){const x=d[p][g];m[x]={group:p,binding:g,name:x}}else if(n&&u&&!d){const p=n.structsAndGroups.groups;d={},p.forEach(g=>{d[g.group]=d[g.group]||{},d[g.group][g.binding]=g.name,m[g.name]=g})}else if(o){u={},d={},n&&n.structsAndGroups.groups.forEach(x=>{d[x.group]=d[x.group]||{},d[x.group][x.binding]=x.name,m[x.name]=x});let p=0;for(const g in o)m[g]||(u[99]||(u[99]=new kr,this._ownedBindGroups.push(u[99])),m[g]={group:99,binding:p,name:g},d[99]=d[99]||{},d[99][p]=g,p++);for(const g in o){const x=g;let v=o[g];!v.source&&!v._resourceType&&(v=new U0(v));const _=m[x];_&&(u[_.group]||(u[_.group]=new kr,this._ownedBindGroups.push(u[_.group])),u[_.group].setResource(v,_.binding))}}this.groups=u,this._uniformBindMap=d,this.resources=this._buildResourceAccessor(u,m)}addResource(t,n,l){var u,o;(u=this._uniformBindMap)[n]||(u[n]={}),(o=this._uniformBindMap[n])[l]||(o[l]=t),this.groups[n]||(this.groups[n]=new kr,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(t,n){const l={};for(const u in n){const o=n[u];Object.defineProperty(l,o.name,{get(){return t[o.group].getResource(o.binding)},set(h){t[o.group].setResource(h,o.binding)}})}return l}destroy(t=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(n=>{n.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(t){const{gpu:n,gl:l,...u}=t;let o,h;return n&&(o=Qr.from(n)),l&&(h=N0.from(l)),new rh({gpuProgram:o,glProgram:h,...u})}}const Zc=[];We.handleByNamedList(Et.Environment,Zc);async function G1(a){if(!a)for(let t=0;t<Zc.length;t++){const n=Zc[t];if(n.value.test()){await n.value.load();return}}}let Ua;function U1(){if(typeof Ua=="boolean")return Ua;try{Ua=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ua=!1}return Ua}function $p(a,t,n=2){const l=t&&t.length,u=l?t[0]*n:a.length;let o=j0(a,0,u,n,!0);const h=[];if(!o||o.next===o.prev)return h;let d,m,p;if(l&&(o=Y1(a,t,o,n)),a.length>80*n){d=a[0],m=a[1];let g=d,x=m;for(let v=n;v<u;v+=n){const _=a[v],S=a[v+1];_<d&&(d=_),S<m&&(m=S),_>g&&(g=_),S>x&&(x=S)}p=Math.max(g-d,x-m),p=p!==0?32767/p:0}return Ia(o,h,n,d,m,p,0),h}function j0(a,t,n,l,u){let o;if(u===J1(a,t,n,l)>0)for(let h=t;h<n;h+=l)o=tg(h/l|0,a[h],a[h+1],o);else for(let h=n-l;h>=t;h-=l)o=tg(h/l|0,a[h],a[h+1],o);return o&&Us(o,o.next)&&(Ja(o),o=o.next),o}function Xn(a,t){if(!a)return a;t||(t=a);let n=a,l;do if(l=!1,!n.steiner&&(Us(n,n.next)||kt(n.prev,n,n.next)===0)){if(Ja(n),n=t=n.prev,n===n.next)break;l=!0}else n=n.next;while(l||n!==t);return t}function Ia(a,t,n,l,u,o,h){if(!a)return;!h&&o&&Q1(a,l,u,o);let d=a;for(;a.prev!==a.next;){const m=a.prev,p=a.next;if(o?H1(a,l,u,o):j1(a)){t.push(m.i,a.i,p.i),Ja(a),a=p.next,d=p.next;continue}if(a=p,a===d){h?h===1?(a=k1(Xn(a),t),Ia(a,t,n,l,u,o,2)):h===2&&L1(a,t,n,l,u,o):Ia(Xn(a),t,n,l,u,o,1);break}}}function j1(a){const t=a.prev,n=a,l=a.next;if(kt(t,n,l)>=0)return!1;const u=t.x,o=n.x,h=l.x,d=t.y,m=n.y,p=l.y,g=Math.min(u,o,h),x=Math.min(d,m,p),v=Math.max(u,o,h),_=Math.max(d,m,p);let S=l.next;for(;S!==t;){if(S.x>=g&&S.x<=v&&S.y>=x&&S.y<=_&&Xa(u,d,o,m,h,p,S.x,S.y)&&kt(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function H1(a,t,n,l){const u=a.prev,o=a,h=a.next;if(kt(u,o,h)>=0)return!1;const d=u.x,m=o.x,p=h.x,g=u.y,x=o.y,v=h.y,_=Math.min(d,m,p),S=Math.min(g,x,v),A=Math.max(d,m,p),T=Math.max(g,x,v),E=Fc(_,S,t,n,l),N=Fc(A,T,t,n,l);let B=a.prevZ,j=a.nextZ;for(;B&&B.z>=E&&j&&j.z<=N;){if(B.x>=_&&B.x<=A&&B.y>=S&&B.y<=T&&B!==u&&B!==h&&Xa(d,g,m,x,p,v,B.x,B.y)&&kt(B.prev,B,B.next)>=0||(B=B.prevZ,j.x>=_&&j.x<=A&&j.y>=S&&j.y<=T&&j!==u&&j!==h&&Xa(d,g,m,x,p,v,j.x,j.y)&&kt(j.prev,j,j.next)>=0))return!1;j=j.nextZ}for(;B&&B.z>=E;){if(B.x>=_&&B.x<=A&&B.y>=S&&B.y<=T&&B!==u&&B!==h&&Xa(d,g,m,x,p,v,B.x,B.y)&&kt(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;j&&j.z<=N;){if(j.x>=_&&j.x<=A&&j.y>=S&&j.y<=T&&j!==u&&j!==h&&Xa(d,g,m,x,p,v,j.x,j.y)&&kt(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function k1(a,t){let n=a;do{const l=n.prev,u=n.next.next;!Us(l,u)&&k0(l,n,n.next,u)&&Wa(l,u)&&Wa(u,l)&&(t.push(l.i,n.i,u.i),Ja(n),Ja(n.next),n=a=u),n=n.next}while(n!==a);return Xn(n)}function L1(a,t,n,l,u,o){let h=a;do{let d=h.next.next;for(;d!==h.prev;){if(h.i!==d.i&&K1(h,d)){let m=L0(h,d);h=Xn(h,h.next),m=Xn(m,m.next),Ia(h,t,n,l,u,o,0),Ia(m,t,n,l,u,o,0);return}d=d.next}h=h.next}while(h!==a)}function Y1(a,t,n,l){const u=[];for(let o=0,h=t.length;o<h;o++){const d=t[o]*l,m=o<h-1?t[o+1]*l:a.length,p=j0(a,d,m,l,!1);p===p.next&&(p.steiner=!0),u.push(F1(p))}u.sort(q1);for(let o=0;o<u.length;o++)n=X1(u[o],n);return n}function q1(a,t){let n=a.x-t.x;if(n===0&&(n=a.y-t.y,n===0)){const l=(a.next.y-a.y)/(a.next.x-a.x),u=(t.next.y-t.y)/(t.next.x-t.x);n=l-u}return n}function X1(a,t){const n=V1(a,t);if(!n)return t;const l=L0(n,a);return Xn(l,l.next),Xn(n,n.next)}function V1(a,t){let n=t;const l=a.x,u=a.y;let o=-1/0,h;if(Us(a,n))return n;do{if(Us(a,n.next))return n.next;if(u<=n.y&&u>=n.next.y&&n.next.y!==n.y){const x=n.x+(u-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(x<=l&&x>o&&(o=x,h=n.x<n.next.x?n:n.next,x===l))return h}n=n.next}while(n!==t);if(!h)return null;const d=h,m=h.x,p=h.y;let g=1/0;n=h;do{if(l>=n.x&&n.x>=m&&l!==n.x&&H0(u<p?l:o,u,m,p,u<p?o:l,u,n.x,n.y)){const x=Math.abs(u-n.y)/(l-n.x);Wa(n,a)&&(x<g||x===g&&(n.x>h.x||n.x===h.x&&P1(h,n)))&&(h=n,g=x)}n=n.next}while(n!==d);return h}function P1(a,t){return kt(a.prev,a,t.prev)<0&&kt(t.next,a,a.next)<0}function Q1(a,t,n,l){let u=a;do u.z===0&&(u.z=Fc(u.x,u.y,t,n,l)),u.prevZ=u.prev,u.nextZ=u.next,u=u.next;while(u!==a);u.prevZ.nextZ=null,u.prevZ=null,Z1(u)}function Z1(a){let t,n=1;do{let l=a,u;a=null;let o=null;for(t=0;l;){t++;let h=l,d=0;for(let p=0;p<n&&(d++,h=h.nextZ,!!h);p++);let m=n;for(;d>0||m>0&&h;)d!==0&&(m===0||!h||l.z<=h.z)?(u=l,l=l.nextZ,d--):(u=h,h=h.nextZ,m--),o?o.nextZ=u:a=u,u.prevZ=o,o=u;l=h}o.nextZ=null,n*=2}while(t>1);return a}function Fc(a,t,n,l,u){return a=(a-n)*u|0,t=(t-l)*u|0,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,a|t<<1}function F1(a){let t=a,n=a;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==a);return n}function H0(a,t,n,l,u,o,h,d){return(u-h)*(t-d)>=(a-h)*(o-d)&&(a-h)*(l-d)>=(n-h)*(t-d)&&(n-h)*(o-d)>=(u-h)*(l-d)}function Xa(a,t,n,l,u,o,h,d){return!(a===h&&t===d)&&H0(a,t,n,l,u,o,h,d)}function K1(a,t){return a.next.i!==t.i&&a.prev.i!==t.i&&!I1(a,t)&&(Wa(a,t)&&Wa(t,a)&&W1(a,t)&&(kt(a.prev,a,t.prev)||kt(a,t.prev,t))||Us(a,t)&&kt(a.prev,a,a.next)>0&&kt(t.prev,t,t.next)>0)}function kt(a,t,n){return(t.y-a.y)*(n.x-t.x)-(t.x-a.x)*(n.y-t.y)}function Us(a,t){return a.x===t.x&&a.y===t.y}function k0(a,t,n,l){const u=Nr(kt(a,t,n)),o=Nr(kt(a,t,l)),h=Nr(kt(n,l,a)),d=Nr(kt(n,l,t));return!!(u!==o&&h!==d||u===0&&Br(a,n,t)||o===0&&Br(a,l,t)||h===0&&Br(n,a,l)||d===0&&Br(n,t,l))}function Br(a,t,n){return t.x<=Math.max(a.x,n.x)&&t.x>=Math.min(a.x,n.x)&&t.y<=Math.max(a.y,n.y)&&t.y>=Math.min(a.y,n.y)}function Nr(a){return a>0?1:a<0?-1:0}function I1(a,t){let n=a;do{if(n.i!==a.i&&n.next.i!==a.i&&n.i!==t.i&&n.next.i!==t.i&&k0(n,n.next,a,t))return!0;n=n.next}while(n!==a);return!1}function Wa(a,t){return kt(a.prev,a,a.next)<0?kt(a,t,a.next)>=0&&kt(a,a.prev,t)>=0:kt(a,t,a.prev)<0||kt(a,a.next,t)<0}function W1(a,t){let n=a,l=!1;const u=(a.x+t.x)/2,o=(a.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&u<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(l=!l),n=n.next;while(n!==a);return l}function L0(a,t){const n=Kc(a.i,a.x,a.y),l=Kc(t.i,t.x,t.y),u=a.next,o=t.prev;return a.next=t,t.prev=a,n.next=u,u.prev=n,l.next=n,n.prev=l,o.next=l,l.prev=o,l}function tg(a,t,n,l){const u=Kc(a,t,n);return l?(u.next=l.next,u.prev=l,l.next.prev=u,l.next=u):(u.prev=u,u.next=u),u}function Ja(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Kc(a,t,n){return{i:a,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function J1(a,t,n,l){let u=0;for(let o=t,h=n-l;o<n;o+=l)u+=(a[h]-a[o])*(a[o+1]+a[h+1]),h=o;return u}const $1=$p.default||$p;var Y0=(a=>(a[a.NONE=0]="NONE",a[a.COLOR=16384]="COLOR",a[a.STENCIL=1024]="STENCIL",a[a.DEPTH=256]="DEPTH",a[a.COLOR_DEPTH=16640]="COLOR_DEPTH",a[a.COLOR_STENCIL=17408]="COLOR_STENCIL",a[a.DEPTH_STENCIL=1280]="DEPTH_STENCIL",a[a.ALL=17664]="ALL",a))(Y0||{});class tv{constructor(t){this.items=[],this._name=t}emit(t,n,l,u,o,h,d,m){const{name:p,items:g}=this;for(let x=0,v=g.length;x<v;x++)g[x][p](t,n,l,u,o,h,d,m);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const n=this.items.indexOf(t);return n!==-1&&this.items.splice(n,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const ev=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],q0=class X0 extends _i{constructor(t){super(),this.uid=Vt("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const n=[...ev,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(t={}){const n=t.skipExtensionImports===!0?!0:t.manageImports===!1;await G1(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const l in this._systemsHash)t={...this._systemsHash[l].constructor.defaultOptions,...t};t={...X0.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let l=0;l<this.runners.init.items.length;l++)await this.runners.init.items[l].init(t);this._initOptions=t}render(t,n){let l=t;if(l instanceof li&&(l={container:l},n&&(Mt(Xt,"passing a second argument is deprecated, please use render options instead"),l.target=n.renderTexture)),l.target||(l.target=this.view.renderTarget),l.target===this.view.renderTarget&&(this._lastObjectRendered=l.container,l.clearColor??(l.clearColor=this.background.colorRgba),l.clear??(l.clear=this.background.clearBeforeRender)),l.clearColor){const u=Array.isArray(l.clearColor)&&l.clearColor.length===4;l.clearColor=u?l.clearColor:te.shared.setValue(l.clearColor).toArray()}l.transform||(l.container.updateLocalTransform(),l.transform=l.container.localTransform),l.container.visible&&(l.container.enableRenderGroup(),this.runners.prerender.emit(l),this.runners.renderStart.emit(l),this.runners.render.emit(l),this.runners.renderEnd.emit(l),this.runners.postrender.emit(l))}resize(t,n,l){const u=this.view.resolution;this.view.resize(t,n,l),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),l!==void 0&&l!==u&&this.runners.resolutionChange.emit(l)}clear(t={}){const n=this;t.target||(t.target=n.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=Y0.ALL);const{clear:l,clearColor:u,target:o}=t;te.shared.setValue(u??this.background.colorRgba),n.renderTarget.clear(o,l,te.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(n=>{this.runners[n]=new tv(n)})}_addSystems(t){let n;for(n in t){const l=t[n];this._addSystem(l.value,l.name)}}_addSystem(t,n){const l=new t(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=l,this._systemsHash[n]=l;for(const u in this.runners)this.runners[u].add(l);return this}_addPipes(t,n){const l=n.reduce((u,o)=>(u[o.name]=o.value,u),{});t.forEach(u=>{const o=u.value,h=u.name,d=l[h];this.renderPipes[h]=new o(this,d?new d:null),this.runners.destroy.add(this.renderPipes[h])})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),(t===!0||typeof t=="object"&&t.releaseGlobalResources)&&el.release(),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!U1())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};q0.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let V0=q0,Dr;function iv(a){return Dr!==void 0||(Dr=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:a??V0.defaultOptions.failIfMajorPerformanceCaveat};try{if(!je.get().getWebGLRenderingContext())return!1;let l=je.get().createCanvas().getContext("webgl",t);const u=!!l?.getContextAttributes()?.stencil;if(l){const o=l.getExtension("WEBGL_lose_context");o&&o.loseContext()}return l=null,u}catch{return!1}})()),Dr}let Or;async function nv(a={}){return Or!==void 0||(Or=await(async()=>{const t=je.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(a)).requestDevice(),!0}catch{return!1}})()),Or}const eg=["webgl","webgpu","canvas"];async function sv(a){let t=[];a.preference?(t.push(a.preference),eg.forEach(o=>{o!==a.preference&&t.push(o)})):t=eg.slice();let n,l={};for(let o=0;o<t.length;o++){const h=t[o];if(h==="webgpu"&&await nv()){const{WebGPURenderer:d}=await Lr(async()=>{const{WebGPURenderer:m}=await import("./WebGPURenderer-DOY8NZt6.js");return{WebGPURenderer:m}},__vite__mapDeps([3,2,4]));n=d,l={...a,...a.webgpu};break}else if(h==="webgl"&&iv(a.failIfMajorPerformanceCaveat??V0.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:d}=await Lr(async()=>{const{WebGLRenderer:m}=await import("./WebGLRenderer-Cn8eR3hM.js");return{WebGLRenderer:m}},__vite__mapDeps([5,2,4]));n=d,l={...a,...a.webgl};break}else if(h==="canvas")throw l={...a},new Error("CanvasRenderer is not yet implemented")}if(delete l.webgpu,delete l.webgl,!n)throw new Error("No available renderer for the current environment");const u=new n;return await u.init(l),u}const P0="8.14.3";class Q0{static init(){globalThis.__PIXI_APP_INIT__?.(this,P0)}static destroy(){}}Q0.extension=Et.Application;class av{constructor(t){this._renderer=t}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,P0)}destroy(){this._renderer=null}}av.extension={type:[Et.WebGLSystem,Et.WebGPUSystem],name:"initHook",priority:-10};const Z0=class Ic{constructor(...t){this.stage=new li,t[0]!==void 0&&Mt(Xt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.stage||(this.stage=new li),this.renderer=await sv(t),Ic._plugins.forEach(n=>{n.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Mt(Xt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,n=!1){const l=Ic._plugins.slice(0);l.reverse(),l.forEach(u=>{u.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};Z0._plugins=[];let F0=Z0;We.handleByList(Et.Application,F0._plugins);We.add(Q0);class lv{constructor(t=0,n=0,l=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=t,this.resetTtl=l,this.size=0,this.ttl=n}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(t){if(this.has(t)){const n=this.items[t];delete this.items[t],this.size--,n.prev!==null&&(n.prev.next=n.next),n.next!==null&&(n.next.prev=n.prev),this.first===n&&(this.first=n.next),this.last===n&&(this.last=n.prev)}return this}entries(t=this.keys()){return t.map(n=>[n,this.get(n)])}evict(t=!1){if(t||this.size>0){const n=this.first;delete this.items[n.key],--this.size===0?(this.first=null,this.last=null):(this.first=n.next,this.first.prev=null)}return this}expiresAt(t){let n;return this.has(t)&&(n=this.items[t].expiry),n}get(t){const n=this.items[t];if(n!==void 0){if(this.ttl>0&&n.expiry<=Date.now()){this.delete(t);return}return this.moveToEnd(n),n.value}}has(t){return t in this.items}moveToEnd(t){this.last!==t&&(t.prev!==null&&(t.prev.next=t.next),t.next!==null&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),t.prev=this.last,t.next=null,this.last!==null&&(this.last.next=t),this.last=t,this.first===null&&(this.first=t))}keys(){const t=[];let n=this.first;for(;n!==null;)t.push(n.key),n=n.next;return t}setWithEvicted(t,n,l=this.resetTtl){let u=null;if(this.has(t))this.set(t,n,!0,l);else{this.max>0&&this.size===this.max&&(u={...this.first},this.evict(!0));let o=this.items[t]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:n};++this.size===1?this.first=o:this.last.next=o,this.last=o}return u}set(t,n,l=!1,u=this.resetTtl){let o=this.items[t];return l||o!==void 0?(o.value=n,l===!1&&u&&(o.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(o)):(this.max>0&&this.size===this.max&&this.evict(!0),o=this.items[t]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:t,prev:this.last,next:null,value:n},++this.size===1?this.first=o:this.last.next=o,this.last=o),this}values(t=this.keys()){return t.map(n=>this.get(n))}}function rv(a=1e3,t=0,n=!1){if(isNaN(a)||a<0)throw new TypeError("Invalid max value");if(isNaN(t)||t<0)throw new TypeError("Invalid ttl value");if(typeof n!="boolean")throw new TypeError("Invalid resetTtl value");return new lv(a,t,n)}const uv=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function K0(a){const t=typeof a.fontSize=="number"?`${a.fontSize}px`:a.fontSize;let n=a.fontFamily;Array.isArray(a.fontFamily)||(n=a.fontFamily.split(","));for(let l=n.length-1;l>=0;l--){let u=n[l].trim();!/([\"\'])[^\'\"]+\1/.test(u)&&!uv.includes(u)&&(u=`"${u}"`),n[l]=u}return`${a.fontStyle} ${a.fontVariant} ${a.fontWeight} ${t} ${n.join(",")}`}const Bc={willReadFrequently:!0},oi=class et{static get experimentalLetterSpacingSupported(){let t=et._experimentalLetterSpacingSupported;if(t===void 0){const n=je.get().getCanvasRenderingContext2D().prototype;t=et._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(t,n,l,u,o,h,d,m,p){this.text=t,this.style=n,this.width=l,this.height=u,this.lines=o,this.lineWidths=h,this.lineHeight=d,this.maxLineWidth=m,this.fontProperties=p}static measureText(t=" ",n,l=et._canvas,u=n.wordWrap){const o=`${t}-${n.styleKey}-wordWrap-${u}`;if(et._measurementCache.has(o))return et._measurementCache.get(o);const h=K0(n),d=et.measureFont(h);d.fontSize===0&&(d.fontSize=n.fontSize,d.ascent=n.fontSize);const m=et.__context;m.font=h;const g=(u?et._wordWrap(t,n,l):t).split(/(?:\r\n|\r|\n)/),x=new Array(g.length);let v=0;for(let N=0;N<g.length;N++){const B=et._measureText(g[N],n.letterSpacing,m);x[N]=B,v=Math.max(v,B)}const _=n._stroke?.width||0;let S=v+_;n.dropShadow&&(S+=n.dropShadow.distance);const A=n.lineHeight||d.fontSize;let T=Math.max(A,d.fontSize+_)+(g.length-1)*(A+n.leading);n.dropShadow&&(T+=n.dropShadow.distance);const E=new et(t,n,S,T,g,x,A+n.leading,v,d);return et._measurementCache.set(o,E),E}static _measureText(t,n,l){let u=!1;et.experimentalLetterSpacingSupported&&(et.experimentalLetterSpacing?(l.letterSpacing=`${n}px`,l.textLetterSpacing=`${n}px`,u=!0):(l.letterSpacing="0px",l.textLetterSpacing="0px"));const o=l.measureText(t);let h=o.width;const d=-o.actualBoundingBoxLeft;let p=o.actualBoundingBoxRight-d;if(h>0)if(u)h-=n,p-=n;else{const g=(et.graphemeSegmenter(t).length-1)*n;h+=g,p+=g}return Math.max(h,p)}static _wordWrap(t,n,l=et._canvas){const u=l.getContext("2d",Bc);let o=0,h="",d="";const m=Object.create(null),{letterSpacing:p,whiteSpace:g}=n,x=et._collapseSpaces(g),v=et._collapseNewlines(g);let _=!x;const S=n.wordWrapWidth+p,A=et._tokenize(t);for(let T=0;T<A.length;T++){let E=A[T];if(et._isNewline(E)){if(!v){d+=et._addLine(h),_=!x,h="",o=0;continue}E=" "}if(x){const B=et.isBreakingSpace(E),j=et.isBreakingSpace(h[h.length-1]);if(B&&j)continue}const N=et._getFromCache(E,p,m,u);if(N>S)if(h!==""&&(d+=et._addLine(h),h="",o=0),et.canBreakWords(E,n.breakWords)){const B=et.wordWrapSplit(E);for(let j=0;j<B.length;j++){let Q=B[j],P=Q,k=1;for(;B[j+k];){const K=B[j+k];if(!et.canBreakChars(P,K,E,j,n.breakWords))Q+=K;else break;P=K,k++}j+=k-1;const it=et._getFromCache(Q,p,m,u);it+o>S&&(d+=et._addLine(h),_=!1,h="",o=0),h+=Q,o+=it}}else{h.length>0&&(d+=et._addLine(h),h="",o=0);const B=T===A.length-1;d+=et._addLine(E,!B),_=!1,h="",o=0}else N+o>S&&(_=!1,d+=et._addLine(h),h="",o=0),(h.length>0||!et.isBreakingSpace(E)||_)&&(h+=E,o+=N)}return d+=et._addLine(h,!1),d}static _addLine(t,n=!0){return t=et._trimRight(t),t=n?`${t}
`:t,t}static _getFromCache(t,n,l,u){let o=l[t];return typeof o!="number"&&(o=et._measureText(t,n,u)+n,l[t]=o),o}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let n=t.length-1;n>=0;n--){const l=t[n];if(!et.isBreakingSpace(l))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:et._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return typeof t!="string"?!1:et._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const n=[];let l="";if(typeof t!="string")return n;for(let u=0;u<t.length;u++){const o=t[u],h=t[u+1];if(et.isBreakingSpace(o,h)||et._isNewline(o)){l!==""&&(n.push(l),l=""),o==="\r"&&h===`
`?(n.push(`\r
`),u++):n.push(o);continue}l+=o}return l!==""&&n.push(l),n}static canBreakWords(t,n){return n}static canBreakChars(t,n,l,u,o){return!0}static wordWrapSplit(t){return et.graphemeSegmenter(t)}static measureFont(t){if(et._fonts[t])return et._fonts[t];const n=et._context;n.font=t;const l=n.measureText(et.METRICS_STRING+et.BASELINE_SYMBOL),u={ascent:l.actualBoundingBoxAscent,descent:l.actualBoundingBoxDescent,fontSize:l.actualBoundingBoxAscent+l.actualBoundingBoxDescent};return et._fonts[t]=u,u}static clearMetrics(t=""){t?delete et._fonts[t]:et._fonts={}}static get _canvas(){if(!et.__canvas){let t;try{const n=new OffscreenCanvas(0,0);if(n.getContext("2d",Bc)?.measureText)return et.__canvas=n,n;t=je.get().createCanvas()}catch{t=je.get().createCanvas()}t.width=t.height=10,et.__canvas=t}return et.__canvas}static get _context(){return et.__context||(et.__context=et._canvas.getContext("2d",Bc)),et.__context}};oi.METRICS_STRING="|q";oi.BASELINE_SYMBOL="M";oi.BASELINE_MULTIPLIER=1.4;oi.HEIGHT_MULTIPLIER=2;oi.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const a=new Intl.Segmenter;return t=>{const n=a.segment(t),l=[];let u=0;for(const o of n)l[u++]=o.segment;return l}}return a=>[...a]})();oi.experimentalLetterSpacing=!1;oi._fonts={};oi._newlines=[10,13];oi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];oi._measurementCache=rv(1e3);let Bs=oi;const ig=[{offset:0,color:"white"},{offset:1,color:"black"}],uh=class Wc{constructor(...t){this.uid=Vt("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let n=ov(t);n={...n.type==="radial"?Wc.defaultRadialOptions:Wc.defaultLinearOptions,...$g(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(u=>{this.addColorStop(u.offset,u.color)})}addColorStop(t,n){return this.colorStops.push({offset:t,color:te.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:n}=this.start,{x:l,y:u}=this.end,o=l-t,h=u-n;const d=o<0||h<0;if(this._wrapMode==="clamp-to-edge"){if(o<0){const T=t;t=l,l=T,o*=-1}if(h<0){const T=n;n=u,u=T,h*=-1}}const m=this.colorStops.length?this.colorStops:ig,p=this._textureSize,{canvas:g,context:x}=sg(p,1),v=d?x.createLinearGradient(this._textureSize,0,0,0):x.createLinearGradient(0,0,this._textureSize,0);ng(v,m),x.fillStyle=v,x.fillRect(0,0,p,1),this.texture=new Nt({source:new qr({resource:g,addressMode:this._wrapMode})});const _=Math.sqrt(o*o+h*h),S=Math.atan2(h,o),A=new yt;A.scale(_/p,1),A.rotate(S),A.translate(t,n),this.textureSpace==="local"&&A.scale(p,p),this.transform=A}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:ig,n=this._textureSize,{canvas:l,context:u}=sg(n,n),{x:o,y:h}=this.center,{x:d,y:m}=this.outerCenter,p=this.innerRadius,g=this.outerRadius,x=d-g,v=m-g,_=n/(g*2),S=(o-x)*_,A=(h-v)*_,T=u.createRadialGradient(S,A,p*_,(d-x)*_,(m-v)*_,g*_);ng(T,t),u.fillStyle=t[t.length-1].color,u.fillRect(0,0,n,n),u.fillStyle=T,u.translate(S,A),u.rotate(this.rotation),u.scale(1,this.scale),u.translate(-S,-A),u.fillRect(0,0,n,n),this.texture=new Nt({source:new qr({resource:l,addressMode:this._wrapMode})});const E=new yt;E.scale(1/_,1/_),E.translate(x,v),this.textureSpace==="local"&&E.scale(n,n),this.transform=E}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};uh.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};uh.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let qi=uh;function ng(a,t){for(let n=0;n<t.length;n++){const l=t[n];a.addColorStop(l.offset,l.color)}}function sg(a,t){const n=je.get().createCanvas(a,t),l=n.getContext("2d");return{canvas:n,context:l}}function ov(a){let t=a[0]??{};return(typeof t=="number"||a[1])&&(Mt("8.5.2","use options object instead"),t={type:"linear",start:{x:a[0],y:a[1]},end:{x:a[2],y:a[3]},textureSpace:a[4],textureSize:a[5]??qi.defaultLinearOptions.textureSize}),t}const ag={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Zr{constructor(t,n){this.uid=Vt("fillPattern"),this._tick=0,this.transform=new yt,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),n&&(t.source.style.addressModeU=ag[n].addressModeU,t.source.style.addressModeV=ag[n].addressModeV)}setTransform(t){const n=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._tick++}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture=t,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var Nc,lg;function cv(){if(lg)return Nc;lg=1,Nc=n;var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(o){var h=[];return o.replace(t,function(d,m,p){var g=m.toLowerCase();for(p=u(p),g=="m"&&p.length>2&&(h.push([m].concat(p.splice(0,2))),g="l",m=m=="m"?"l":"L");;){if(p.length==a[g])return p.unshift(m),h.push(p);if(p.length<a[g])throw new Error("malformed path data");h.push([m].concat(p.splice(0,a[g])))}}),h}var l=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function u(o){var h=o.match(l);return h?h.map(Number):[]}return Nc}var hv=cv();const fv=kg(hv);function dv(a,t){const n=fv(a),l=[];let u=null,o=0,h=0;for(let d=0;d<n.length;d++){const m=n[d],p=m[0],g=m;switch(p){case"M":o=g[1],h=g[2],t.moveTo(o,h);break;case"m":o+=g[1],h+=g[2],t.moveTo(o,h);break;case"H":o=g[1],t.lineTo(o,h);break;case"h":o+=g[1],t.lineTo(o,h);break;case"V":h=g[1],t.lineTo(o,h);break;case"v":h+=g[1],t.lineTo(o,h);break;case"L":o=g[1],h=g[2],t.lineTo(o,h);break;case"l":o+=g[1],h+=g[2],t.lineTo(o,h);break;case"C":o=g[5],h=g[6],t.bezierCurveTo(g[1],g[2],g[3],g[4],o,h);break;case"c":t.bezierCurveTo(o+g[1],h+g[2],o+g[3],h+g[4],o+g[5],h+g[6]),o+=g[5],h+=g[6];break;case"S":o=g[3],h=g[4],t.bezierCurveToShort(g[1],g[2],o,h);break;case"s":t.bezierCurveToShort(o+g[1],h+g[2],o+g[3],h+g[4]),o+=g[3],h+=g[4];break;case"Q":o=g[3],h=g[4],t.quadraticCurveTo(g[1],g[2],o,h);break;case"q":t.quadraticCurveTo(o+g[1],h+g[2],o+g[3],h+g[4]),o+=g[3],h+=g[4];break;case"T":o=g[1],h=g[2],t.quadraticCurveToShort(o,h);break;case"t":o+=g[1],h+=g[2],t.quadraticCurveToShort(o,h);break;case"A":o=g[6],h=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],o,h);break;case"a":o+=g[6],h+=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],o,h);break;case"Z":case"z":t.closePath(),l.length>0&&(u=l.pop(),u?(o=u.startX,h=u.startY):(o=0,h=0)),u=null;break;default:ye(`Unknown SVG path command: ${p}`)}p!=="Z"&&p!=="z"&&u===null&&(u={startX:o,startY:h},l.push(u))}return t}class oh{constructor(t=0,n=0,l=0){this.type="circle",this.x=t,this.y=n,this.radius=l}clone(){return new oh(this.x,this.y,this.radius)}contains(t,n){if(this.radius<=0)return!1;const l=this.radius*this.radius;let u=this.x-t,o=this.y-n;return u*=u,o*=o,u+o<=l}strokeContains(t,n,l,u=.5){if(this.radius===0)return!1;const o=this.x-t,h=this.y-n,d=this.radius,m=(1-u)*l,p=Math.sqrt(o*o+h*h);return p<=d+m&&p>d-(l-m)}getBounds(t){return t||(t=new Zt),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class ch{constructor(t=0,n=0,l=0,u=0){this.type="ellipse",this.x=t,this.y=n,this.halfWidth=l,this.halfHeight=u}clone(){return new ch(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let l=(t-this.x)/this.halfWidth,u=(n-this.y)/this.halfHeight;return l*=l,u*=u,l+u<=1}strokeContains(t,n,l,u=.5){const{halfWidth:o,halfHeight:h}=this;if(o<=0||h<=0)return!1;const d=l*(1-u),m=l-d,p=o-m,g=h-m,x=o+d,v=h+d,_=t-this.x,S=n-this.y,A=_*_/(p*p)+S*S/(g*g),T=_*_/(x*x)+S*S/(v*v);return A>1&&T<=1}getBounds(t){return t||(t=new Zt),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function mv(a,t,n,l,u,o){const h=a-n,d=t-l,m=u-n,p=o-l,g=h*m+d*p,x=m*m+p*p;let v=-1;x!==0&&(v=g/x);let _,S;v<0?(_=n,S=l):v>1?(_=u,S=o):(_=n+v*m,S=l+v*p);const A=a-_,T=t-S;return A*A+T*T}let pv,gv;class Pa{constructor(...t){this.type="polygon";let n=Array.isArray(t[0])?t[0]:t;if(typeof n[0]!="number"){const l=[];for(let u=0,o=n.length;u<o;u++)l.push(n[u].x,n[u].y);n=l}this.points=n,this.closePath=!0}isClockwise(){let t=0;const n=this.points,l=n.length;for(let u=0;u<l;u+=2){const o=n[u],h=n[u+1],d=n[(u+2)%l],m=n[(u+3)%l];t+=(d-o)*(m+h)}return t<0}containsPolygon(t){const n=this.getBounds(pv),l=t.getBounds(gv);if(!n.containsRect(l))return!1;const u=t.points;for(let o=0;o<u.length;o+=2){const h=u[o],d=u[o+1];if(!this.contains(h,d))return!1}return!0}clone(){const t=this.points.slice(),n=new Pa(t);return n.closePath=this.closePath,n}contains(t,n){let l=!1;const u=this.points.length/2;for(let o=0,h=u-1;o<u;h=o++){const d=this.points[o*2],m=this.points[o*2+1],p=this.points[h*2],g=this.points[h*2+1];m>n!=g>n&&t<(p-d)*((n-m)/(g-m))+d&&(l=!l)}return l}strokeContains(t,n,l,u=.5){const o=l*l,h=o*(1-u),d=o-h,{points:m}=this,p=m.length-(this.closePath?0:2);for(let g=0;g<p;g+=2){const x=m[g],v=m[g+1],_=m[(g+2)%m.length],S=m[(g+3)%m.length],A=mv(t,n,x,v,_,S),T=Math.sign((_-x)*(n-v)-(S-v)*(t-x));if(A<=(T<0?d:h))return!0}return!1}getBounds(t){t||(t=new Zt);const n=this.points;let l=1/0,u=-1/0,o=1/0,h=-1/0;for(let d=0,m=n.length;d<m;d+=2){const p=n[d],g=n[d+1];l=p<l?p:l,u=p>u?p:u,o=g<o?g:o,h=g>h?g:h}return t.x=l,t.width=u-l,t.y=o,t.height=h-o,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,n)=>`${t}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Mt("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Mt("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const Gr=(a,t,n,l,u,o,h)=>{const d=a-n,m=t-l,p=Math.sqrt(d*d+m*m);return p>=u-o&&p<=u+h};class hh{constructor(t=0,n=0,l=0,u=0,o=20){this.type="roundedRectangle",this.x=t,this.y=n,this.width=l,this.height=u,this.radius=o}getBounds(t){return t||(t=new Zt),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new hh(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const l=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+l&&n<=this.y+this.height-l||t>=this.x+l&&t<=this.x+this.width-l)return!0;let u=t-(this.x+l),o=n-(this.y+l);const h=l*l;if(u*u+o*o<=h||(u=t-(this.x+this.width-l),u*u+o*o<=h)||(o=n-(this.y+this.height-l),u*u+o*o<=h)||(u=t-(this.x+l),u*u+o*o<=h))return!0}return!1}strokeContains(t,n,l,u=.5){const{x:o,y:h,width:d,height:m,radius:p}=this,g=l*(1-u),x=l-g,v=o+p,_=h+p,S=d-p*2,A=m-p*2,T=o+d,E=h+m;return(t>=o-g&&t<=o+x||t>=T-x&&t<=T+g)&&n>=_&&n<=_+A||(n>=h-g&&n<=h+x||n>=E-x&&n<=E+g)&&t>=v&&t<=v+S?!0:t<v&&n<_&&Gr(t,n,v,_,p,x,g)||t>T-p&&n<_&&Gr(t,n,T-p,_,p,x,g)||t>T-p&&n>E-p&&Gr(t,n,T-p,E-p,p,x,g)||t<v&&n>E-p&&Gr(t,n,v,E-p,p,x,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const I0={};function yv(a,t,n){let l=2166136261;for(let u=0;u<t;u++)l^=a[u].uid,l=Math.imul(l,16777619),l>>>=0;return I0[l]||xv(a,t,l,n)}function xv(a,t,n,l){const u={};let o=0;for(let d=0;d<l;d++){const m=d<t?a[d]:Nt.EMPTY.source;u[o++]=m.source,u[o++]=m.style}const h=new kr(u);return I0[n]=h,h}class rg{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function ug(a,t){const n=a.byteLength/8|0,l=new Float64Array(a,0,n);new Float64Array(t,0,n).set(l);const o=a.byteLength-n*8;if(o>0){const h=new Uint8Array(a,n*8,o);new Uint8Array(t,n*8,o).set(h)}}const _v={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var bv=(a=>(a[a.DISABLED=0]="DISABLED",a[a.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",a[a.MASK_ACTIVE=2]="MASK_ACTIVE",a[a.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",a[a.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",a[a.NONE=5]="NONE",a))(bv||{});function og(a,t){return t.alphaMode==="no-premultiply-alpha"&&_v[a]||a}const vv=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Sv(a){let t="";for(let n=0;n<a;++n)n>0&&(t+=`
else `),n<a-1&&(t+=`if(test == ${n}.0){}`);return t}function Tv(a,t){if(a===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const l=vv.replace(/%forloop%/gi,Sv(a));if(t.shaderSource(n,l),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))a=a/2|0;else break}}finally{t.deleteShader(n)}return a}let Es=null;function Av(){if(Es)return Es;const a=R0();return Es=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),Es=Tv(Es,a),a.getExtension("WEBGL_lose_context")?.loseContext(),Es}class Mv{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const n=this.textures[t];this.textures[t]=null,this.ids[n.uid]=null}this.count=0}}class Cv{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Mv,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Qa=[];let Xr=0;el.register({clear:()=>{if(Qa.length>0)for(const a of Qa)a&&a.destroy();Qa.length=0,Xr=0}});function cg(){return Xr>0?Qa[--Xr]:new Cv}function hg(a){Qa[Xr++]=a}let ja=0;const W0=class J0{constructor(t){this.uid=Vt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...J0.defaultOptions,...t},t.maxTextures||(Mt("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=Av());const{maxTextures:n,attributesInitialSize:l,indicesInitialSize:u}=t;this.attributeBuffer=new rg(l*4),this.indexBuffer=new Uint16Array(u),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)hg(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,n){const l=t._batch.textures.ids[n._source.uid];return!l&&l!==0?!1:(t._textureId=l,t.texture=n,!0)}updateElement(t){this.dirty=!0;const n=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId)}break(t){const n=this._elements;if(!n[this.elementStart])return;let l=cg(),u=l.textures;u.clear();const o=n[this.elementStart];let h=og(o.blendMode,o.texture._source),d=o.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const m=this.attributeBuffer.float32View,p=this.attributeBuffer.uint32View,g=this.indexBuffer;let x=this._batchIndexSize,v=this._batchIndexStart,_="startBatch";const S=this.maxTextures;for(let A=this.elementStart;A<this.elementSize;++A){const T=n[A];n[A]=null;const N=T.texture._source,B=og(T.blendMode,N),j=h!==B||d!==T.topology;if(N._batchTick===ja&&!j){T._textureId=N._textureBindLocation,x+=T.indexSize,T.packAsQuad?(this.packQuadAttributes(T,m,p,T._attributeStart,T._textureId),this.packQuadIndex(g,T._indexStart,T._attributeStart/this.vertexSize)):(this.packAttributes(T,m,p,T._attributeStart,T._textureId),this.packIndex(T,g,T._indexStart,T._attributeStart/this.vertexSize)),T._batch=l;continue}N._batchTick=ja,(u.count>=S||j)&&(this._finishBatch(l,v,x-v,u,h,d,t,_),_="renderBatch",v=x,h=B,d=T.topology,l=cg(),u=l.textures,u.clear(),++ja),T._textureId=N._textureBindLocation=u.count,u.ids[N.uid]=u.count,u.textures[u.count++]=N,T._batch=l,x+=T.indexSize,T.packAsQuad?(this.packQuadAttributes(T,m,p,T._attributeStart,T._textureId),this.packQuadIndex(g,T._indexStart,T._attributeStart/this.vertexSize)):(this.packAttributes(T,m,p,T._attributeStart,T._textureId),this.packIndex(T,g,T._indexStart,T._attributeStart/this.vertexSize))}u.count>0&&(this._finishBatch(l,v,x-v,u,h,d,t,_),v=x,++ja),this.elementStart=this.elementSize,this._batchIndexStart=v,this._batchIndexSize=x}_finishBatch(t,n,l,u,o,h,d,m){t.gpuBindGroup=null,t.bindGroup=null,t.action=m,t.batcher=this,t.textures=u,t.blendMode=o,t.topology=h,t.start=n,t.size=l,++ja,this.batches[this.batchIndex++]=t,d.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const n=Math.max(t,this.attributeBuffer.size*2),l=new rg(n);ug(this.attributeBuffer.rawBinaryData,l.rawBinaryData),this.attributeBuffer=l}_resizeIndexBuffer(t){const n=this.indexBuffer;let l=Math.max(t,n.length*1.5);l+=l%2;const u=l>65535?new Uint32Array(l):new Uint16Array(l);if(u.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let o=0;o<n.length;o++)u[o]=n[o];else ug(n.buffer,u.buffer);this.indexBuffer=u}packQuadIndex(t,n,l){t[n]=l+0,t[n+1]=l+1,t[n+2]=l+2,t[n+3]=l+0,t[n+4]=l+2,t[n+5]=l+3}packIndex(t,n,l,u){const o=t.indices,h=t.indexSize,d=t.indexOffset,m=t.attributeOffset;for(let p=0;p<h;p++)n[l++]=u+o[p+d]-m}destroy(t={}){if(this.batches!==null){for(let n=0;n<this.batches.length;n++)hg(this.batches[n]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,t.shader&&(this.shader?.destroy(),this.shader=null);for(let n=0;n<this._elements.length;n++)this._elements[n]&&(this._elements[n]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};W0.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let wv=W0;var Me=(a=>(a[a.MAP_READ=1]="MAP_READ",a[a.MAP_WRITE=2]="MAP_WRITE",a[a.COPY_SRC=4]="COPY_SRC",a[a.COPY_DST=8]="COPY_DST",a[a.INDEX=16]="INDEX",a[a.VERTEX=32]="VERTEX",a[a.UNIFORM=64]="UNIFORM",a[a.STORAGE=128]="STORAGE",a[a.INDIRECT=256]="INDIRECT",a[a.QUERY_RESOLVE=512]="QUERY_RESOLVE",a[a.STATIC=1024]="STATIC",a))(Me||{});class $a extends _i{constructor(t){let{data:n,size:l}=t;const{usage:u,label:o,shrinkToFit:h}=t;super(),this.uid=Vt("buffer"),this._resourceType="buffer",this._resourceId=Vt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,l??(l=n?.byteLength);const d=!!n;this.descriptor={size:l,usage:u,mappedAtCreation:d,label:o},this.shrinkToFit=h??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Me.STATIC)}set static(t){t?this.descriptor.usage|=Me.STATIC:this.descriptor.usage&=~Me.STATIC}setDataWithSize(t,n,l){if(this._updateID++,this._updateSize=n*t.BYTES_PER_ELEMENT,this._data===t){l&&this.emit("update",this);return}const u=this._data;if(this._data=t,this._dataInt32=null,!u||u.length!==t.length){!this.shrinkToFit&&u&&t.byteLength<u.byteLength?l&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Vt("resource"),this.emit("change",this));return}l&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function $0(a,t){if(!(a instanceof $a)){let n=t?Me.INDEX:Me.VERTEX;a instanceof Array&&(t?(a=new Uint32Array(a),n=Me.INDEX|Me.COPY_DST):(a=new Float32Array(a),n=Me.VERTEX|Me.COPY_DST)),a=new $a({data:a,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return a}function Ev(a,t,n){const l=a.getAttribute(t);if(!l)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const u=l.buffer.data;let o=1/0,h=1/0,d=-1/0,m=-1/0;const p=u.BYTES_PER_ELEMENT,g=(l.offset||0)/p,x=(l.stride||8)/p;for(let v=g;v<u.length;v+=x){const _=u[v],S=u[v+1];_>d&&(d=_),S>m&&(m=S),_<o&&(o=_),S<h&&(h=S)}return n.minX=o,n.minY=h,n.maxX=d,n.maxY=m,n}function zv(a){return(a instanceof $a||Array.isArray(a)||a.BYTES_PER_ELEMENT)&&(a={buffer:a}),a.buffer=$0(a.buffer,!1),a}class Rv extends _i{constructor(t={}){super(),this.uid=Vt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new ri,this._boundsDirty=!0;const{attributes:n,indexBuffer:l,topology:u}=t;if(this.buffers=[],this.attributes={},n)for(const o in n)this.addAttribute(o,n[o]);this.instanceCount=t.instanceCount??1,l&&this.addIndex(l),this.topology=u||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const n=this.attributes[t];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(t,n){const l=zv(n);this.buffers.indexOf(l.buffer)===-1&&(this.buffers.push(l.buffer),l.buffer.on("update",this.onBufferUpdate,this),l.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=l}addIndex(t){this.indexBuffer=$0(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,Ev(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(n=>n.destroy()),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const Bv=new Float32Array(1),Nv=new Uint32Array(1);class Dv extends Rv{constructor(){const n=new $a({data:Bv,label:"attribute-batch-buffer",usage:Me.VERTEX|Me.COPY_DST,shrinkToFit:!1}),l=new $a({data:Nv,label:"index-batch-buffer",usage:Me.INDEX|Me.COPY_DST,shrinkToFit:!1}),u=24;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:u,offset:0},aUV:{buffer:n,format:"float32x2",stride:u,offset:8},aColor:{buffer:n,format:"unorm8x4",stride:u,offset:16},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:u,offset:20}},indexBuffer:l})}}function fg(a,t,n){if(a)for(const l in a){const u=l.toLocaleLowerCase(),o=t[u];if(o){let h=a[l];l==="header"&&(h=h.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&o.push(`//----${n}----//`),o.push(h)}else ye(`${l} placement hook does not exist in shader`)}}const Ov=/\{\{(.*?)\}\}/g;function dg(a){const t={};return(a.match(Ov)?.map(l=>l.replace(/[{()}]/g,""))??[]).forEach(l=>{t[l]=[]}),t}function mg(a,t){let n;const l=/@in\s+([^;]+);/g;for(;(n=l.exec(a))!==null;)t.push(n[1])}function pg(a,t,n=!1){const l=[];mg(t,l),a.forEach(d=>{d.header&&mg(d.header,l)});const u=l;n&&u.sort();const o=u.map((d,m)=>`       @location(${m}) ${d},`).join(`
`);let h=t.replace(/@in\s+[^;]+;\s*/g,"");return h=h.replace("{{in}}",`
${o}
`),h}function gg(a,t){let n;const l=/@out\s+([^;]+);/g;for(;(n=l.exec(a))!==null;)t.push(n[1])}function Gv(a){const n=/\b(\w+)\s*:/g.exec(a);return n?n[1]:""}function Uv(a){const t=/@.*?\s+/g;return a.replace(t,"")}function jv(a,t){const n=[];gg(t,n),a.forEach(m=>{m.header&&gg(m.header,n)});let l=0;const u=n.sort().map(m=>m.indexOf("builtin")>-1?m:`@location(${l++}) ${m}`).join(`,
`),o=n.sort().map(m=>`       var ${Uv(m)};`).join(`
`),h=`return VSOutput(
            ${n.sort().map(m=>` ${Gv(m)}`).join(`,
`)});`;let d=t.replace(/@out\s+[^;]+;\s*/g,"");return d=d.replace("{{struct}}",`
${u}
`),d=d.replace("{{start}}",`
${o}
`),d=d.replace("{{return}}",`
${h}
`),d}function yg(a,t){let n=a;for(const l in t){const u=t[l];u.join(`
`).length?n=n.replace(`{{${l}}}`,`//-----${l} START-----//
${u.join(`
`)}
//----${l} FINISH----//`):n=n.replace(`{{${l}}}`,"")}return n}const gn=Object.create(null),Dc=new Map;let Hv=0;function kv({template:a,bits:t}){const n=ty(a,t);if(gn[n])return gn[n];const{vertex:l,fragment:u}=Yv(a,t);return gn[n]=ey(l,u,t),gn[n]}function Lv({template:a,bits:t}){const n=ty(a,t);return gn[n]||(gn[n]=ey(a.vertex,a.fragment,t)),gn[n]}function Yv(a,t){const n=t.map(h=>h.vertex).filter(h=>!!h),l=t.map(h=>h.fragment).filter(h=>!!h);let u=pg(n,a.vertex,!0);u=jv(n,u);const o=pg(l,a.fragment,!0);return{vertex:u,fragment:o}}function ty(a,t){return t.map(n=>(Dc.has(n)||Dc.set(n,Hv++),Dc.get(n))).sort((n,l)=>n-l).join("-")+a.vertex+a.fragment}function ey(a,t,n){const l=dg(a),u=dg(t);return n.forEach(o=>{fg(o.vertex,l,o.name),fg(o.fragment,u,o.name)}),{vertex:yg(a,l),fragment:yg(t,u)}}const qv=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Xv=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,Vv=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,Pv=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,Qv={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},Zv={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function Fv({bits:a,name:t}){const n=kv({template:{fragment:Xv,vertex:qv},bits:[Qv,...a]});return Qr.from({name:t,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function Kv({bits:a,name:t}){return new N0({name:t,...Lv({template:{vertex:Vv,fragment:Pv},bits:[Zv,...a]})})}const Iv={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},Wv={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Oc={};function Jv(a){const t=[];if(a===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let l=0;l<a;l++)t.push(`@group(1) @binding(${n++}) var textureSource${l+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${n++}) var textureSampler${l+1}: sampler;`)}return t.join(`
`)}function $v(a){const t=[];if(a===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let n=0;n<a;n++)n===a-1?t.push("  default:{"):t.push(`  case ${n}:{`),t.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function tS(a){return Oc[a]||(Oc[a]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Jv(a)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${$v(a)}
            `}}),Oc[a]}const Gc={};function eS(a){const t=[];for(let n=0;n<a;n++)n>0&&t.push("else"),n<a-1&&t.push(`if(vTextureId < ${n}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${n}], vUV);`),t.push("}");return t.join(`
`)}function iS(a){return Gc[a]||(Gc[a]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${a}];

            `,main:`

                ${eS(a)}
            `}}),Gc[a]}const nS={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},sS={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},xg={};function aS(a){let t=xg[a];if(t)return t;const n=new Int32Array(a);for(let l=0;l<a;l++)n[l]=l;return t=xg[a]=new U0({uTextures:{value:n,type:"i32",size:a}},{isStatic:!0}),t}class _g extends rh{constructor(t){const n=Kv({name:"batch",bits:[Wv,iS(t),sS]}),l=Fv({name:"batch",bits:[Iv,tS(t),nS]});super({glProgram:n,gpuProgram:l,resources:{batchSamplers:aS(t)}}),this.maxTextures=t}}let Ha=null;const iy=class ny extends wv{constructor(t){super(t),this.geometry=new Dv,this.name=ny.extension.name,this.vertexSize=6,Ha??(Ha=new _g(t.maxTextures)),this.shader=Ha}packAttributes(t,n,l,u,o){const h=o<<16|t.roundPixels&65535,d=t.transform,m=d.a,p=d.b,g=d.c,x=d.d,v=d.tx,_=d.ty,{positions:S,uvs:A}=t,T=t.color,E=t.attributeOffset,N=E+t.attributeSize;for(let B=E;B<N;B++){const j=B*2,Q=S[j],P=S[j+1];n[u++]=m*Q+g*P+v,n[u++]=x*P+p*Q+_,n[u++]=A[j],n[u++]=A[j+1],l[u++]=T,l[u++]=h}}packQuadAttributes(t,n,l,u,o){const h=t.texture,d=t.transform,m=d.a,p=d.b,g=d.c,x=d.d,v=d.tx,_=d.ty,S=t.bounds,A=S.maxX,T=S.minX,E=S.maxY,N=S.minY,B=h.uvs,j=t.color,Q=o<<16|t.roundPixels&65535;n[u+0]=m*T+g*N+v,n[u+1]=x*N+p*T+_,n[u+2]=B.x0,n[u+3]=B.y0,l[u+4]=j,l[u+5]=Q,n[u+6]=m*A+g*N+v,n[u+7]=x*N+p*A+_,n[u+8]=B.x1,n[u+9]=B.y1,l[u+10]=j,l[u+11]=Q,n[u+12]=m*A+g*E+v,n[u+13]=x*E+p*A+_,n[u+14]=B.x2,n[u+15]=B.y2,l[u+16]=j,l[u+17]=Q,n[u+18]=m*T+g*E+v,n[u+19]=x*E+p*T+_,n[u+20]=B.x3,n[u+21]=B.y3,l[u+22]=j,l[u+23]=Q}_updateMaxTextures(t){this.shader.maxTextures!==t&&(Ha=new _g(t),this.shader=Ha)}destroy(){this.shader=null,super.destroy()}};iy.extension={type:[Et.Batcher],name:"default"};let lS=iy;function rS(a,t,n,l,u,o,h,d=null){let m=0;n*=t,u*=o;const p=d.a,g=d.b,x=d.c,v=d.d,_=d.tx,S=d.ty;for(;m<h;){const A=a[n],T=a[n+1];l[u]=p*A+x*T+_,l[u+1]=g*A+v*T+S,u+=o,n+=t,m++}}function uS(a,t,n,l){let u=0;for(t*=n;u<l;)a[t]=0,a[t+1]=0,t+=n,u++}function sy(a,t,n,l,u){const o=t.a,h=t.b,d=t.c,m=t.d,p=t.tx,g=t.ty;n||(n=0),l||(l=2),u||(u=a.length/l-n);let x=n*l;for(let v=0;v<u;v++){const _=a[x],S=a[x+1];a[x]=o*_+d*S+p,a[x+1]=h*_+m*S+g,x+=l}}const oS=new yt;class ay{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,n=t>>16|t&65280|(t&255)<<16,l=this.renderable;return l?o0(n,l.groupColor)+(this.alpha*l.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||oS}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const tl={extension:{type:Et.ShapeBuilder,name:"circle"},build(a,t){let n,l,u,o,h,d;if(a.type==="circle"){const j=a;if(h=d=j.radius,h<=0)return!1;n=j.x,l=j.y,u=o=0}else if(a.type==="ellipse"){const j=a;if(h=j.halfWidth,d=j.halfHeight,h<=0||d<=0)return!1;n=j.x,l=j.y,u=o=0}else{const j=a,Q=j.width/2,P=j.height/2;n=j.x+Q,l=j.y+P,h=d=Math.max(0,Math.min(j.radius,Math.min(Q,P))),u=Q-h,o=P-d}if(u<0||o<0)return!1;const m=Math.ceil(2.3*Math.sqrt(h+d)),p=m*8+(u?4:0)+(o?4:0);if(p===0)return!1;if(m===0)return t[0]=t[6]=n+u,t[1]=t[3]=l+o,t[2]=t[4]=n-u,t[5]=t[7]=l-o,!0;let g=0,x=m*4+(u?2:0)+2,v=x,_=p,S=u+h,A=o,T=n+S,E=n-S,N=l+A;if(t[g++]=T,t[g++]=N,t[--x]=N,t[--x]=E,o){const j=l-A;t[v++]=E,t[v++]=j,t[--_]=j,t[--_]=T}for(let j=1;j<m;j++){const Q=Math.PI/2*(j/m),P=u+Math.cos(Q)*h,k=o+Math.sin(Q)*d,it=n+P,K=n-P,F=l+k,I=l-k;t[g++]=it,t[g++]=F,t[--x]=F,t[--x]=K,t[v++]=K,t[v++]=I,t[--_]=I,t[--_]=it}S=u,A=o+d,T=n+S,E=n-S,N=l+A;const B=l-A;return t[g++]=T,t[g++]=N,t[--_]=B,t[--_]=T,u&&(t[g++]=E,t[g++]=N,t[--_]=B,t[--_]=E),!0},triangulate(a,t,n,l,u,o){if(a.length===0)return;let h=0,d=0;for(let g=0;g<a.length;g+=2)h+=a[g],d+=a[g+1];h/=a.length/2,d/=a.length/2;let m=l;t[m*n]=h,t[m*n+1]=d;const p=m++;for(let g=0;g<a.length;g+=2)t[m*n]=a[g],t[m*n+1]=a[g+1],g>0&&(u[o++]=m,u[o++]=p,u[o++]=m-1),m++;u[o++]=p+1,u[o++]=p,u[o++]=m-1}},cS={...tl,extension:{...tl.extension,name:"ellipse"}},hS={...tl,extension:{...tl.extension,name:"roundedRectangle"}},ly=1e-4,bg=1e-4;function fS(a){const t=a.length;if(t<6)return 1;let n=0;for(let l=0,u=a[t-2],o=a[t-1];l<t;l+=2){const h=a[l],d=a[l+1];n+=(h-u)*(d+o),u=h,o=d}return n<0?-1:1}function vg(a,t,n,l,u,o,h,d){const m=a-n*u,p=t-l*u,g=a+n*o,x=t+l*o;let v,_;h?(v=l,_=-n):(v=-l,_=n);const S=m+v,A=p+_,T=g+v,E=x+_;return d.push(S,A),d.push(T,E),2}function Un(a,t,n,l,u,o,h,d){const m=n-a,p=l-t;let g=Math.atan2(m,p),x=Math.atan2(u-a,o-t);d&&g<x?g+=Math.PI*2:!d&&g>x&&(x+=Math.PI*2);let v=g;const _=x-g,S=Math.abs(_),A=Math.sqrt(m*m+p*p),T=(15*S*Math.sqrt(A)/Math.PI>>0)+1,E=_/T;if(v+=E,d){h.push(a,t),h.push(n,l);for(let N=1,B=v;N<T;N++,B+=E)h.push(a,t),h.push(a+Math.sin(B)*A,t+Math.cos(B)*A);h.push(a,t),h.push(u,o)}else{h.push(n,l),h.push(a,t);for(let N=1,B=v;N<T;N++,B+=E)h.push(a+Math.sin(B)*A,t+Math.cos(B)*A),h.push(a,t);h.push(u,o),h.push(a,t)}return T*2}function dS(a,t,n,l,u,o){const h=ly;if(a.length===0)return;const d=t;let m=d.alignment;if(t.alignment!==.5){let tt=fS(a);m=(m-.5)*tt+.5}const p=new de(a[0],a[1]),g=new de(a[a.length-2],a[a.length-1]),x=l,v=Math.abs(p.x-g.x)<h&&Math.abs(p.y-g.y)<h;if(x){a=a.slice(),v&&(a.pop(),a.pop(),g.set(a[a.length-2],a[a.length-1]));const tt=(p.x+g.x)*.5,mt=(g.y+p.y)*.5;a.unshift(tt,mt),a.push(tt,mt)}const _=u,S=a.length/2;let A=a.length;const T=_.length/2,E=d.width/2,N=E*E,B=d.miterLimit*d.miterLimit;let j=a[0],Q=a[1],P=a[2],k=a[3],it=0,K=0,F=-(Q-k),I=j-P,ct=0,_t=0,bt=Math.sqrt(F*F+I*I);F/=bt,I/=bt,F*=E,I*=E;const ee=m,z=(1-ee)*2,Y=ee*2;x||(d.cap==="round"?A+=Un(j-F*(z-Y)*.5,Q-I*(z-Y)*.5,j-F*z,Q-I*z,j+F*Y,Q+I*Y,_,!0)+2:d.cap==="square"&&(A+=vg(j,Q,F,I,z,Y,!0,_))),_.push(j-F*z,Q-I*z),_.push(j+F*Y,Q+I*Y);for(let tt=1;tt<S-1;++tt){j=a[(tt-1)*2],Q=a[(tt-1)*2+1],P=a[tt*2],k=a[tt*2+1],it=a[(tt+1)*2],K=a[(tt+1)*2+1],F=-(Q-k),I=j-P,bt=Math.sqrt(F*F+I*I),F/=bt,I/=bt,F*=E,I*=E,ct=-(k-K),_t=P-it,bt=Math.sqrt(ct*ct+_t*_t),ct/=bt,_t/=bt,ct*=E,_t*=E;const mt=P-j,w=Q-k,X=P-it,Z=K-k,W=mt*X+w*Z,lt=w*X-Z*mt,ut=lt<0;if(Math.abs(lt)<.001*Math.abs(W)){_.push(P-F*z,k-I*z),_.push(P+F*Y,k+I*Y),W>=0&&(d.join==="round"?A+=Un(P,k,P-F*z,k-I*z,P-ct*z,k-_t*z,_,!1)+4:A+=2,_.push(P-ct*Y,k-_t*Y),_.push(P+ct*z,k+_t*z));continue}const vt=(-F+j)*(-I+k)-(-F+P)*(-I+Q),ie=(-ct+it)*(-_t+k)-(-ct+P)*(-_t+K),Gt=(mt*ie-X*vt)/lt,ci=(Z*vt-w*ie)/lt,Xi=(Gt-P)*(Gt-P)+(ci-k)*(ci-k),Je=P+(Gt-P)*z,hi=k+(ci-k)*z,me=P-(Gt-P)*Y,$e=k-(ci-k)*Y,Hs=Math.min(mt*mt+w*w,X*X+Z*Z),il=ut?z:Y,nl=Hs+il*il*N;Xi<=nl?d.join==="bevel"||Xi/N>B?(ut?(_.push(Je,hi),_.push(P+F*Y,k+I*Y),_.push(Je,hi),_.push(P+ct*Y,k+_t*Y)):(_.push(P-F*z,k-I*z),_.push(me,$e),_.push(P-ct*z,k-_t*z),_.push(me,$e)),A+=2):d.join==="round"?ut?(_.push(Je,hi),_.push(P+F*Y,k+I*Y),A+=Un(P,k,P+F*Y,k+I*Y,P+ct*Y,k+_t*Y,_,!0)+4,_.push(Je,hi),_.push(P+ct*Y,k+_t*Y)):(_.push(P-F*z,k-I*z),_.push(me,$e),A+=Un(P,k,P-F*z,k-I*z,P-ct*z,k-_t*z,_,!1)+4,_.push(P-ct*z,k-_t*z),_.push(me,$e)):(_.push(Je,hi),_.push(me,$e)):(_.push(P-F*z,k-I*z),_.push(P+F*Y,k+I*Y),d.join==="round"?ut?A+=Un(P,k,P+F*Y,k+I*Y,P+ct*Y,k+_t*Y,_,!0)+2:A+=Un(P,k,P-F*z,k-I*z,P-ct*z,k-_t*z,_,!1)+2:d.join==="miter"&&Xi/N<=B&&(ut?(_.push(me,$e),_.push(me,$e)):(_.push(Je,hi),_.push(Je,hi)),A+=2),_.push(P-ct*z,k-_t*z),_.push(P+ct*Y,k+_t*Y),A+=2)}j=a[(S-2)*2],Q=a[(S-2)*2+1],P=a[(S-1)*2],k=a[(S-1)*2+1],F=-(Q-k),I=j-P,bt=Math.sqrt(F*F+I*I),F/=bt,I/=bt,F*=E,I*=E,_.push(P-F*z,k-I*z),_.push(P+F*Y,k+I*Y),x||(d.cap==="round"?A+=Un(P-F*(z-Y)*.5,k-I*(z-Y)*.5,P-F*z,k-I*z,P+F*Y,k+I*Y,_,!1)+2:d.cap==="square"&&(A+=vg(P,k,F,I,z,Y,!1,_)));const st=bg*bg;for(let tt=T;tt<A+T-2;++tt)j=_[tt*2],Q=_[tt*2+1],P=_[(tt+1)*2],k=_[(tt+1)*2+1],it=_[(tt+2)*2],K=_[(tt+2)*2+1],!(Math.abs(j*(k-K)+P*(K-Q)+it*(Q-k))<st)&&o.push(tt,tt+1,tt+2)}function mS(a,t,n,l){const u=ly;if(a.length===0)return;const o=a[0],h=a[1],d=a[a.length-2],m=a[a.length-1],p=t||Math.abs(o-d)<u&&Math.abs(h-m)<u,g=n,x=a.length/2,v=g.length/2;for(let _=0;_<x;_++)g.push(a[_*2]),g.push(a[_*2+1]);for(let _=0;_<x-1;_++)l.push(v+_,v+_+1);p&&l.push(v+x-1,v)}function ry(a,t,n,l,u,o,h){const d=$1(a,t,2);if(!d)return;for(let p=0;p<d.length;p+=3)o[h++]=d[p]+u,o[h++]=d[p+1]+u,o[h++]=d[p+2]+u;let m=u*l;for(let p=0;p<a.length;p+=2)n[m]=a[p],n[m+1]=a[p+1],m+=l}const pS=[],gS={extension:{type:Et.ShapeBuilder,name:"polygon"},build(a,t){for(let n=0;n<a.points.length;n++)t[n]=a.points[n];return!0},triangulate(a,t,n,l,u,o){ry(a,pS,t,n,l,u,o)}},yS={extension:{type:Et.ShapeBuilder,name:"rectangle"},build(a,t){const n=a,l=n.x,u=n.y,o=n.width,h=n.height;return o>0&&h>0?(t[0]=l,t[1]=u,t[2]=l+o,t[3]=u,t[4]=l+o,t[5]=u+h,t[6]=l,t[7]=u+h,!0):!1},triangulate(a,t,n,l,u,o){let h=0;l*=n,t[l+h]=a[0],t[l+h+1]=a[1],h+=n,t[l+h]=a[2],t[l+h+1]=a[3],h+=n,t[l+h]=a[6],t[l+h+1]=a[7],h+=n,t[l+h]=a[4],t[l+h+1]=a[5],h+=n;const d=l/n;u[o++]=d,u[o++]=d+1,u[o++]=d+2,u[o++]=d+1,u[o++]=d+3,u[o++]=d+2}},xS={extension:{type:Et.ShapeBuilder,name:"triangle"},build(a,t){return t[0]=a.x,t[1]=a.y,t[2]=a.x2,t[3]=a.y2,t[4]=a.x3,t[5]=a.y3,!0},triangulate(a,t,n,l,u,o){let h=0;l*=n,t[l+h]=a[0],t[l+h+1]=a[1],h+=n,t[l+h]=a[2],t[l+h+1]=a[3],h+=n,t[l+h]=a[4],t[l+h+1]=a[5];const d=l/n;u[o++]=d,u[o++]=d+1,u[o++]=d+2}},_S=new yt,bS=new Zt;function vS(a,t,n,l){const u=t.matrix?a.copyFrom(t.matrix).invert():a.identity();if(t.textureSpace==="local"){const h=n.getBounds(bS);t.width&&h.pad(t.width);const{x:d,y:m}=h,p=1/h.width,g=1/h.height,x=-d*p,v=-m*g,_=u.a,S=u.b,A=u.c,T=u.d;u.a*=p,u.b*=p,u.c*=g,u.d*=g,u.tx=x*_+v*A+u.tx,u.ty=x*S+v*T+u.ty}else u.translate(t.texture.frame.x,t.texture.frame.y),u.scale(1/t.texture.source.width,1/t.texture.source.height);const o=t.texture.source.style;return!(t.fill instanceof qi)&&o.addressMode==="clamp-to-edge"&&(o.addressMode="repeat",o.update()),l&&u.append(_S.copyFrom(l).invert()),u}const Fr={};We.handleByMap(Et.ShapeBuilder,Fr);We.add(yS,gS,xS,tl,cS,hS);const SS=new Zt,TS=new yt;function AS(a,t){const{geometryData:n,batches:l}=t;l.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let u=0;u<a.instructions.length;u++){const o=a.instructions[u];if(o.action==="texture")MS(o.data,l,n);else if(o.action==="fill"||o.action==="stroke"){const h=o.action==="stroke",d=o.data.path.shapePath,m=o.data.style,p=o.data.hole;h&&p&&Sg(p.shapePath,m,!0,l,n),p&&(d.shapePrimitives[d.shapePrimitives.length-1].holes=p.shapePath.shapePrimitives),Sg(d,m,h,l,n)}}}function MS(a,t,n){const l=[],u=Fr.rectangle,o=SS;o.x=a.dx,o.y=a.dy,o.width=a.dw,o.height=a.dh;const h=a.transform;if(!u.build(o,l))return;const{vertices:d,uvs:m,indices:p}=n,g=p.length,x=d.length/2;h&&sy(l,h),u.triangulate(l,d,2,x,p,g);const v=a.image,_=v.uvs;m.push(_.x0,_.y0,_.x1,_.y1,_.x3,_.y3,_.x2,_.y2);const S=Ie.get(ay);S.indexOffset=g,S.indexSize=p.length-g,S.attributeOffset=x,S.attributeSize=d.length/2-x,S.baseColor=a.style,S.alpha=a.alpha,S.texture=v,S.geometryData=n,t.push(S)}function Sg(a,t,n,l,u){const{vertices:o,uvs:h,indices:d}=u;a.shapePrimitives.forEach(({shape:m,transform:p,holes:g})=>{const x=[],v=Fr[m.type];if(!v.build(m,x))return;const _=d.length,S=o.length/2;let A="triangle-list";if(p&&sy(x,p),n){const B=m.closePath??!0,j=t;j.pixelLine?(mS(x,B,o,d),A="line-list"):dS(x,j,!1,B,o,d)}else if(g){const B=[],j=x.slice();CS(g).forEach(P=>{B.push(j.length/2),j.push(...P)}),ry(j,B,o,2,S,d,_)}else v.triangulate(x,o,2,S,d,_);const T=h.length/2,E=t.texture;if(E!==Nt.WHITE){const B=vS(TS,t,m,p);rS(o,2,S,h,T,2,o.length/2-S,B)}else uS(h,T,2,o.length/2-S);const N=Ie.get(ay);N.indexOffset=_,N.indexSize=d.length-_,N.attributeOffset=S,N.attributeSize=o.length/2-S,N.baseColor=t.color,N.alpha=t.alpha,N.texture=E,N.geometryData=u,N.topology=A,l.push(N)})}function CS(a){const t=[];for(let n=0;n<a.length;n++){const l=a[n].shape,u=[];Fr[l.type].build(l,u)&&t.push(u)}return t}class wS{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class ES{constructor(){this.instructions=new d0}init(t){const n=t.maxTextures;this.batcher?this.batcher._updateMaxTextures(n):this.batcher=new lS({maxTextures:n}),this.instructions.reset()}get geometry(){return Mt(Sb,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const fh=class Jc{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){Jc.defaultOptions.bezierSmoothness=t?.bezierSmoothness??Jc.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let n=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){n?this._cleanGraphicsContextData(t):n=this._initContext(t),AS(t,n);const l=t.batchMode;t.customShader||l==="no-batch"?n.isBatchable=!1:l==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,t.dirty=!1}return n}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const n=Ie.get(ES,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:l,geometryData:u}=this._gpuContextHash[t.uid],o=u.vertices.length,h=u.indices.length;for(let g=0;g<l.length;g++)l[g].applyTransform=!1;const d=n.batcher;d.ensureAttributeBuffer(o),d.ensureIndexBuffer(h),d.begin();for(let g=0;g<l.length;g++){const x=l[g];d.add(x)}d.finish(n.instructions);const m=d.geometry;m.indexBuffer.setDataWithSize(d.indexBuffer,d.indexSize,!0),m.buffers[0].setDataWithSize(d.attributeBuffer.float32View,d.attributeSize,!0);const p=d.batches;for(let g=0;g<p.length;g++){const x=p[g];x.bindGroup=yv(x.textures.textures,x.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[t.uid]=n,n}_initContext(t){const n=new wS;return n.context=t,this._gpuContextHash[t.uid]=n,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const n=this._gpuContextHash[t.uid];n.isBatchable||this._graphicsDataContextHash[t.uid]&&(Ie.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),n.batches&&n.batches.forEach(l=>{Ie.return(l)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};fh.extension={type:[Et.WebGLSystem,Et.WebGPUSystem,Et.CanvasSystem],name:"graphicsContext"};fh.defaultOptions={bezierSmoothness:.5};let uy=fh;const zS=8,Ur=11920929e-14,RS=1;function oy(a,t,n,l,u,o,h,d,m,p){const x=Math.min(.99,Math.max(0,p??uy.defaultOptions.bezierSmoothness));let v=(RS-x)/1;return v*=v,BS(t,n,l,u,o,h,d,m,a,v),a}function BS(a,t,n,l,u,o,h,d,m,p){$c(a,t,n,l,u,o,h,d,m,p,0),m.push(h,d)}function $c(a,t,n,l,u,o,h,d,m,p,g){if(g>zS)return;const x=(a+n)/2,v=(t+l)/2,_=(n+u)/2,S=(l+o)/2,A=(u+h)/2,T=(o+d)/2,E=(x+_)/2,N=(v+S)/2,B=(_+A)/2,j=(S+T)/2,Q=(E+B)/2,P=(N+j)/2;if(g>0){let k=h-a,it=d-t;const K=Math.abs((n-h)*it-(l-d)*k),F=Math.abs((u-h)*it-(o-d)*k);if(K>Ur&&F>Ur){if((K+F)*(K+F)<=p*(k*k+it*it)){m.push(Q,P);return}}else if(K>Ur){if(K*K<=p*(k*k+it*it)){m.push(Q,P);return}}else if(F>Ur){if(F*F<=p*(k*k+it*it)){m.push(Q,P);return}}else if(k=Q-(a+h)/2,it=P-(t+d)/2,k*k+it*it<=p){m.push(Q,P);return}}$c(a,t,x,v,E,N,Q,P,m,p,g+1),$c(Q,P,B,j,A,T,h,d,m,p,g+1)}const NS=8,DS=11920929e-14,OS=1;function GS(a,t,n,l,u,o,h,d){const p=Math.min(.99,Math.max(0,d??uy.defaultOptions.bezierSmoothness));let g=(OS-p)/1;return g*=g,US(t,n,l,u,o,h,a,g),a}function US(a,t,n,l,u,o,h,d){th(h,a,t,n,l,u,o,d,0),h.push(u,o)}function th(a,t,n,l,u,o,h,d,m){if(m>NS)return;const p=(t+l)/2,g=(n+u)/2,x=(l+o)/2,v=(u+h)/2,_=(p+x)/2,S=(g+v)/2;let A=o-t,T=h-n;const E=Math.abs((l-o)*T-(u-h)*A);if(E>DS){if(E*E<=d*(A*A+T*T)){a.push(_,S);return}}else if(A=_-(t+o)/2,T=S-(n+h)/2,A*A+T*T<=d){a.push(_,S);return}th(a,t,n,p,g,_,S,d,m+1),th(a,_,S,x,v,o,h,d,m+1)}function cy(a,t,n,l,u,o,h,d){let m=Math.abs(u-o);(!h&&u>o||h&&o>u)&&(m=2*Math.PI-m),d||(d=Math.max(6,Math.floor(6*Math.pow(l,1/3)*(m/Math.PI)))),d=Math.max(d,3);let p=m/d,g=u;p*=h?-1:1;for(let x=0;x<d+1;x++){const v=Math.cos(g),_=Math.sin(g),S=t+v*l,A=n+_*l;a.push(S,A),g+=p}}function jS(a,t,n,l,u,o){const h=a[a.length-2],m=a[a.length-1]-n,p=h-t,g=u-n,x=l-t,v=Math.abs(m*x-p*g);if(v<1e-8||o===0){(a[a.length-2]!==t||a[a.length-1]!==n)&&a.push(t,n);return}const _=m*m+p*p,S=g*g+x*x,A=m*g+p*x,T=o*Math.sqrt(_)/v,E=o*Math.sqrt(S)/v,N=T*A/_,B=E*A/S,j=T*x+E*p,Q=T*g+E*m,P=p*(E+N),k=m*(E+N),it=x*(T+B),K=g*(T+B),F=Math.atan2(k-Q,P-j),I=Math.atan2(K-Q,it-j);cy(a,j+t,Q+n,o,F,I,p*g>x*m)}const Za=Math.PI*2,Uc={centerX:0,centerY:0,ang1:0,ang2:0},jc=({x:a,y:t},n,l,u,o,h,d,m)=>{a*=n,t*=l;const p=u*a-o*t,g=o*a+u*t;return m.x=p+h,m.y=g+d,m};function HS(a,t){const n=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),l=t===1.5707963267948966?.551915024494:n,u=Math.cos(a),o=Math.sin(a),h=Math.cos(a+t),d=Math.sin(a+t);return[{x:u-o*l,y:o+u*l},{x:h+d*l,y:d-h*l},{x:h,y:d}]}const Tg=(a,t,n,l)=>{const u=a*l-t*n<0?-1:1;let o=a*n+t*l;return o>1&&(o=1),o<-1&&(o=-1),u*Math.acos(o)},kS=(a,t,n,l,u,o,h,d,m,p,g,x,v)=>{const _=Math.pow(u,2),S=Math.pow(o,2),A=Math.pow(g,2),T=Math.pow(x,2);let E=_*S-_*T-S*A;E<0&&(E=0),E/=_*T+S*A,E=Math.sqrt(E)*(h===d?-1:1);const N=E*u/o*x,B=E*-o/u*g,j=p*N-m*B+(a+n)/2,Q=m*N+p*B+(t+l)/2,P=(g-N)/u,k=(x-B)/o,it=(-g-N)/u,K=(-x-B)/o,F=Tg(1,0,P,k);let I=Tg(P,k,it,K);d===0&&I>0&&(I-=Za),d===1&&I<0&&(I+=Za),v.centerX=j,v.centerY=Q,v.ang1=F,v.ang2=I};function LS(a,t,n,l,u,o,h,d=0,m=0,p=0){if(o===0||h===0)return;const g=Math.sin(d*Za/360),x=Math.cos(d*Za/360),v=x*(t-l)/2+g*(n-u)/2,_=-g*(t-l)/2+x*(n-u)/2;if(v===0&&_===0)return;o=Math.abs(o),h=Math.abs(h);const S=Math.pow(v,2)/Math.pow(o,2)+Math.pow(_,2)/Math.pow(h,2);S>1&&(o*=Math.sqrt(S),h*=Math.sqrt(S)),kS(t,n,l,u,o,h,m,p,g,x,v,_,Uc);let{ang1:A,ang2:T}=Uc;const{centerX:E,centerY:N}=Uc;let B=Math.abs(T)/(Za/4);Math.abs(1-B)<1e-7&&(B=1);const j=Math.max(Math.ceil(B),1);T/=j;let Q=a[a.length-2],P=a[a.length-1];const k={x:0,y:0};for(let it=0;it<j;it++){const K=HS(A,T),{x:F,y:I}=jc(K[0],o,h,x,g,E,N,k),{x:ct,y:_t}=jc(K[1],o,h,x,g,E,N,k),{x:bt,y:ee}=jc(K[2],o,h,x,g,E,N,k);oy(a,Q,P,F,I,ct,_t,bt,ee),Q=bt,P=ee,A+=T}}function YS(a,t,n){const l=(h,d)=>{const m=d.x-h.x,p=d.y-h.y,g=Math.sqrt(m*m+p*p),x=m/g,v=p/g;return{len:g,nx:x,ny:v}},u=(h,d)=>{h===0?a.moveTo(d.x,d.y):a.lineTo(d.x,d.y)};let o=t[t.length-1];for(let h=0;h<t.length;h++){const d=t[h%t.length],m=d.radius??n;if(m<=0){u(h,d),o=d;continue}const p=t[(h+1)%t.length],g=l(d,o),x=l(d,p);if(g.len<1e-4||x.len<1e-4){u(h,d),o=d;continue}let v=Math.asin(g.nx*x.ny-g.ny*x.nx),_=1,S=!1;g.nx*x.nx-g.ny*-x.ny<0?v<0?v=Math.PI+v:(v=Math.PI-v,_=-1,S=!0):v>0&&(_=-1,S=!0);const A=v/2;let T,E=Math.abs(Math.cos(A)*m/Math.sin(A));E>Math.min(g.len/2,x.len/2)?(E=Math.min(g.len/2,x.len/2),T=Math.abs(E*Math.sin(A)/Math.cos(A))):T=m;const N=d.x+x.nx*E+-x.ny*T*_,B=d.y+x.ny*E+x.nx*T*_,j=Math.atan2(g.ny,g.nx)+Math.PI/2*_,Q=Math.atan2(x.ny,x.nx)-Math.PI/2*_;h===0&&a.moveTo(N+Math.cos(j)*T,B+Math.sin(j)*T),a.arc(N,B,T,j,Q,S),o=d}}function qS(a,t,n,l){const u=(d,m)=>Math.sqrt((d.x-m.x)**2+(d.y-m.y)**2),o=(d,m,p)=>({x:d.x+(m.x-d.x)*p,y:d.y+(m.y-d.y)*p}),h=t.length;for(let d=0;d<h;d++){const m=t[(d+1)%h],p=m.radius??n;if(p<=0){d===0?a.moveTo(m.x,m.y):a.lineTo(m.x,m.y);continue}const g=t[d],x=t[(d+2)%h],v=u(g,m);let _;if(v<1e-4)_=m;else{const T=Math.min(v/2,p);_=o(m,g,T/v)}const S=u(x,m);let A;if(S<1e-4)A=m;else{const T=Math.min(S/2,p);A=o(m,x,T/S)}d===0?a.moveTo(_.x,_.y):a.lineTo(_.x,_.y),a.quadraticCurveTo(m.x,m.y,A.x,A.y,l)}}const XS=new Zt;class VS{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new ri,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,n){return this.startPoly(t,n),this}lineTo(t,n){this._ensurePoly();const l=this._currentPoly.points,u=l[l.length-2],o=l[l.length-1];return(u!==t||o!==n)&&l.push(t,n),this}arc(t,n,l,u,o,h){this._ensurePoly(!1);const d=this._currentPoly.points;return cy(d,t,n,l,u,o,h),this}arcTo(t,n,l,u,o){this._ensurePoly();const h=this._currentPoly.points;return jS(h,t,n,l,u,o),this}arcToSvg(t,n,l,u,o,h,d){const m=this._currentPoly.points;return LS(m,this._currentPoly.lastX,this._currentPoly.lastY,h,d,t,n,l,u,o),this}bezierCurveTo(t,n,l,u,o,h,d){this._ensurePoly();const m=this._currentPoly;return oy(this._currentPoly.points,m.lastX,m.lastY,t,n,l,u,o,h,d),this}quadraticCurveTo(t,n,l,u,o){this._ensurePoly();const h=this._currentPoly;return GS(this._currentPoly.points,h.lastX,h.lastY,t,n,l,u,o),this}closePath(){return this.endPoly(!0),this}addPath(t,n){this.endPoly(),n&&!n.isIdentity()&&(t=t.clone(!0),t.transform(n));const l=this.shapePrimitives,u=l.length;for(let o=0;o<t.instructions.length;o++){const h=t.instructions[o];this[h.action](...h.data)}if(t.checkForHoles&&l.length-u>1){let o=null;for(let h=u;h<l.length;h++){const d=l[h];if(d.shape.type==="polygon"){const m=d.shape,p=o?.shape;p&&p.containsPolygon(m)?(o.holes||(o.holes=[]),o.holes.push(d),l.copyWithin(h,h+1),l.length--,h--):o=d}}}return this}finish(t=!1){this.endPoly(t)}rect(t,n,l,u,o){return this.drawShape(new Zt(t,n,l,u),o),this}circle(t,n,l,u){return this.drawShape(new oh(t,n,l),u),this}poly(t,n,l){const u=new Pa(t);return u.closePath=n,this.drawShape(u,l),this}regularPoly(t,n,l,u,o=0,h){u=Math.max(u|0,3);const d=-1*Math.PI/2+o,m=Math.PI*2/u,p=[];for(let g=0;g<u;g++){const x=d-g*m;p.push(t+l*Math.cos(x),n+l*Math.sin(x))}return this.poly(p,!0,h),this}roundPoly(t,n,l,u,o,h=0,d){if(u=Math.max(u|0,3),o<=0)return this.regularPoly(t,n,l,u,h);const m=l*Math.sin(Math.PI/u)-.001;o=Math.min(o,m);const p=-1*Math.PI/2+h,g=Math.PI*2/u,x=(u-2)*Math.PI/u/2;for(let v=0;v<u;v++){const _=v*g+p,S=t+l*Math.cos(_),A=n+l*Math.sin(_),T=_+Math.PI+x,E=_-Math.PI-x,N=S+o*Math.cos(T),B=A+o*Math.sin(T),j=S+o*Math.cos(E),Q=A+o*Math.sin(E);v===0?this.moveTo(N,B):this.lineTo(N,B),this.quadraticCurveTo(S,A,j,Q,d)}return this.closePath()}roundShape(t,n,l=!1,u){return t.length<3?this:(l?qS(this,t,n,u):YS(this,t,n),this.closePath())}filletRect(t,n,l,u,o){if(o===0)return this.rect(t,n,l,u);const h=Math.min(l,u)/2,d=Math.min(h,Math.max(-h,o)),m=t+l,p=n+u,g=d<0?-d:0,x=Math.abs(d);return this.moveTo(t,n+x).arcTo(t+g,n+g,t+x,n,x).lineTo(m-x,n).arcTo(m-g,n+g,m,n+x,x).lineTo(m,p-x).arcTo(m-g,p-g,t+l-x,p,x).lineTo(t+x,p).arcTo(t+g,p-g,t,p-x,x).closePath()}chamferRect(t,n,l,u,o,h){if(o<=0)return this.rect(t,n,l,u);const d=Math.min(o,Math.min(l,u)/2),m=t+l,p=n+u,g=[t+d,n,m-d,n,m,n+d,m,p-d,m-d,p,t+d,p,t,p-d,t,n+d];for(let x=g.length-1;x>=2;x-=2)g[x]===g[x-2]&&g[x-1]===g[x-3]&&g.splice(x-1,2);return this.poly(g,!0,h)}ellipse(t,n,l,u,o){return this.drawShape(new ch(t,n,l,u),o),this}roundRect(t,n,l,u,o,h){return this.drawShape(new hh(t,n,l,u,o),h),this}drawShape(t,n){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:n}),this}startPoly(t,n){let l=this._currentPoly;return l&&this.endPoly(),l=new Pa,l.points.push(t,n),this._currentPoly=l,this}endPoly(t=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=t,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new Pa,t)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let l=n.shape.x,u=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const o=n.transform,h=l;l=o.a*l+o.c*u+o.tx,u=o.b*h+o.d*u+o.ty}this._currentPoly.points.push(l,u)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<t.instructions.length;n++){const l=t.instructions[n];this[l.action](...l.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const n=this.shapePrimitives;for(let l=0;l<n.length;l++){const u=n[l],o=u.shape.getBounds(XS);u.transform?t.addRect(o,u.transform):t.addRect(o)}return t}}class Yi{constructor(t,n=!1){this.instructions=[],this.uid=Vt("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof t=="string"?dv(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new VS(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,n){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,n]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,n,l,u,o){const h=this.instructions[this.instructions.length-1],d=this.getLastPoint(de.shared);let m=0,p=0;if(!h||h.action!=="bezierCurveTo")m=d.x,p=d.y;else{m=h.data[2],p=h.data[3];const g=d.x,x=d.y;m=g+(g-m),p=x+(x-p)}return this.instructions.push({action:"bezierCurveTo",data:[m,p,t,n,l,u,o]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,n,l){const u=this.instructions[this.instructions.length-1],o=this.getLastPoint(de.shared);let h=0,d=0;if(!u||u.action!=="quadraticCurveTo")h=o.x,d=o.y;else{h=u.data[0],d=u.data[1];const m=o.x,p=o.y;h=m+(m-h),d=p+(p-d)}return this.instructions.push({action:"quadraticCurveTo",data:[h,d,t,n,l]}),this._dirty=!0,this}rect(t,n,l,u,o){return this.instructions.push({action:"rect",data:[t,n,l,u,o]}),this._dirty=!0,this}circle(t,n,l,u){return this.instructions.push({action:"circle",data:[t,n,l,u]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,n,l,u,o,h,d){o||(o=u/2);const m=-1*Math.PI/2+h,p=l*2,g=Math.PI*2/p,x=[];for(let v=0;v<p;v++){const _=v%2?o:u,S=v*g+m;x.push(t+_*Math.cos(S),n+_*Math.sin(S))}return this.poly(x,!0,d),this}clone(t=!1){const n=new Yi;if(n.checkForHoles=this.checkForHoles,!t)n.instructions=this.instructions.slice();else for(let l=0;l<this.instructions.length;l++){const u=this.instructions[l];n.instructions.push({action:u.action,data:u.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const n=t.a,l=t.b,u=t.c,o=t.d,h=t.tx,d=t.ty;let m=0,p=0,g=0,x=0,v=0,_=0,S=0,A=0;for(let T=0;T<this.instructions.length;T++){const E=this.instructions[T],N=E.data;switch(E.action){case"moveTo":case"lineTo":m=N[0],p=N[1],N[0]=n*m+u*p+h,N[1]=l*m+o*p+d;break;case"bezierCurveTo":g=N[0],x=N[1],v=N[2],_=N[3],m=N[4],p=N[5],N[0]=n*g+u*x+h,N[1]=l*g+o*x+d,N[2]=n*v+u*_+h,N[3]=l*v+o*_+d,N[4]=n*m+u*p+h,N[5]=l*m+o*p+d;break;case"quadraticCurveTo":g=N[0],x=N[1],m=N[2],p=N[3],N[0]=n*g+u*x+h,N[1]=l*g+o*x+d,N[2]=n*m+u*p+h,N[3]=l*m+o*p+d;break;case"arcToSvg":m=N[5],p=N[6],S=N[0],A=N[1],N[0]=n*S+u*A,N[1]=l*S+o*A,N[5]=n*m+u*p+h,N[6]=l*m+o*p+d;break;case"circle":N[4]=ka(N[3],t);break;case"rect":N[4]=ka(N[4],t);break;case"ellipse":N[8]=ka(N[8],t);break;case"roundRect":N[5]=ka(N[5],t);break;case"addPath":N[0].transform(t);break;case"poly":N[2]=ka(N[2],t);break;default:ye("unknown transform action",E.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let n=this.instructions.length-1,l=this.instructions[n];if(!l)return t.x=0,t.y=0,t;for(;l.action==="closePath";){if(n--,n<0)return t.x=0,t.y=0,t;l=this.instructions[n]}switch(l.action){case"moveTo":case"lineTo":t.x=l.data[0],t.y=l.data[1];break;case"quadraticCurveTo":t.x=l.data[2],t.y=l.data[3];break;case"bezierCurveTo":t.x=l.data[4],t.y=l.data[5];break;case"arc":case"arcToSvg":t.x=l.data[5],t.y=l.data[6];break;case"addPath":l.data[0].getLastPoint(t);break}return t}}function ka(a,t){return a?a.prepend(t):t.clone()}function qt(a,t,n){const l=a.getAttribute(t);return l?Number(l):n}function PS(a,t){const n=a.querySelectorAll("defs");for(let l=0;l<n.length;l++){const u=n[l];for(let o=0;o<u.children.length;o++){const h=u.children[o];switch(h.nodeName.toLowerCase()){case"lineargradient":t.defs[h.id]=QS(h);break;case"radialgradient":t.defs[h.id]=ZS();break}}}}function QS(a){const t=qt(a,"x1",0),n=qt(a,"y1",0),l=qt(a,"x2",1),u=qt(a,"y2",0),o=a.getAttribute("gradientUnits")||"objectBoundingBox",h=new qi(t,n,l,u,o==="objectBoundingBox"?"local":"global");for(let d=0;d<a.children.length;d++){const m=a.children[d],p=qt(m,"offset",0),g=te.shared.setValue(m.getAttribute("stop-color")).toNumber();h.addColorStop(p,g)}return h}function ZS(a){return ye("[SVG Parser] Radial gradients are not yet supported"),new qi(0,0,1,0)}function Ag(a){const t=a.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const Mg={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function hy(a,t){const n=a.getAttribute("style"),l={},u={},o={strokeStyle:l,fillStyle:u,useFill:!1,useStroke:!1};for(const h in Mg){const d=a.getAttribute(h);d&&Cg(t,o,h,d.trim())}if(n){const h=n.split(";");for(let d=0;d<h.length;d++){const m=h[d].trim(),[p,g]=m.split(":");Mg[p]&&Cg(t,o,p,g.trim())}}return{strokeStyle:o.useStroke?l:null,fillStyle:o.useFill?u:null,useFill:o.useFill,useStroke:o.useStroke}}function Cg(a,t,n,l){switch(n){case"stroke":if(l!=="none"){if(l.startsWith("url(")){const u=Ag(l);t.strokeStyle.fill=a.defs[u]}else t.strokeStyle.color=te.shared.setValue(l).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(l);break;case"fill":if(l!=="none"){if(l.startsWith("url(")){const u=Ag(l);t.fillStyle.fill=a.defs[u]}else t.fillStyle.color=te.shared.setValue(l).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(l);break;case"stroke-opacity":t.strokeStyle.alpha=Number(l);break;case"opacity":t.fillStyle.alpha=Number(l),t.strokeStyle.alpha=Number(l);break}}function FS(a){if(a.length<=2)return!0;const t=a.map(d=>d.area).sort((d,m)=>m-d),[n,l]=t,u=t[t.length-1],o=n/l,h=l/u;return!(o>3&&h<2)}function KS(a){return a.split(/(?=[Mm])/).filter(l=>l.trim().length>0)}function IS(a){const t=a.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!t||t.length<4)return 0;const n=t.map(Number),l=[],u=[];for(let g=0;g<n.length;g+=2)g+1<n.length&&(l.push(n[g]),u.push(n[g+1]));if(l.length===0||u.length===0)return 0;const o=Math.min(...l),h=Math.max(...l),d=Math.min(...u),m=Math.max(...u);return(h-o)*(m-d)}function wg(a,t){const n=new Yi(a,!1);for(const l of n.instructions)t.instructions.push(l)}function WS(a,t){if(typeof a=="string"){const h=document.createElement("div");h.innerHTML=a.trim(),a=h.querySelector("svg")}const n={context:t,defs:{},path:new Yi};PS(a,n);const l=a.children,{fillStyle:u,strokeStyle:o}=hy(a,n);for(let h=0;h<l.length;h++){const d=l[h];d.nodeName.toLowerCase()!=="defs"&&fy(d,n,u,o)}return t}function fy(a,t,n,l){const u=a.children,{fillStyle:o,strokeStyle:h}=hy(a,t);o&&n?n={...n,...o}:o&&(n=o),h&&l?l={...l,...h}:h&&(l=h);const d=!n&&!l;d&&(n={color:0});let m,p,g,x,v,_,S,A,T,E,N,B,j,Q,P,k,it;switch(a.nodeName.toLowerCase()){case"path":{Q=a.getAttribute("d");const K=a.getAttribute("fill-rule"),F=KS(Q),I=K==="evenodd",ct=F.length>1;if(I&&ct){const bt=F.map(z=>({path:z,area:IS(z)}));if(bt.sort((z,Y)=>Y.area-z.area),F.length>3||!FS(bt))for(let z=0;z<bt.length;z++){const Y=bt[z],st=z===0;t.context.beginPath();const tt=new Yi(void 0,!0);wg(Y.path,tt),t.context.path(tt),st?(n&&t.context.fill(n),l&&t.context.stroke(l)):t.context.cut()}else for(let z=0;z<bt.length;z++){const Y=bt[z],st=z%2===1;t.context.beginPath();const tt=new Yi(void 0,!0);wg(Y.path,tt),t.context.path(tt),st?t.context.cut():(n&&t.context.fill(n),l&&t.context.stroke(l))}}else{const bt=K?K==="evenodd":!0;P=new Yi(Q,bt),t.context.path(P),n&&t.context.fill(n),l&&t.context.stroke(l)}break}case"circle":S=qt(a,"cx",0),A=qt(a,"cy",0),T=qt(a,"r",0),t.context.ellipse(S,A,T,T),n&&t.context.fill(n),l&&t.context.stroke(l);break;case"rect":m=qt(a,"x",0),p=qt(a,"y",0),k=qt(a,"width",0),it=qt(a,"height",0),E=qt(a,"rx",0),N=qt(a,"ry",0),E||N?t.context.roundRect(m,p,k,it,E||N):t.context.rect(m,p,k,it),n&&t.context.fill(n),l&&t.context.stroke(l);break;case"ellipse":S=qt(a,"cx",0),A=qt(a,"cy",0),E=qt(a,"rx",0),N=qt(a,"ry",0),t.context.beginPath(),t.context.ellipse(S,A,E,N),n&&t.context.fill(n),l&&t.context.stroke(l);break;case"line":g=qt(a,"x1",0),x=qt(a,"y1",0),v=qt(a,"x2",0),_=qt(a,"y2",0),t.context.beginPath(),t.context.moveTo(g,x),t.context.lineTo(v,_),l&&t.context.stroke(l);break;case"polygon":j=a.getAttribute("points"),B=j.match(/\d+/g).map(K=>parseInt(K,10)),t.context.poly(B,!0),n&&t.context.fill(n),l&&t.context.stroke(l);break;case"polyline":j=a.getAttribute("points"),B=j.match(/\d+/g).map(K=>parseInt(K,10)),t.context.poly(B,!1),l&&t.context.stroke(l);break;case"g":case"svg":break;default:{ye(`[SVG parser] <${a.nodeName}> elements unsupported`);break}}d&&(n=null);for(let K=0;K<u.length;K++)fy(u[K],t,n,l)}function JS(a){return te.isColorLike(a)}function Eg(a){return a instanceof Zr}function zg(a){return a instanceof qi}function $S(a){return a instanceof Nt}function t2(a,t,n){const l=te.shared.setValue(t??0);return a.color=l.toNumber(),a.alpha=l.alpha===1?n.alpha:l.alpha,a.texture=Nt.WHITE,{...n,...a}}function e2(a,t,n){return a.texture=t,{...n,...a}}function Rg(a,t,n){return a.fill=t,a.color=16777215,a.texture=t.texture,a.matrix=t.transform,{...n,...a}}function Bg(a,t,n){return t.buildGradient(),a.fill=t,a.color=16777215,a.texture=t.texture,a.matrix=t.transform,a.textureSpace=t.textureSpace,{...n,...a}}function i2(a,t){const n={...t,...a},l=te.shared.setValue(n.color);return n.alpha*=l.alpha,n.color=l.toNumber(),n}function qn(a,t){if(a==null)return null;const n={},l=a;return JS(a)?t2(n,a,t):$S(a)?e2(n,a,t):Eg(a)?Rg(n,a,t):zg(a)?Bg(n,a,t):l.fill&&Eg(l.fill)?Rg(l,l.fill,t):l.fill&&zg(l.fill)?Bg(l,l.fill,t):i2(l,t)}function Vr(a,t){const{width:n,alignment:l,miterLimit:u,cap:o,join:h,pixelLine:d,...m}=t,p=qn(a,m);return p?{width:n,alignment:l,miterLimit:u,cap:o,join:h,pixelLine:d,...p}:null}const n2=new de,Ng=new yt,dh=class xi extends _i{constructor(){super(...arguments),this.uid=Vt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Yi,this._transform=new yt,this._fillStyle={...xi.defaultFillStyle},this._strokeStyle={...xi.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new ri,this._boundsDirty=!0}clone(){const t=new xi;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=qn(t,xi.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=Vr(t,xi.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=qn(t,xi.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=qn(t,xi.defaultStrokeStyle),this}texture(t,n,l,u,o,h){return this.instructions.push({action:"texture",data:{image:t,dx:l||0,dy:u||0,dw:o||t.frame.width,dh:h||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?te.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Yi,this}fill(t,n){let l;const u=this.instructions[this.instructions.length-1];return this._tick===0&&u?.action==="stroke"?l=u.data.path:l=this._activePath.clone(),l?(t!=null&&(n!==void 0&&typeof t=="number"&&(Mt(Xt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:n}),this._fillStyle=qn(t,xi.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:l}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:n}=this._activePath.getLastPoint(de.shared);this._activePath.clear(),this._activePath.moveTo(t,n)}stroke(t){let n;const l=this.instructions[this.instructions.length-1];return this._tick===0&&l?.action==="fill"?n=l.data.path:n=this._activePath.clone(),n?(t!=null&&(this._strokeStyle=Vr(t,xi.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const n=this.instructions[this.instructions.length-1-t],l=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(l);else{n.data.hole=l;break}}return this._initNextPathLocation(),this}arc(t,n,l,u,o,h){this._tick++;const d=this._transform;return this._activePath.arc(d.a*t+d.c*n+d.tx,d.b*t+d.d*n+d.ty,l,u,o,h),this}arcTo(t,n,l,u,o){this._tick++;const h=this._transform;return this._activePath.arcTo(h.a*t+h.c*n+h.tx,h.b*t+h.d*n+h.ty,h.a*l+h.c*u+h.tx,h.b*l+h.d*u+h.ty,o),this}arcToSvg(t,n,l,u,o,h,d){this._tick++;const m=this._transform;return this._activePath.arcToSvg(t,n,l,u,o,m.a*h+m.c*d+m.tx,m.b*h+m.d*d+m.ty),this}bezierCurveTo(t,n,l,u,o,h,d){this._tick++;const m=this._transform;return this._activePath.bezierCurveTo(m.a*t+m.c*n+m.tx,m.b*t+m.d*n+m.ty,m.a*l+m.c*u+m.tx,m.b*l+m.d*u+m.ty,m.a*o+m.c*h+m.tx,m.b*o+m.d*h+m.ty,d),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,n,l,u){return this._tick++,this._activePath.ellipse(t,n,l,u,this._transform.clone()),this}circle(t,n,l){return this._tick++,this._activePath.circle(t,n,l,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,n){this._tick++;const l=this._transform;return this._activePath.lineTo(l.a*t+l.c*n+l.tx,l.b*t+l.d*n+l.ty),this}moveTo(t,n){this._tick++;const l=this._transform,u=this._activePath.instructions,o=l.a*t+l.c*n+l.tx,h=l.b*t+l.d*n+l.ty;return u.length===1&&u[0].action==="moveTo"?(u[0].data[0]=o,u[0].data[1]=h,this):(this._activePath.moveTo(o,h),this)}quadraticCurveTo(t,n,l,u,o){this._tick++;const h=this._transform;return this._activePath.quadraticCurveTo(h.a*t+h.c*n+h.tx,h.b*t+h.d*n+h.ty,h.a*l+h.c*u+h.tx,h.b*l+h.d*u+h.ty,o),this}rect(t,n,l,u){return this._tick++,this._activePath.rect(t,n,l,u,this._transform.clone()),this}roundRect(t,n,l,u,o){return this._tick++,this._activePath.roundRect(t,n,l,u,o,this._transform.clone()),this}poly(t,n){return this._tick++,this._activePath.poly(t,n,this._transform.clone()),this}regularPoly(t,n,l,u,o=0,h){return this._tick++,this._activePath.regularPoly(t,n,l,u,o,h),this}roundPoly(t,n,l,u,o,h){return this._tick++,this._activePath.roundPoly(t,n,l,u,o,h),this}roundShape(t,n,l,u){return this._tick++,this._activePath.roundShape(t,n,l,u),this}filletRect(t,n,l,u,o){return this._tick++,this._activePath.filletRect(t,n,l,u,o),this}chamferRect(t,n,l,u,o,h){return this._tick++,this._activePath.chamferRect(t,n,l,u,o,h),this}star(t,n,l,u,o=0,h=0){return this._tick++,this._activePath.star(t,n,l,u,o,h,this._transform.clone()),this}svg(t){return this._tick++,WS(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,n=t){return this._transform.scale(t,n),this}setTransform(t,n,l,u,o,h){return t instanceof yt?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,n,l,u,o,h),this)}transform(t,n,l,u,o,h){return t instanceof yt?(this._transform.append(t),this):(Ng.set(t,n,l,u,o,h),this._transform.append(Ng),this)}translate(t,n=t){return this._transform.translate(t,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const t=this._bounds;t.clear();for(let n=0;n<this.instructions.length;n++){const l=this.instructions[n],u=l.action;if(u==="fill"){const o=l.data;t.addBounds(o.path.bounds)}else if(u==="texture"){const o=l.data;t.addFrame(o.dx,o.dy,o.dx+o.dw,o.dy+o.dh,o.transform)}if(u==="stroke"){const o=l.data,h=o.style.alignment,d=o.style.width*(1-h),m=o.path.bounds;t.addFrame(m.minX-d,m.minY-d,m.maxX+d,m.maxY+d)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const n=this.instructions;let l=!1;for(let u=0;u<n.length;u++){const o=n[u],h=o.data,d=h.path;if(!o.action||!d)continue;const m=h.style,p=d.shapePath.shapePrimitives;for(let g=0;g<p.length;g++){const x=p[g].shape;if(!m||!x)continue;const v=p[g].transform,_=v?v.applyInverse(t,n2):t;if(o.action==="fill")l=x.contains(_.x,_.y);else{const A=m;l=x.strokeContains(_.x,_.y,A.width,A.alignment)}const S=h.hole;if(S){const A=S.shapePath?.shapePrimitives;if(A)for(let T=0;T<A.length;T++)A[T].shape.contains(_.x,_.y)&&(l=!1)}if(l)return!0}}return l}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const l=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(l)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(l))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};dh.defaultFillStyle={color:16777215,alpha:1,texture:Nt.WHITE,matrix:null,fill:null,textureSpace:"local"};dh.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Nt.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let ai=dh;const mh=class Ns extends _i{constructor(t={}){super(),this.uid=Vt("textStyle"),this._tick=0,s2(t);const n={...Ns.defaultTextStyle,...t};for(const l in n){const u=l;this[u]=n[l]}this.update(),this._tick=0}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.update())}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...Ns.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...Ns.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily!==t&&(this._fontFamily=t,this.update())}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.update())}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.update())}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.update())}get filters(){return this._filters}set filters(t){this._filters!==t&&(this._filters=Object.freeze(t),this.update())}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.update())}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...ai.defaultFillStyle,...t},()=>{this._fill=qn({...this._originalFill},ai.defaultFillStyle)})),this._fill=qn(t===0?"black":t,ai.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...ai.defaultStrokeStyle,...t},()=>{this._stroke=Vr({...this._originalStroke},ai.defaultStrokeStyle)})),this._stroke=Vr(t,ai.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const t=Ns.defaultTextStyle;for(const n in t)this[n]=t[n]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new Ns({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let n=0;n<this._filters.length;n++)t+=this._filters[n].padding;return Math.max(this._padding,t)}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const l=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(l),this._originalFill?.texture&&this._originalFill.texture.destroy(l),this._stroke?.texture&&this._stroke.texture.destroy(l),this._originalStroke?.texture&&this._originalStroke.texture.destroy(l)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,n){return new Proxy(t,{set:(l,u,o)=>(l[u]===o||(l[u]=o,n?.(u,o),this.update()),!0)})}_isFillStyle(t){return(t??null)!==null&&!(te.isColorLike(t)||t instanceof qi||t instanceof Zr)}};mh.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};mh.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ph=mh;function s2(a){const t=a;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const n=ph.defaultDropShadow;a.dropShadow={alpha:t.dropShadowAlpha??n.alpha,angle:t.dropShadowAngle??n.angle,blur:t.dropShadowBlur??n.blur,color:t.dropShadowColor??n.color,distance:t.dropShadowDistance??n.distance}}if(t.strokeThickness!==void 0){Mt(Xt,"strokeThickness is now a part of stroke");const n=t.stroke;let l={};if(te.isColorLike(n))l.color=n;else if(n instanceof qi||n instanceof Zr)l.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))l=n;else throw new Error("Invalid stroke value.");a.stroke={...l,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){if(Mt(Xt,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(t.fill)||t.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");t.fill.length!==t.fillGradientStops.length&&ye("The number of fill colors must match the number of fill gradient stops.");const n=new qi({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),l=t.fillGradientStops.slice(),u=t.fill.map(o=>te.shared.setValue(o).toNumber());l.forEach((o,h)=>{n.addColorStop(o,u[h])}),a.fill={fill:n}}}class a2{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,n){const l=je.get().createCanvas();l.width=t,l.height=n;const u=l.getContext("2d");return{canvas:l,context:u}}getOptimalCanvasAndContext(t,n,l=1){t=Math.ceil(t*l-1e-6),n=Math.ceil(n*l-1e-6),t=Os(t),n=Os(n);const u=(t<<17)+(n<<1);this._canvasPool[u]||(this._canvasPool[u]=[]);let o=this._canvasPool[u].pop();return o||(o=this._createCanvasAndContext(t,n)),o}returnCanvasAndContext(t){const n=t.canvas,{width:l,height:u}=n,o=(l<<17)+(u<<1);t.context.resetTransform(),t.context.clearRect(0,0,l,u),this._canvasPool[o].push(t)}clear(){this._canvasPool={}}}const eh=new a2;el.register(eh);const Dg=1e5;function Og(a,t,n,l=0){if(a.texture===Nt.WHITE&&!a.fill)return te.shared.setValue(a.color).setAlpha(a.alpha??1).toHexa();if(a.fill){if(a.fill instanceof Zr){const u=a.fill,o=t.createPattern(u.texture.source.resource,"repeat"),h=u.transform.copyTo(yt.shared);return h.scale(u.texture.frame.width,u.texture.frame.height),o.setTransform(h),o}else if(a.fill instanceof qi){const u=a.fill,o=u.type==="linear",h=u.textureSpace==="local";let d=1,m=1;h&&n&&(d=n.width+l,m=n.height+l);let p,g=!1;if(o){const{start:x,end:v}=u;p=t.createLinearGradient(x.x*d,x.y*m,v.x*d,v.y*m),g=Math.abs(v.x-x.x)<Math.abs((v.y-x.y)*.1)}else{const{center:x,innerRadius:v,outerCenter:_,outerRadius:S}=u;p=t.createRadialGradient(x.x*d,x.y*m,v*d,_.x*d,_.y*m,S*d)}if(g&&h&&n){const x=n.lineHeight/m;for(let v=0;v<n.lines.length;v++){const _=(v*n.lineHeight+l/2)/m;u.colorStops.forEach(S=>{const A=_+S.offset*x;p.addColorStop(Math.floor(A*Dg)/Dg,te.shared.setValue(S.color).toHex())})}}else u.colorStops.forEach(x=>{p.addColorStop(x.offset,te.shared.setValue(x.color).toHex())});return p}}else{const u=t.createPattern(a.texture.source.resource,"repeat"),o=a.matrix.copyTo(yt.shared);return o.scale(a.texture.frame.width,a.texture.frame.height),u.setTransform(o),u}return ye("FillStyle not recognised",a),"red"}class Fe extends ah{constructor(t){t instanceof ai&&(t={context:t});const{context:n,roundPixels:l,...u}=t||{};super({label:"Graphics",...u}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new ai,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=l??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||t?.context===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,n){return this.context[t](...n),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new Fe(this._context.clone()):(this._ownedContext=null,new Fe(this._context))}lineStyle(t,n,l){Mt(Xt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const u={};return t&&(u.width=t),n&&(u.color=n),l&&(u.alpha=l),this.context.strokeStyle=u,this}beginFill(t,n){Mt(Xt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const l={};return t!==void 0&&(l.color=t),n!==void 0&&(l.alpha=n),this.context.fillStyle=l,this}endFill(){Mt(Xt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==ai.defaultStrokeStyle.width||t.color!==ai.defaultStrokeStyle.color||t.alpha!==ai.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return Mt(Xt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return Mt(Xt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return Mt(Xt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return Mt(Xt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return Mt(Xt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return Mt(Xt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}class l2 extends ah{constructor(t,n){const{text:l,resolution:u,style:o,anchor:h,width:d,height:m,roundPixels:p,...g}=t;super({...g}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=n,this.text=l??"",this.style=o,this.resolution=u??null,this.allowChildren=!1,this._anchor=new he({_onUpdate:()=>{this.onViewUpdate()}}),h&&(this.anchor=h),this.roundPixels=p??!1,d!==void 0&&(this.width=d),m!==void 0&&(this.height=m)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}set resolution(t){this._autoResolution=t===null,this._resolution=t,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(t){t||(t={}),this._style?.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,n){typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,this.bounds.width),n!==void 0&&this._setHeight(n,this.bounds.height)}containsPoint(t){const n=this.bounds.width,l=this.bounds.height,u=-n*this.anchor.x;let o=0;return t.x>=u&&t.x<=u+n&&(o=-l*this.anchor.y,t.y>=o&&t.y<=o+l)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,(typeof t=="boolean"?t:t?.style)&&this._style.destroy(t),this._style=null,this._text=null}get styleKey(){return`${this._text}:${this._style.styleKey}:${this._resolution}`}}function r2(a,t){let n=a[0]??{};return(typeof n=="string"||a[1])&&(Mt(Xt,`use new ${t}({ text: "hi!", style }) instead`),n={text:n,style:a[1]}),n}let jn=null,ki=null;function u2(a,t){jn||(jn=je.get().createCanvas(256,128),ki=jn.getContext("2d",{willReadFrequently:!0}),ki.globalCompositeOperation="copy",ki.globalAlpha=1),(jn.width<a||jn.height<t)&&(jn.width=Os(a),jn.height=Os(t))}function Gg(a,t,n){for(let l=0,u=4*n*t;l<t;++l,u+=4)if(a[u+3]!==0)return!1;return!0}function Ug(a,t,n,l,u){const o=4*t;for(let h=l,d=l*o+4*n;h<=u;++h,d+=o)if(a[d+3]!==0)return!1;return!0}function o2(...a){let t=a[0];t.canvas||(t={canvas:a[0],resolution:a[1]});const{canvas:n}=t,l=Math.min(t.resolution??1,1),u=t.width??n.width,o=t.height??n.height;let h=t.output;if(u2(u,o),!ki)throw new TypeError("Failed to get canvas 2D context");ki.drawImage(n,0,0,u,o,0,0,u*l,o*l);const m=ki.getImageData(0,0,u,o).data;let p=0,g=0,x=u-1,v=o-1;for(;g<o&&Gg(m,u,g);)++g;if(g===o)return Zt.EMPTY;for(;Gg(m,u,v);)--v;for(;Ug(m,u,p,g,v);)++p;for(;Ug(m,u,x,g,v);)--x;return++x,++v,ki.globalCompositeOperation="source-over",ki.strokeRect(p,g,x-p,v-g),ki.globalCompositeOperation="copy",h??(h=new Zt),h.set(p/l,g/l,(x-p)/l,(v-g)/l),h}const jg=new Zt;class c2{getCanvasAndContext(t){const{text:n,style:l,resolution:u=1}=t,o=l._getFinalPadding(),h=Bs.measureText(n||" ",l),d=Math.ceil(Math.ceil(Math.max(1,h.width)+o*2)*u),m=Math.ceil(Math.ceil(Math.max(1,h.height)+o*2)*u),p=eh.getOptimalCanvasAndContext(d,m);this._renderTextToCanvas(n,l,o,u,p);const g=l.trim?o2({canvas:p.canvas,width:d,height:m,resolution:1,output:jg}):jg.set(0,0,d,m);return{canvasAndContext:p,frame:g}}returnCanvasAndContext(t){eh.returnCanvasAndContext(t)}_renderTextToCanvas(t,n,l,u,o){const{canvas:h,context:d}=o,m=K0(n),p=Bs.measureText(t||" ",n),g=p.lines,x=p.lineHeight,v=p.lineWidths,_=p.maxLineWidth,S=p.fontProperties,A=h.height;if(d.resetTransform(),d.scale(u,u),d.textBaseline=n.textBaseline,n._stroke?.width){const B=n._stroke;d.lineWidth=B.width,d.miterLimit=B.miterLimit,d.lineJoin=B.join,d.lineCap=B.cap}d.font=m;let T,E;const N=n.dropShadow?2:1;for(let B=0;B<N;++B){const j=n.dropShadow&&B===0,Q=j?Math.ceil(Math.max(1,A)+l*2):0,P=Q*u;if(j){d.fillStyle="black",d.strokeStyle="black";const K=n.dropShadow,F=K.color,I=K.alpha;d.shadowColor=te.shared.setValue(F).setAlpha(I).toRgbaString();const ct=K.blur*u,_t=K.distance*u;d.shadowBlur=ct,d.shadowOffsetX=Math.cos(K.angle)*_t,d.shadowOffsetY=Math.sin(K.angle)*_t+P}else{if(d.fillStyle=n._fill?Og(n._fill,d,p,l*2):null,n._stroke?.width){const K=n._stroke.width*.5+l*2;d.strokeStyle=Og(n._stroke,d,p,K)}d.shadowColor="black"}let k=(x-S.fontSize)/2;x-S.fontSize<0&&(k=0);const it=n._stroke?.width??0;for(let K=0;K<g.length;K++)T=it/2,E=it/2+K*x+S.ascent+k,n.align==="right"?T+=_-v[K]:n.align==="center"&&(T+=(_-v[K])/2),n._stroke?.width&&this._drawLetterSpacing(g[K],n,o,T+l,E+l-Q,!0),n._fill!==void 0&&this._drawLetterSpacing(g[K],n,o,T+l,E+l-Q)}}_drawLetterSpacing(t,n,l,u,o,h=!1){const{context:d}=l,m=n.letterSpacing;let p=!1;if(Bs.experimentalLetterSpacingSupported&&(Bs.experimentalLetterSpacing?(d.letterSpacing=`${m}px`,d.textLetterSpacing=`${m}px`,p=!0):(d.letterSpacing="0px",d.textLetterSpacing="0px")),m===0||p){h?d.strokeText(t,u,o):d.fillText(t,u,o);return}let g=u;const x=Bs.graphemeSegmenter(t);let v=d.measureText(t).width,_=0;for(let S=0;S<x.length;++S){const A=x[S];h?d.strokeText(A,g,o):d.fillText(A,g,o);let T="";for(let E=S+1;E<x.length;++E)T+=x[E];_=d.measureText(T).width,g+=v-_+m,v=_}}}const Hg=new c2;class h2 extends l2{constructor(...t){const n=r2(t,"Text");super(n,ph),this.renderPipeId="text",n.textureStyle&&(this.textureStyle=n.textureStyle instanceof Yr?n.textureStyle:new Yr(n.textureStyle))}updateBounds(){const t=this._bounds,n=this._anchor;let l=0,u=0;if(this._style.trim){const{frame:o,canvasAndContext:h}=Hg.getCanvasAndContext({text:this.text,style:this._style,resolution:1});Hg.returnCanvasAndContext(h),l=o.width,u=o.height}else{const o=Bs.measureText(this._text,this._style);l=o.width,u=o.height}t.minX=-n._x*l,t.maxX=t.minX+l,t.minY=-n._y*u,t.maxY=t.minY+u}}We.add(fb,db);const f2=({category:a,isSelected:t,onSelect:n})=>G.jsxs("button",{onClick:n,className:`flex flex-col items-center justify-center px-3 py-2 rounded-xl transition-all min-w-[60px] ${t?"bg-gradient-to-br from-pink-500 to-purple-600 shadow-lg shadow-pink-500/30 scale-105":"bg-purple-800/50 hover:bg-purple-700/50"}`,children:[G.jsx("span",{className:"text-2xl",children:a.icon}),G.jsx("span",{className:`text-xs mt-1 ${t?"text-white":"text-purple-300"}`,children:a.name})]}),d2=({item:a,onSelect:t})=>{const n={common:"from-gray-500 to-gray-600 border-gray-400",rare:"from-blue-500 to-purple-600 border-blue-400",legendary:"from-yellow-400 to-orange-500 border-yellow-300"},l={common:"",rare:"shadow-blue-500/30",legendary:"shadow-yellow-500/50 animate-pulse"};return G.jsxs("button",{onClick:t,className:`relative w-16 h-16 rounded-xl bg-gradient-to-br ${n[a.rarity]}
        border-2 flex items-center justify-center transition-all hover:scale-110
        shadow-lg ${l[a.rarity]}`,children:[G.jsx("div",{className:"w-10 h-10 rounded-full bg-white/80 flex items-center justify-center",title:a.name,children:m2(a.category)}),a.rarity==="legendary"&&G.jsx("span",{className:"absolute -top-1 -right-1 text-sm",children:""}),a.rarity==="rare"&&G.jsx("span",{className:"absolute -top-1 -right-1 text-sm",children:""})]})};function m2(a){return{lips:"",eyes:"",cheeks:"",hair:"",accessories:"",wings:""}[a]}const p2=()=>{const{state:a,selectCategory:t,applyItem:n,undoItem:l,resetMakeover:u,completeMakeover:o}=yn(),{selectedCategory:h,appliedItems:d,currentLevel:m}=a;if(!m)return null;const p=h?J_(h):[],g=x=>{const v={...x.position};n(x,v)};return G.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-purple-900 via-purple-900/95 to-purple-900/80 backdrop-blur-sm",children:[G.jsx("div",{className:"flex gap-2 px-4 py-3 overflow-x-auto scrollbar-hide",children:$_.map(x=>G.jsx(f2,{category:x,isSelected:h===x.id,onSelect:()=>t(x.id)},x.id))}),G.jsx("div",{className:"px-4 py-3 border-t border-purple-700/50",children:G.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:p.map(x=>G.jsx(d2,{item:x,onSelect:()=>g(x)},x.id))})}),G.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-t border-purple-700/50",children:[G.jsxs("div",{className:"flex gap-2",children:[G.jsx("button",{onClick:l,disabled:d.length===0,className:"px-4 py-2 rounded-xl bg-purple-700 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:" Undo"}),G.jsx("button",{onClick:u,disabled:d.length===0,className:"px-4 py-2 rounded-xl bg-purple-700 hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:" Reset"})]}),G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsxs("span",{className:"text-purple-300 text-sm",children:[d.length," items"]}),G.jsx("button",{onClick:o,disabled:d.length===0,className:"px-6 py-2 rounded-xl bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-400 hover:to-purple-400 disabled:opacity-50 disabled:cursor-not-allowed font-bold transition-all shadow-lg shadow-pink-500/30",children:" Done!"})]})]})]})},g2=()=>{const{state:a,goToLevelSelect:t}=yn(),{currentLevel:n,appliedItems:l}=a,u=$t.useRef(null),o=$t.useRef(null),h=$t.useRef([]),[d,m]=$t.useState(!1);$t.useEffect(()=>{if(!u.current||o.current)return;(async()=>{const S=new F0;await S.init({width:window.innerWidth,height:window.innerHeight,backgroundColor:1973067,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0}),u.current?.appendChild(S.canvas),o.current=S;const A=new li;A.label="main",S.stage.addChild(A);const T=new li;T.label="character",T.x=S.screen.width/2,T.y=S.screen.height/2-80,A.addChild(T);const E=new li;E.label="particles",A.addChild(E),p(T),S.ticker.add(N=>{g(E,N.deltaTime)}),m(!0)})();const _=()=>{if(o.current){o.current.renderer.resize(window.innerWidth,window.innerHeight);const A=o.current.stage.getChildByLabel("main")?.getChildByLabel("character");A&&(A.x=window.innerWidth/2,A.y=window.innerHeight/2-80)}};return window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_),o.current&&(o.current.destroy(!0,{children:!0,texture:!0}),o.current=null)}},[]);const p=v=>{v.removeChildren();const _=new Fe;_.circle(0,100,80),_.fill({color:16766408}),v.addChild(_);const S=new Fe;S.circle(0,-20,100),S.fill({color:16766408}),v.addChild(S);const A=new Fe;A.ellipse(-35,-30,25,35),A.fill({color:16777215}),A.circle(-35,-25,15),A.fill({color:6514417}),A.circle(-30,-30,6),A.fill({color:16777215}),v.addChild(A);const T=new Fe;T.ellipse(35,-30,25,35),T.fill({color:16777215}),T.circle(35,-25,15),T.fill({color:6514417}),T.circle(40,-30,6),T.fill({color:16777215}),v.addChild(T);const E=new Fe;E.circle(0,10,5),E.fill({color:16758952}),v.addChild(E);const N=new Fe;N.ellipse(0,45,20,8),N.fill({color:16758465}),v.addChild(N);const B=new Fe;if(B.ellipse(0,-80,110,60),B.fill({color:9133302}),v.addChild(B),n){const j=new ph({fontFamily:"Comic Sans MS",fontSize:18,fill:16777215,align:"center"}),Q=new h2({text:n.character.name,style:j});Q.anchor.set(.5),Q.y=220,v.addChild(Q)}},g=(v,_)=>{h.current=h.current.filter(S=>(S.x+=S.vx*_,S.y+=S.vy*_,S.vy+=.1*_,S.life-=_,S.rotation+=.1*_,S.life>0)),v.removeChildren(),h.current.forEach(S=>{const A=new Fe,T=S.life/S.maxLife;A.star(0,0,4,S.size,S.size*.5),A.fill({color:S.color,alpha:T}),A.x=S.x,A.y=S.y,A.rotation=S.rotation,v.addChild(A)})},x=$t.useCallback((v,_,S=10)=>{const A=[16707722,16498468,16020150,12616956,6333946];for(let T=0;T<S;T++)h.current.push({x:v,y:_,vx:(Math.random()-.5)*8,vy:(Math.random()-.5)*8-3,life:30+Math.random()*30,maxLife:60,size:4+Math.random()*8,rotation:Math.random()*Math.PI*2,color:A[Math.floor(Math.random()*A.length)]})},[]);return $t.useEffect(()=>{if(!o.current||!d)return;const _=o.current.stage.getChildByLabel("main")?.getChildByLabel("character");_&&(p(_),l.forEach((S,A)=>{const T=new Fe,N={lips:16739210,eyes:8490232,cheeks:16622767,hair:10980346,accessories:16498468,wings:6809849}[S.item.category]||16777215;T.circle(S.position.x,S.position.y,15),T.fill({color:N,alpha:.8}),T.circle(S.position.x,S.position.y,20),T.fill({color:N,alpha:.3}),_.addChild(T),A===l.length-1&&x(_.x+S.position.x,_.y+S.position.y,15)}))},[l,d,n,x]),$t.useEffect(()=>{if(!o.current||!d)return;const v=setInterval(()=>{Math.random()>.7&&x(Math.random()*window.innerWidth,Math.random()*(window.innerHeight*.6),3)},500);return()=>clearInterval(v)},[d,x]),n?G.jsxs("div",{className:"w-full h-full relative overflow-hidden",children:[G.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4 bg-gradient-to-b from-purple-900/80 to-transparent",children:[G.jsx("button",{onClick:t,className:"w-12 h-12 rounded-full bg-purple-700/80 hover:bg-purple-600 flex items-center justify-center text-2xl transition-colors backdrop-blur-sm",children:""}),G.jsxs("div",{className:"text-center",children:[G.jsx("h2",{className:"text-lg font-bold text-pink-200",children:n.name}),G.jsx("p",{className:"text-sm text-purple-300",children:n.character.name})]}),G.jsx("div",{className:"w-12"})]}),G.jsx("div",{ref:u,className:"w-full h-full"}),G.jsx(p2,{}),!d&&G.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-purple-900",children:G.jsxs("div",{className:"text-center",children:[G.jsx("span",{className:"text-4xl animate-bounce",children:""}),G.jsx("p",{className:"text-pink-200 mt-4",children:"Loading magic..."})]})})]}):null};function y2(){const{state:a}=yn();switch(a.screen){case"menu":return G.jsx(wp,{});case"levelSelect":return G.jsx(sb,{});case"collection":return G.jsx(ub,{});case"game":return G.jsx(g2,{});case"result":return G.jsx(ob,{});default:return G.jsx(wp,{})}}function x2(){return G.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-900 via-pink-800 to-indigo-900",children:G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"text-6xl animate-bounce mb-4",children:""}),G.jsx("h1",{className:"text-2xl font-bold text-pink-200 mb-2",children:"Enchanted Glamour Kingdom"}),G.jsx("p",{className:"text-purple-300",children:"Loading magic..."})]})})}function _2(){const{state:a}=yn();return a.isLoading?G.jsx(x2,{}):G.jsx(y2,{})}function b2(){return G.jsx(I_,{children:G.jsx("div",{className:"w-screen h-screen overflow-hidden",children:G.jsx(_2,{})})})}V_.createRoot(document.getElementById("root")).render(G.jsx($t.StrictMode,{children:G.jsx(b2,{})}));export{i1 as $,V0 as A,Me as B,li as C,je as D,Et as E,m0 as F,Qr as G,Xp as H,Fa as I,w1 as J,U1 as K,el as L,yt as M,Vt as N,Zt as O,de as P,tv as Q,Qc as R,rh as S,Er as T,Xc as U,Pp as V,Mc as W,Qp as X,s1 as Y,Yr as Z,te as _,N0 as a,c0 as a0,P0 as a1,Mt as a2,Xt as a3,av as a4,Rv as a5,Tv as a6,Kv as a7,Wv as a8,iS as a9,sS as aa,aS as ab,K0 as ac,Bs as ad,qr as ae,Og as af,ph as ag,rv as ah,Rs as ai,ay as aj,og as ak,rg as al,Fe as am,Mb as an,Hg as ao,uy as ap,_i as b,bv as c,$a as d,We as e,ug as f,yv as g,kr as h,lh as i,Y0 as j,v0 as k,ui as l,U0 as m,eh as n,Fv as o,Iv as p,tS as q,kb as r,nS as s,Nt as t,Ab as u,lS as v,ye as w,Ie as x,r0 as y,ri as z};
